import{R as de,j as e,f as a,a as u,d as J}from"./index-bd01013b.js";import{B as te,a as g}from"./BotonConTooltip-00fde3ca.js";import{Q as R}from"./QueueControls-2dbc4c6d.js";import{u as le}from"./useDragToScroll-836d6b51.js";const me=""+new URL("drone-basic-85491f9f.png",import.meta.url).href,xe=""+new URL("drone-medium-fd303461.png",import.meta.url).href,pe=""+new URL("drone-advanced-474a19f4.png",import.meta.url).href,he=""+new URL("drone-expedition-cdc67b44.png",import.meta.url).href,je=""+new URL("drone-reinforced-basic-d13b19bd.png",import.meta.url).href,fe=""+new URL("drone-reinforced-medium-4a10a63f.png",import.meta.url).href,ve=""+new URL("drone-reinforced-advanced-f52beac6.png",import.meta.url).href,Ne=""+new URL("drone-expedition-v2-cdfeb4b3.png",import.meta.url).href,ge=""+new URL("drone-golem-bb288f4d.png",import.meta.url).href,De=""+new URL("drone-wyrm-2cd90d83.png",import.meta.url).href,M=({progress:T,time:y})=>e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${T/y*100}%`}})}),Me=de.memo(({resources:T,bodegaResources:y,drones:r,hasBuilt:t,queues:i,upgrades:o,onBuildBasicDrone:S,onBuildMediumDrone:G,onBuildAdvancedDrone:O,onBuildReinforcedBasic:W,onBuildReinforcedMedium:I,onBuildReinforcedAdvanced:V,onBuildGolemDrone:B,onBuildExpeditionDrone:Q,onBuildExpeditionV2Drone:X,onBuildWyrm:L,onDismantle:m,onRetrofit:U,buyAmount:c,onSetBuyAmount:Y,onClose:Z,onCancel:l,numberFormat:s})=>{const{scrap:n}=T,{metalRefinado:d,aceroEstructural:k}=y||{},_=le(),A=20,b=300,z=1500,x={scrap:600,metal:5},p={scrap:2500,metal:15},h={scrap:7e3,metal:30},j={scrap:3e3,metal:20},f={scrap:15e3,metal:100},v={scrap:75e3,steel:5},N={scrap:2e5,steel:15},D=E=>{const H=E.scrap>0?Math.floor(n/E.scrap):1/0,P=E.metal&&E.metal>0?Math.floor(d/E.metal):1/0,w=E.steel&&E.steel>0?Math.floor(k/E.steel):1/0;return Math.min(H,P,w)},F=D({scrap:A}),q=D({scrap:b}),ee=D({scrap:z}),ie=D(x),re=D(p),se=D(h),ne=D(j),ae=D(f),oe=D(v),ce=D(N),C=(E,H)=>{const P=E.filter(w=>w.current<w.amount);return P.length===0?"":"Requiere: "+P.map(w=>`${w.text} (${a(w.amount,H)})`).join(", ")};return e.jsx("div",{className:"workshop-container",children:e.jsxs("div",{className:"workshop-content-area",ref:_,children:[e.jsx("button",{onClick:Z,className:"close-button",children:"×"}),e.jsxs("div",{className:"drone-category",style:{borderColor:"#F59E0B"},children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"DRONES DE RECICLADO"}),e.jsx(te,{buyAmount:c,onSetBuyAmount:Y}),e.jsxs("div",{className:`drone-item ${n>=A?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#F59E0B"},children:"Dron Básico de Reciclado (DBR)"}),e.jsxs("p",{children:["Producción: +",a(1,s)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(1,s)," energía"]}),e.jsxs("p",{children:["Coste: ",a(A,s)," chatarra"]}),e.jsxs("p",{children:["Flota: ",r.basic," | En cola: ",i.basic.queue," ",i.basic.queue>0?`| Tiempo: ~${u(i.basic.queue*i.basic.time)}`:""]})]}),e.jsxs("div",{className:"controls-container",children:[e.jsx($,{upgrades:o,droneType:"basic",onDismantle:m,droneCount:r.basic,buyAmount:c}),e.jsx(K,{resources:T,bodegaResources:y,upgrades:o,droneType:"basic",toDrone:"medium",onRetrofit:U,droneCount:r.basic,numberFormat:s})]}),i.basic.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.basic.time,"s | En cola: ",i.basic.queue]}),e.jsx(M,{progress:i.basic.progress,time:i.basic.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:S,disabled:n<A,tooltipText:C([{resource:"scrap",amount:A,current:n,text:"Chatarra"}],s),className:`build-button ${n>=A?"unlocked":""}`,children:["Encargar Dron Básico ",c==="max"&&`(${F})`]}),i.basic.queue>0&&e.jsx(R,{itemName:"basic",onCancel:l})]})]}),e.jsx("img",{src:me,alt:"Dron Básico",className:"drone-item-image"})]}),e.jsxs("div",{className:`drone-item ${n>=b&&(r.basic>=10||t.medium)?"unlocked":""} ${r.basic>=10||t.medium?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#06B6D4"},children:"Dron Medio de Reciclado (DMR)"}),e.jsxs("p",{children:["Producción: +",a(5,s)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(3,s)," energía"]}),e.jsxs("p",{children:["Coste: ",a(b,s)," chatarra"]}),e.jsxs("p",{children:["Flota: ",r.medium," | En cola: ",i.medium.queue," ",i.medium.queue>0?`| Tiempo: ~${u(i.medium.queue*i.medium.time)}`:""]}),e.jsx("p",{children:"Requisitos: 10 Drones Básicos (solo para el primero)"})]}),e.jsxs("div",{className:"controls-container",children:[e.jsx($,{upgrades:o,droneType:"medium",onDismantle:m,droneCount:r.medium,buyAmount:c}),e.jsx(K,{resources:T,bodegaResources:y,upgrades:o,droneType:"medium",toDrone:"advanced",onRetrofit:U,droneCount:r.medium,numberFormat:s})]}),i.medium.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.medium.time,"s | En cola: ",i.medium.queue]}),e.jsx(M,{progress:i.medium.progress,time:i.medium.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:G,disabled:n<b||r.basic<10&&!t.medium,tooltipText:C([{amount:b,current:n,text:"Chatarra"},{amount:10,current:r.basic,text:"Drones Básicos"}],s),className:`build-button ${n>=b&&(r.basic>=10||t.medium)?"unlocked":""}`,children:["Encargar Dron Medio ",c==="max"&&`(${q})`]}),i.medium.queue>0&&e.jsx(R,{itemName:"medium",onCancel:l})]}),r.basic<10&&!t.medium&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 10 Drones Básicos para desbloquear"})]}),e.jsx("img",{src:xe,alt:"Dron Medio",className:"drone-item-image"})]}),e.jsxs("div",{className:`drone-item ${n>=z&&(r.medium>=3||t.advanced)?"unlocked":""} ${r.medium>=3||t.advanced?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#22C55E"},children:"Dron Avanzado de Reciclado (DAR)"}),e.jsxs("p",{children:["Producción: +",a(20,s)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(5,s)," energía"]}),e.jsxs("p",{children:["Coste: ",a(z,s)," chatarra"]}),e.jsxs("p",{children:["Flota: ",r.advanced," | En cola: ",i.advanced.queue," ",i.advanced.queue>0?`| Tiempo: ~${u(i.advanced.queue*i.advanced.time)}`:""]}),e.jsx("p",{children:"Requisitos: 3 Drones Medios (solo para el primero)"})]}),e.jsx("div",{className:"controls-container",children:e.jsx($,{upgrades:o,droneType:"advanced",onDismantle:m,droneCount:r.advanced,buyAmount:c})}),i.advanced.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.advanced.time,"s | En cola: ",i.advanced.queue]}),e.jsx(M,{progress:i.advanced.progress,time:i.advanced.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:O,disabled:n<z||r.medium<3&&!t.advanced,tooltipText:C([{amount:z,current:n,text:"Chatarra"},{amount:3,current:r.medium,text:"Drones Medios"}],s),className:`build-button ${n>=z&&(r.medium>=3||t.advanced)?"unlocked":""}`,children:["Encargar Dron Avanzado ",c==="max"&&`(${ee})`]}),i.advanced.queue>0&&e.jsx(R,{itemName:"advanced",onCancel:l})]}),r.medium<3&&!t.advanced&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Drones Medios para desbloquear"})]}),e.jsx("img",{src:pe,alt:"Dron Avanzado",className:"drone-item-image"})]})]}),e.jsxs("div",{className:"drone-category",style:{borderColor:"#10B981"},children:[e.jsx("h3",{style:{color:"#10B981"},children:"DRONES DE EXPEDICIÓN"}),e.jsxs("div",{className:`drone-item ${n>=j.scrap&&d>=j.metal&&r.advanced>=2?"unlocked":""} ${r.advanced>=2?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#10B981"},children:"Dron de Expedición (DE-1)"}),e.jsx("p",{children:"Función: Realiza expediciones para obtener recursos especiales"}),e.jsxs("p",{children:["Consumo: ",a(2,s)," energía (en expediciones)"]}),e.jsxs("p",{children:["Coste: ",a(j.scrap,s)," chatarra, ",a(j.metal,s)," metal refinado"]}),e.jsx("p",{children:"Requisitos: 2 Drones Avanzados"}),e.jsxs("p",{children:["Flota: ",r.expeditionDrone," | En cola: ",i.expeditionDrone.queue," ",i.expeditionDrone.queue>0?`| Tiempo: ~${u(i.expeditionDrone.queue*i.expeditionDrone.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx($,{upgrades:o,droneType:"expeditionDrone",onDismantle:m,droneCount:r.expeditionDrone,buyAmount:c})}),i.expeditionDrone.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.expeditionDrone.time,"s | En cola: ",i.expeditionDrone.queue]}),e.jsx(M,{progress:i.expeditionDrone.progress,time:i.expeditionDrone.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:Q,disabled:n<j.scrap||d<j.metal||r.advanced<2,tooltipText:C([{amount:j.scrap,current:n,text:"Chatarra"},{amount:j.metal,current:d,text:"Metal Refinado"},{amount:2,current:r.advanced,text:"Drones Avanzados"}],s),className:`build-button ${n>=j.scrap&&d>=j.metal&&r.advanced>=2?"unlocked":""}`,children:["Encargar Dron de Expedición ",c==="max"&&`(${ne})`]}),i.expeditionDrone.queue>0&&e.jsx(R,{itemName:"expeditionDrone",onCancel:l})]}),r.advanced<2&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 2 Drones Avanzados para desbloquear"})]}),e.jsx("img",{src:he,alt:"Dron de Expedición",className:"drone-item-image"})]}),e.jsxs("div",{className:`drone-item ${n>=f.scrap&&d>=f.metal&&r.expeditionDrone>=5?"unlocked":""} ${r.expeditionDrone>=5?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#059669"},children:"Dron de Expedición v2 (DE-2)"}),e.jsx("p",{children:"Función: Realiza expediciones avanzadas para obtener recursos raros"}),e.jsxs("p",{children:["Consumo: ",a(5,s)," energía (en expediciones)"]}),e.jsxs("p",{children:["Coste: ",a(f.scrap,s)," chatarra, ",a(f.metal,s)," metal refinado"]}),e.jsx("p",{children:"Requisitos: 5 Drones de Expedición"}),e.jsxs("p",{children:["Flota: ",r.expeditionV2Drone," | En cola: ",i.expeditionV2Drone.queue," ",i.expeditionV2Drone.queue>0?`| Tiempo: ~${u(i.expeditionV2Drone.queue*i.expeditionV2Drone.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx($,{upgrades:o,droneType:"expeditionV2Drone",onDismantle:m,droneCount:r.expeditionV2Drone,buyAmount:c})}),i.expeditionV2Drone.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.expeditionV2Drone.time,"s | En cola: ",i.expeditionV2Drone.queue]}),e.jsx(M,{progress:i.expeditionV2Drone.progress,time:i.expeditionV2Drone.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:X,disabled:n<f.scrap||d<f.metal||r.expeditionDrone<5,tooltipText:C([{amount:f.scrap,current:n,text:"Chatarra"},{amount:f.metal,current:d,text:"Metal Refinado"},{amount:5,current:r.expeditionDrone,text:"Drones de Expedición"}],s),className:`build-button ${n>=f.scrap&&d>=f.metal&&r.expeditionDrone>=5?"unlocked":""}`,children:["Encargar Dron de Expedición v2 ",c==="max"&&`(${ae})`]}),i.expeditionV2Drone.queue>0&&e.jsx(R,{itemName:"expeditionV2Drone",onCancel:l})]}),r.expeditionDrone<5&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Drones de Expedición para desbloquear"})]}),e.jsx("img",{src:Ne,alt:"Dron de Expedición v2",className:"drone-item-image"})]})]}),(o.reinforcedBasicDrones>0||o.reinforcedMediumDrones>0||o.reinforcedAdvancedDrones>0)&&e.jsxs("div",{className:"drone-category",style:{borderColor:"#8B5CF6"},children:[e.jsx("h3",{style:{color:"#8B5CF6"},children:"DRONES REFORZADOS"}),o.reinforcedBasicDrones>0&&e.jsxs("div",{className:`drone-item ${n>=x.scrap&&d>=x.metal?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Básico Reforzado (DBR-F)"}),e.jsxs("p",{children:["Producción: +",a(8,s)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(3,s)," energía"]}),e.jsxs("p",{children:["Coste: ",a(x.scrap,s)," chatarra, ",a(x.metal,s)," metal refinado"]}),e.jsxs("p",{children:["Flota: ",r.reinforcedBasic," | En cola: ",i.reinforcedBasic.queue," ",i.reinforcedBasic.queue>0?`| Tiempo: ~${u(i.reinforcedBasic.queue*i.reinforcedBasic.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx($,{upgrades:o,droneType:"reinforcedBasic",onDismantle:m,droneCount:r.reinforcedBasic,buyAmount:c})}),i.reinforcedBasic.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.reinforcedBasic.time,"s | En cola: ",i.reinforcedBasic.queue]}),e.jsx(M,{progress:i.reinforcedBasic.progress,time:i.reinforcedBasic.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:W,disabled:n<x.scrap||d<x.metal,tooltipText:C([{amount:x.scrap,current:n,text:"Chatarra"},{amount:x.metal,current:d,text:"Metal Refinado"}],s),className:`build-button ${n>=x.scrap&&d>=x.metal?"unlocked":""}`,children:["Encargar Dron Básico Reforzado ",c==="max"&&`(${ie})`]}),i.reinforcedBasic.queue>0&&e.jsx(R,{itemName:"reinforcedBasic",onCancel:l})]})]}),e.jsx("img",{src:je,alt:"Dron Básico Reforzado",className:"drone-item-image"})]}),o.reinforcedMediumDrones>0&&e.jsxs("div",{className:`drone-item ${n>=p.scrap&&d>=p.metal?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Medio Reforzado (DMR-F)"}),e.jsxs("p",{children:["Producción: +",a(25,s)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(6,s)," energía"]}),e.jsxs("p",{children:["Coste: ",a(p.scrap,s)," chatarra, ",a(p.metal,s)," metal refinado"]}),e.jsxs("p",{children:["Flota: ",r.reinforcedMedium," | En cola: ",i.reinforcedMedium.queue," ",i.reinforcedMedium.queue>0?`| Tiempo: ~${u(i.reinforcedMedium.queue*i.reinforcedMedium.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx($,{upgrades:o,droneType:"reinforcedMedium",onDismantle:m,droneCount:r.reinforcedMedium,buyAmount:c})}),i.reinforcedMedium.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.reinforcedMedium.time,"s | En cola: ",i.reinforcedMedium.queue]}),e.jsx(M,{progress:i.reinforcedMedium.progress,time:i.reinforcedMedium.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:I,disabled:n<p.scrap||d<p.metal,tooltipText:C([{amount:p.scrap,current:n,text:"Chatarra"},{amount:p.metal,current:d,text:"Metal Refinado"}],s),className:`build-button ${n>=p.scrap&&d>=p.metal?"unlocked":""}`,children:["Encargar Dron Medio Reforzado ",c==="max"&&`(${re})`]}),i.reinforcedMedium.queue>0&&e.jsx(R,{itemName:"reinforcedMedium",onCancel:l})]})]}),e.jsx("img",{src:fe,alt:"Dron Medio Reforzado",className:"drone-item-image"})]}),o.reinforcedAdvancedDrones>0&&e.jsxs("div",{className:`drone-item ${n>=h.scrap&&d>=h.metal?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Avanzado Reforzado (DAR-F)"}),e.jsxs("p",{children:["Producción: +",a(80,s)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(12,s)," energía"]}),e.jsxs("p",{children:["Coste: ",a(h.scrap,s)," chatarra, ",a(h.metal,s)," metal refinado"]}),e.jsxs("p",{children:["Flota: ",r.reinforcedAdvanced," | En cola: ",i.reinforcedAdvanced.queue," ",i.reinforcedAdvanced.queue>0?`| Tiempo: ~${u(i.reinforcedAdvanced.queue*i.reinforcedAdvanced.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx($,{upgrades:o,droneType:"reinforcedAdvanced",onDismantle:m,droneCount:r.reinforcedAdvanced,buyAmount:c})}),i.reinforcedAdvanced.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.reinforcedAdvanced.time,"s | En cola: ",i.reinforcedAdvanced.queue]}),e.jsx(M,{progress:i.reinforcedAdvanced.progress,time:i.reinforcedAdvanced.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:V,disabled:n<h.scrap||d<h.metal,tooltipText:C([{amount:h.scrap,current:n,text:"Chatarra"},{amount:h.metal,current:d,text:"Metal Refinado"}],s),className:`build-button ${n>=h.scrap&&d>=h.metal?"unlocked":""}`,children:["Encargar Dron Avanzado Reforzado ",c==="max"&&`(${se})`]}),i.reinforcedAdvanced.queue>0&&e.jsx(R,{itemName:"reinforcedAdvanced",onCancel:l})]})]}),e.jsx("img",{src:ve,alt:"Dron Avanzado Reforzado",className:"drone-item-image"})]})]}),(o.golemChassis>0||o.wyrm>0)&&e.jsxs("div",{className:"drone-category",style:{borderColor:"#F43F5E"},children:[e.jsx("h3",{style:{color:"#F43F5E"},children:"DRONES DE ÉLITE"}),o.golemChassis>0&&e.jsxs("div",{className:`drone-item ${n>=v.scrap&&k>=v.steel&&r.reinforcedAdvanced>=5?"unlocked":""} ${r.reinforcedAdvanced>=5?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#F43F5E"},children:"Dron Golem (DG-1)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Descripción:"})," Un chasis masivo diseñado para procesar chatarra. Consume Chatarra para producir Metal Refinado de forma pasiva."]}),e.jsxs("p",{children:["Consumo: ",a(50,s)," energía/segundo"]}),e.jsxs("p",{children:["Consume: ",a(500,s)," Chatarra/s | Produce: ",a(.5,s)," Metal Refinado/s"]}),e.jsxs("p",{children:["Coste: ",a(v.scrap,s)," chatarra, ",a(v.steel,s)," acero estructural"]}),e.jsx("p",{children:'Requisitos: 5 Drones Avanzados Reforzados Y la investigación "Chasis Golem"'}),e.jsxs("p",{children:["Flota: ",r.golem," | En cola: ",i.golem.queue," ",i.golem.queue>0?`| Tiempo: ~${u(i.golem.queue*i.golem.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx($,{upgrades:o,droneType:"golem",onDismantle:m,droneCount:r.golem,buyAmount:c})}),i.golem.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.golem.time,"s | En cola: ",i.golem.queue]}),e.jsx(M,{progress:i.golem.progress,time:i.golem.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:B,disabled:n<v.scrap||k<v.steel||r.reinforcedAdvanced<5||o.golemChassis===0,tooltipText:C([{amount:v.scrap,current:n,text:"Chatarra"},{amount:v.steel,current:k,text:"Acero Estructural"},{amount:5,current:r.reinforcedAdvanced,text:"Drones Avanzados Reforzados"},{amount:1,current:o.golemChassis,text:"Investigación: Chasis Golem"}],s),className:`build-button ${n>=v.scrap&&k>=v.steel&&r.reinforcedAdvanced>=5&&o.golemChassis>0?"unlocked":""}`,children:["Encargar Dron Golem ",c==="max"&&`(${oe})`]}),i.golem.queue>0&&e.jsx(R,{itemName:"golem",onCancel:l})]})]}),e.jsx("img",{src:ge,alt:"Dron Golem",className:"drone-item-image"})]})]}),o.golemChassis>0&&r.golem>=1&&e.jsxs("div",{className:`drone-item ${n>=N.scrap&&k>=N.steel&&r.golem>=1?"unlocked":""} ${r.golem>=1?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#F43F5E"},children:"Dron Wyrm (DW-1)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Descripción:"})," Una maravilla de la ingeniería. Consume Chatarra para sintetizar Acero Estructural de forma pasiva."]}),e.jsxs("p",{children:["Consumo: ",a(200,s)," energía/segundo"]}),e.jsxs("p",{children:["Consume: ",a(1e3,s)," Chatarra/s | Produce: ",a(.25,s)," Acero Estructural/s"]}),e.jsxs("p",{children:["Coste: ",a(N.scrap,s)," chatarra, ",a(N.steel,s)," acero estructural"]}),e.jsx("p",{children:"Requisitos: 1 Dron Golem"}),e.jsxs("p",{children:["Flota: ",r.wyrm," | En cola: ",i.wyrm.queue," ",i.wyrm.queue>0?`| Tiempo: ~${u(i.wyrm.queue*i.wyrm.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx($,{upgrades:o,droneType:"wyrm",onDismantle:m,droneCount:r.wyrm,buyAmount:c})}),i.wyrm.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",i.wyrm.time,"s | En cola: ",i.wyrm.queue]}),e.jsx(M,{progress:i.wyrm.progress,time:i.wyrm.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(g,{onClick:L,disabled:n<N.scrap||k<N.steel||r.golem<1,tooltipText:C([{amount:N.scrap,current:n,text:"Chatarra"},{amount:N.steel,current:k,text:"Acero"},{amount:1,current:r.golem,text:"Drones Golem"}],s),className:`build-button ${n>=N.scrap&&k>=N.steel&&r.golem>=1?"unlocked":""}`,children:["Encargar Dron Wyrm ",c==="max"&&`(${ce})`]}),i.wyrm.queue>0&&e.jsx(R,{itemName:"wyrm",onCancel:l})]})]}),e.jsx("img",{src:De,alt:"Dron Wyrm",className:"drone-item-image"})]})]})})}),$=({upgrades:T,droneType:y,droneCount:r,buyAmount:t,onDismantle:i})=>T.reassignProtocols?e.jsx("button",{onClick:()=>i(y,t),disabled:r<=0,style:{padding:"0.5rem",backgroundColor:r>0?"#EF4444":"#374151",color:"white",border:"none",borderRadius:"4px",cursor:r>0?"pointer":"not-allowed",fontSize:"0.8rem",width:"100px"},children:"Desmantelar"}):null,K=({resources:T,bodegaResources:y,upgrades:r,droneType:t,toDrone:i,droneCount:o,onRetrofit:S,numberFormat:G})=>{var m,U;if(!r.droneRetrofitting)return e.jsx("div",{style:{width:"100px"}});const O=((m=J[t])==null?void 0:m.cost)||{},W=((U=J[i])==null?void 0:U.cost)||{},I={};let V=!0,B="Reacondicionar: ";const Q={...T,...y},X=Object.entries(W);for(const[c,Y]of X){const Z=O[c]||0,l=Y-Z;l>0&&(I[c]=l,Q[c]<l&&(V=!1),B+=`${a(l,G)} ${c}, `)}Object.keys(I).length===0?B="Mejora gratuita":B=B.slice(0,-2);const L=o>0&&V;return e.jsx(g,{onClick:()=>S(t,i),disabled:!L,tooltipText:o>0?B:"No hay drones para reacondicionar",className:`build-button retrofit-button ${L?"unlocked":""}`,children:"Mejorar"})};export{Me as default};
