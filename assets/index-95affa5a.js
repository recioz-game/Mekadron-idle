var rd=Object.defineProperty;var td=(e,n,r)=>n in e?rd(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var wi=(e,n,r)=>(td(e,typeof n!="symbol"?n+"":n,r),r);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();function Ll(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bl={exports:{}},$o={},Ol={exports:{}},O={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tt=Symbol.for("react.element"),od=Symbol.for("react.portal"),ad=Symbol.for("react.fragment"),sd=Symbol.for("react.strict_mode"),id=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),cd=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),dd=Symbol.for("react.suspense"),md=Symbol.for("react.memo"),pd=Symbol.for("react.lazy"),Ni=Symbol.iterator;function fd(e){return e===null||typeof e!="object"?null:(e=Ni&&e[Ni]||e["@@iterator"],typeof e=="function"?e:null)}var zl={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fl=Object.assign,Ul={};function Ur(e,n,r){this.props=e,this.context=n,this.refs=Ul,this.updater=r||zl}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ql(){}ql.prototype=Ur.prototype;function Ms(e,n,r){this.props=e,this.context=n,this.refs=Ul,this.updater=r||zl}var As=Ms.prototype=new ql;As.constructor=Ms;Fl(As,Ur.prototype);As.isPureReactComponent=!0;var ki=Array.isArray,$l=Object.prototype.hasOwnProperty,Ps={current:null},Vl={key:!0,ref:!0,__self:!0,__source:!0};function Hl(e,n,r){var t,o={},s=null,i=null;if(n!=null)for(t in n.ref!==void 0&&(i=n.ref),n.key!==void 0&&(s=""+n.key),n)$l.call(n,t)&&!Vl.hasOwnProperty(t)&&(o[t]=n[t]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(t in l=e.defaultProps,l)o[t]===void 0&&(o[t]=l[t]);return{$$typeof:Tt,type:e,key:s,ref:i,props:o,_owner:Ps.current}}function hd(e,n){return{$$typeof:Tt,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Is(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tt}function gd(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return n[r]})}var _i=/\/+/g;function da(e,n){return typeof e=="object"&&e!==null&&e.key!=null?gd(""+e.key):n.toString(36)}function ao(e,n,r,t,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Tt:case od:i=!0}}if(i)return i=e,o=o(i),e=t===""?"."+da(i,0):t,ki(o)?(r="",e!=null&&(r=e.replace(_i,"$&/")+"/"),ao(o,n,r,"",function(u){return u})):o!=null&&(Is(o)&&(o=hd(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(_i,"$&/")+"/")+e)),n.push(o)),1;if(i=0,t=t===""?".":t+":",ki(e))for(var l=0;l<e.length;l++){s=e[l];var c=t+da(s,l);i+=ao(s,n,r,c,o)}else if(c=fd(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=t+da(s,l++),i+=ao(s,n,r,c,o);else if(s==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return i}function Ut(e,n,r){if(e==null)return e;var t=[],o=0;return ao(e,t,"","",function(s){return n.call(r,s,o++)}),t}function yd(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},so={transition:null},vd={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:so,ReactCurrentOwner:Ps};function Gl(){throw Error("act(...) is not supported in production builds of React.")}O.Children={map:Ut,forEach:function(e,n,r){Ut(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return Ut(e,function(){n++}),n},toArray:function(e){return Ut(e,function(n){return n})||[]},only:function(e){if(!Is(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};O.Component=Ur;O.Fragment=ad;O.Profiler=id;O.PureComponent=Ms;O.StrictMode=sd;O.Suspense=dd;O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vd;O.act=Gl;O.cloneElement=function(e,n,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var t=Fl({},e.props),o=e.key,s=e.ref,i=e._owner;if(n!=null){if(n.ref!==void 0&&(s=n.ref,i=Ps.current),n.key!==void 0&&(o=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)$l.call(n,c)&&!Vl.hasOwnProperty(c)&&(t[c]=n[c]===void 0&&l!==void 0?l[c]:n[c])}var c=arguments.length-2;if(c===1)t.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];t.children=l}return{$$typeof:Tt,type:e.type,key:o,ref:s,props:t,_owner:i}};O.createContext=function(e){return e={$$typeof:cd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ld,_context:e},e.Consumer=e};O.createElement=Hl;O.createFactory=function(e){var n=Hl.bind(null,e);return n.type=e,n};O.createRef=function(){return{current:null}};O.forwardRef=function(e){return{$$typeof:ud,render:e}};O.isValidElement=Is;O.lazy=function(e){return{$$typeof:pd,_payload:{_status:-1,_result:e},_init:yd}};O.memo=function(e,n){return{$$typeof:md,type:e,compare:n===void 0?null:n}};O.startTransition=function(e){var n=so.transition;so.transition={};try{e()}finally{so.transition=n}};O.unstable_act=Gl;O.useCallback=function(e,n){return Pe.current.useCallback(e,n)};O.useContext=function(e){return Pe.current.useContext(e)};O.useDebugValue=function(){};O.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};O.useEffect=function(e,n){return Pe.current.useEffect(e,n)};O.useId=function(){return Pe.current.useId()};O.useImperativeHandle=function(e,n,r){return Pe.current.useImperativeHandle(e,n,r)};O.useInsertionEffect=function(e,n){return Pe.current.useInsertionEffect(e,n)};O.useLayoutEffect=function(e,n){return Pe.current.useLayoutEffect(e,n)};O.useMemo=function(e,n){return Pe.current.useMemo(e,n)};O.useReducer=function(e,n,r){return Pe.current.useReducer(e,n,r)};O.useRef=function(e){return Pe.current.useRef(e)};O.useState=function(e){return Pe.current.useState(e)};O.useSyncExternalStore=function(e,n,r){return Pe.current.useSyncExternalStore(e,n,r)};O.useTransition=function(){return Pe.current.useTransition()};O.version="18.3.1";Ol.exports=O;var N=Ol.exports;const sn=Ll(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd=N,Cd=Symbol.for("react.element"),Ed=Symbol.for("react.fragment"),Sd=Object.prototype.hasOwnProperty,jd=xd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wd={key:!0,ref:!0,__self:!0,__source:!0};function Wl(e,n,r){var t,o={},s=null,i=null;r!==void 0&&(s=""+r),n.key!==void 0&&(s=""+n.key),n.ref!==void 0&&(i=n.ref);for(t in n)Sd.call(n,t)&&!wd.hasOwnProperty(t)&&(o[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps,n)o[t]===void 0&&(o[t]=n[t]);return{$$typeof:Cd,type:e,key:s,ref:i,props:o,_owner:jd.current}}$o.Fragment=Ed;$o.jsx=Wl;$o.jsxs=Wl;Bl.exports=$o;var a=Bl.exports,Ba={},Ql={exports:{}},Ve={},Yl={exports:{}},Kl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(D,b){var T=D.length;D.push(b);e:for(;0<T;){var H=T-1>>>1,U=D[H];if(0<o(U,b))D[H]=b,D[T]=U,T=H;else break e}}function r(D){return D.length===0?null:D[0]}function t(D){if(D.length===0)return null;var b=D[0],T=D.pop();if(T!==b){D[0]=T;e:for(var H=0,U=D.length,Ne=U>>>1;H<Ne;){var fe=2*(H+1)-1,xe=D[fe],Y=fe+1,te=D[Y];if(0>o(xe,T))Y<U&&0>o(te,xe)?(D[H]=te,D[Y]=T,H=Y):(D[H]=xe,D[fe]=T,H=fe);else if(Y<U&&0>o(te,T))D[H]=te,D[Y]=T,H=Y;else break e}}return b}function o(D,b){var T=D.sortIndex-b.sortIndex;return T!==0?T:D.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,y=!1,x=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var b=r(u);b!==null;){if(b.callback===null)t(u);else if(b.startTime<=D)t(u),b.sortIndex=b.expirationTime,n(c,b);else break;b=r(u)}}function g(D){if(C=!1,v(D),!x)if(r(c)!==null)x=!0,le(S);else{var b=r(u);b!==null&&ve(g,b.startTime-D)}}function S(D,b){x=!1,C&&(C=!1,m(j),j=-1),y=!0;var T=h;try{for(v(b),f=r(c);f!==null&&(!(f.expirationTime>b)||D&&!I());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var U=H(f.expirationTime<=b);b=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&t(c),v(b)}else t(c);f=r(c)}if(f!==null)var Ne=!0;else{var fe=r(u);fe!==null&&ve(g,fe.startTime-b),Ne=!1}return Ne}finally{f=null,h=T,y=!1}}var _=!1,R=null,j=-1,P=5,M=-1;function I(){return!(e.unstable_now()-M<P)}function B(){if(R!==null){var D=e.unstable_now();M=D;var b=!0;try{b=R(!0,D)}finally{b?L():(_=!1,R=null)}}else _=!1}var L;if(typeof p=="function")L=function(){p(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=B,L=function(){F.postMessage(null)}}else L=function(){w(B,0)};function le(D){R=D,_||(_=!0,L())}function ve(D,b){j=w(function(){D(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,le(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var b=3;break;default:b=h}var T=h;h=b;try{return D()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,b){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var T=h;h=D;try{return b()}finally{h=T}},e.unstable_scheduleCallback=function(D,b,T){var H=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?H+T:H):T=H,D){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=T+U,D={id:d++,callback:b,priorityLevel:D,startTime:T,expirationTime:U,sortIndex:-1},T>H?(D.sortIndex=T,n(u,D),r(c)===null&&D===r(u)&&(C?(m(j),j=-1):C=!0,ve(g,T-H))):(D.sortIndex=U,n(c,D),x||y||(x=!0,le(S))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var b=h;return function(){var T=h;h=b;try{return D.apply(this,arguments)}finally{h=T}}}})(Kl);Yl.exports=Kl;var Nd=Yl.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=N,$e=Nd;function k(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xl=new Set,yt={};function ur(e,n){Tr(e,n),Tr(e+"Capture",n)}function Tr(e,n){for(yt[e]=n,e=0;e<n.length;e++)Xl.add(n[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=Object.prototype.hasOwnProperty,_d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ri={},Di={};function Rd(e){return Oa.call(Di,e)?!0:Oa.call(Ri,e)?!1:_d.test(e)?Di[e]=!0:(Ri[e]=!0,!1)}function Dd(e,n,r,t){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return t?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Md(e,n,r,t){if(n===null||typeof n>"u"||Dd(e,n,r,t))return!0;if(t)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ie(e,n,r,t,o,s,i){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=t,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=s,this.removeEmptyString=i}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];we[n]=new Ie(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ts=/[\-:]([a-z])/g;function bs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Ts,bs);we[n]=new Ie(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Ts,bs);we[n]=new Ie(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Ts,bs);we[n]=new Ie(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ls(e,n,r,t){var o=we.hasOwnProperty(n)?we[n]:null;(o!==null?o.type!==0:t||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Md(n,r,o,t)&&(r=null),t||o===null?Rd(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(n=o.attributeName,t=o.attributeNamespace,r===null?e.removeAttribute(n):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,t?e.setAttributeNS(t,n,r):e.setAttribute(n,r))))}var Nn=kd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qt=Symbol.for("react.element"),gr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),Bs=Symbol.for("react.strict_mode"),za=Symbol.for("react.profiler"),Zl=Symbol.for("react.provider"),Jl=Symbol.for("react.context"),Os=Symbol.for("react.forward_ref"),Fa=Symbol.for("react.suspense"),Ua=Symbol.for("react.suspense_list"),zs=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),ec=Symbol.for("react.offscreen"),Mi=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=Mi&&e[Mi]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,ma;function ot(e){if(ma===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ma=n&&n[1]||""}return`
`+ma+e}var pa=!1;function fa(e,n){if(!e||pa)return"";pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(u){var t=u}Reflect.construct(e,[],n)}else{try{n.call()}catch(u){t=u}e.call(n.prototype)}else{try{throw Error()}catch(u){t=u}e()}}catch(u){if(u&&t&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=t.stack.split(`
`),i=o.length-1,l=s.length-1;1<=i&&0<=l&&o[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==s[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{pa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ot(e):""}function Ad(e){switch(e.tag){case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 2:case 15:return e=fa(e.type,!1),e;case 11:return e=fa(e.type.render,!1),e;case 1:return e=fa(e.type,!0),e;default:return""}}function qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yr:return"Fragment";case gr:return"Portal";case za:return"Profiler";case Bs:return"StrictMode";case Fa:return"Suspense";case Ua:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jl:return(e.displayName||"Context")+".Consumer";case Zl:return(e._context.displayName||"Context")+".Provider";case Os:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zs:return n=e.displayName||null,n!==null?n:qa(e.type)||"Memo";case Rn:n=e._payload,e=e._init;try{return qa(e(n))}catch{}}return null}function Pd(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qa(n);case 8:return n===Bs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Id(e){var n=nc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),t=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(i){t=""+i,s.call(this,i)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return t},setValue:function(i){t=""+i},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){e._valueTracker||(e._valueTracker=Id(e))}function rc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),t="";return e&&(t=nc(e)?e.checked?"true":"false":e.value),e=t,e!==r?(n.setValue(e),!0):!1}function xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $a(e,n){var r=n.checked;return re({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ai(e,n){var r=n.defaultValue==null?"":n.defaultValue,t=n.checked!=null?n.checked:n.defaultChecked;r=qn(n.value!=null?n.value:r),e._wrapperState={initialChecked:t,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function tc(e,n){n=n.checked,n!=null&&Ls(e,"checked",n,!1)}function Va(e,n){tc(e,n);var r=qn(n.value),t=n.type;if(r!=null)t==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(t==="submit"||t==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ha(e,n.type,r):n.hasOwnProperty("defaultValue")&&Ha(e,n.type,qn(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Pi(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var t=n.type;if(!(t!=="submit"&&t!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ha(e,n,r){(n!=="number"||xo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var at=Array.isArray;function Rr(e,n,r,t){if(e=e.options,n){n={};for(var o=0;o<r.length;o++)n["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=n.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&t&&(e[r].defaultSelected=!0)}else{for(r=""+qn(r),n=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,t&&(e[o].defaultSelected=!0);return}n!==null||e[o].disabled||(n=e[o])}n!==null&&(n.selected=!0)}}function Ga(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(k(91));return re({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ii(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(k(92));if(at(r)){if(1<r.length)throw Error(k(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:qn(r)}}function oc(e,n){var r=qn(n.value),t=qn(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),t!=null&&(e.defaultValue=""+t)}function Ti(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function ac(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wa(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?ac(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vt,sc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,t,o){MSApp.execUnsafeLocalFunction(function(){return e(n,r,t,o)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Vt=Vt||document.createElement("div"),Vt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Vt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function vt(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var lt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Td=["Webkit","ms","Moz","O"];Object.keys(lt).forEach(function(e){Td.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),lt[n]=lt[e]})});function ic(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||lt.hasOwnProperty(e)&&lt[e]?(""+n).trim():n+"px"}function lc(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var t=r.indexOf("--")===0,o=ic(r,n[r],t);r==="float"&&(r="cssFloat"),t?e.setProperty(r,o):e[r]=o}}var bd=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(e,n){if(n){if(bd[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(k(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(k(61))}if(n.style!=null&&typeof n.style!="object")throw Error(k(62))}}function Ya(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function Fs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,Dr=null,Mr=null;function bi(e){if(e=Bt(e)){if(typeof Xa!="function")throw Error(k(280));var n=e.stateNode;n&&(n=Qo(n),Xa(e.stateNode,e.type,n))}}function cc(e){Dr?Mr?Mr.push(e):Mr=[e]:Dr=e}function uc(){if(Dr){var e=Dr,n=Mr;if(Mr=Dr=null,bi(e),n)for(e=0;e<n.length;e++)bi(n[e])}}function dc(e,n){return e(n)}function mc(){}var ha=!1;function pc(e,n,r){if(ha)return e(n,r);ha=!0;try{return dc(e,n,r)}finally{ha=!1,(Dr!==null||Mr!==null)&&(mc(),uc())}}function xt(e,n){var r=e.stateNode;if(r===null)return null;var t=Qo(r);if(t===null)return null;r=t[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(e=e.type,t=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!t;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(k(231,n,typeof r));return r}var Za=!1;if(En)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Za=!1}function Ld(e,n,r,t,o,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{n.apply(r,u)}catch(d){this.onError(d)}}var ct=!1,Co=null,Eo=!1,Ja=null,Bd={onError:function(e){ct=!0,Co=e}};function Od(e,n,r,t,o,s,i,l,c){ct=!1,Co=null,Ld.apply(Bd,arguments)}function zd(e,n,r,t,o,s,i,l,c){if(Od.apply(this,arguments),ct){if(ct){var u=Co;ct=!1,Co=null}else throw Error(k(198));Eo||(Eo=!0,Ja=u)}}function dr(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function fc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Li(e){if(dr(e)!==e)throw Error(k(188))}function Fd(e){var n=e.alternate;if(!n){if(n=dr(e),n===null)throw Error(k(188));return n!==e?null:e}for(var r=e,t=n;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(t=o.return,t!==null){r=t;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return Li(o),e;if(s===t)return Li(o),n;s=s.sibling}throw Error(k(188))}if(r.return!==t.return)r=o,t=s;else{for(var i=!1,l=o.child;l;){if(l===r){i=!0,r=o,t=s;break}if(l===t){i=!0,t=o,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,t=o;break}if(l===t){i=!0,t=s,r=o;break}l=l.sibling}if(!i)throw Error(k(189))}}if(r.alternate!==t)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?e:n}function hc(e){return e=Fd(e),e!==null?gc(e):null}function gc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=gc(e);if(n!==null)return n;e=e.sibling}return null}var yc=$e.unstable_scheduleCallback,Bi=$e.unstable_cancelCallback,Ud=$e.unstable_shouldYield,qd=$e.unstable_requestPaint,ie=$e.unstable_now,$d=$e.unstable_getCurrentPriorityLevel,Us=$e.unstable_ImmediatePriority,vc=$e.unstable_UserBlockingPriority,So=$e.unstable_NormalPriority,Vd=$e.unstable_LowPriority,xc=$e.unstable_IdlePriority,Vo=null,mn=null;function Hd(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Qd,Gd=Math.log,Wd=Math.LN2;function Qd(e){return e>>>=0,e===0?32:31-(Gd(e)/Wd|0)|0}var Ht=64,Gt=4194304;function st(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,n){var r=e.pendingLanes;if(r===0)return 0;var t=0,o=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~o;l!==0?t=st(l):(s&=i,s!==0&&(t=st(s)))}else i=r&~o,i!==0?t=st(i):s!==0&&(t=st(s));if(t===0)return 0;if(n!==0&&n!==t&&!(n&o)&&(o=t&-t,s=n&-n,o>=s||o===16&&(s&4194240)!==0))return n;if(t&4&&(t|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=t;0<n;)r=31-tn(n),o=1<<r,t|=e[r],n&=~o;return t}function Yd(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(e,n){for(var r=e.suspendedLanes,t=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-tn(s),l=1<<i,c=o[i];c===-1?(!(l&r)||l&t)&&(o[i]=Yd(l,n)):c<=n&&(e.expiredLanes|=l),s&=~l}}function es(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cc(){var e=Ht;return Ht<<=1,!(Ht&4194240)&&(Ht=64),e}function ga(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function bt(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-tn(n),e[n]=r}function Xd(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var t=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-tn(r),s=1<<o;n[o]=0,t[o]=-1,e[o]=-1,r&=~s}}function qs(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var t=31-tn(r),o=1<<t;o&n|e[t]&n&&(e[t]|=n),r&=~o}}var W=0;function Ec(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sc,$s,jc,wc,Nc,ns=!1,Wt=[],Tn=null,bn=null,Ln=null,Ct=new Map,Et=new Map,Mn=[],Zd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oi(e,n){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Ct.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(n.pointerId)}}function Zr(e,n,r,t,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:n,domEventName:r,eventSystemFlags:t,nativeEvent:s,targetContainers:[o]},n!==null&&(n=Bt(n),n!==null&&$s(n)),e):(e.eventSystemFlags|=t,n=e.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),e)}function Jd(e,n,r,t,o){switch(n){case"focusin":return Tn=Zr(Tn,e,n,r,t,o),!0;case"dragenter":return bn=Zr(bn,e,n,r,t,o),!0;case"mouseover":return Ln=Zr(Ln,e,n,r,t,o),!0;case"pointerover":var s=o.pointerId;return Ct.set(s,Zr(Ct.get(s)||null,e,n,r,t,o)),!0;case"gotpointercapture":return s=o.pointerId,Et.set(s,Zr(Et.get(s)||null,e,n,r,t,o)),!0}return!1}function kc(e){var n=Zn(e.target);if(n!==null){var r=dr(n);if(r!==null){if(n=r.tag,n===13){if(n=fc(r),n!==null){e.blockedOn=n,Nc(e.priority,function(){jc(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=rs(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var t=new r.constructor(r.type,r);Ka=t,r.target.dispatchEvent(t),Ka=null}else return n=Bt(r),n!==null&&$s(n),e.blockedOn=r,!1;n.shift()}return!0}function zi(e,n,r){io(e)&&r.delete(n)}function em(){ns=!1,Tn!==null&&io(Tn)&&(Tn=null),bn!==null&&io(bn)&&(bn=null),Ln!==null&&io(Ln)&&(Ln=null),Ct.forEach(zi),Et.forEach(zi)}function Jr(e,n){e.blockedOn===n&&(e.blockedOn=null,ns||(ns=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,em)))}function St(e){function n(o){return Jr(o,e)}if(0<Wt.length){Jr(Wt[0],e);for(var r=1;r<Wt.length;r++){var t=Wt[r];t.blockedOn===e&&(t.blockedOn=null)}}for(Tn!==null&&Jr(Tn,e),bn!==null&&Jr(bn,e),Ln!==null&&Jr(Ln,e),Ct.forEach(n),Et.forEach(n),r=0;r<Mn.length;r++)t=Mn[r],t.blockedOn===e&&(t.blockedOn=null);for(;0<Mn.length&&(r=Mn[0],r.blockedOn===null);)kc(r),r.blockedOn===null&&Mn.shift()}var Ar=Nn.ReactCurrentBatchConfig,wo=!0;function nm(e,n,r,t){var o=W,s=Ar.transition;Ar.transition=null;try{W=1,Vs(e,n,r,t)}finally{W=o,Ar.transition=s}}function rm(e,n,r,t){var o=W,s=Ar.transition;Ar.transition=null;try{W=4,Vs(e,n,r,t)}finally{W=o,Ar.transition=s}}function Vs(e,n,r,t){if(wo){var o=rs(e,n,r,t);if(o===null)ka(e,n,t,No,r),Oi(e,t);else if(Jd(o,e,n,r,t))t.stopPropagation();else if(Oi(e,t),n&4&&-1<Zd.indexOf(e)){for(;o!==null;){var s=Bt(o);if(s!==null&&Sc(s),s=rs(e,n,r,t),s===null&&ka(e,n,t,No,r),s===o)break;o=s}o!==null&&t.stopPropagation()}else ka(e,n,t,null,r)}}var No=null;function rs(e,n,r,t){if(No=null,e=Fs(t),e=Zn(e),e!==null)if(n=dr(e),n===null)e=null;else if(r=n.tag,r===13){if(e=fc(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return No=e,null}function _c(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($d()){case Us:return 1;case vc:return 4;case So:case Vd:return 16;case xc:return 536870912;default:return 16}default:return 16}}var Pn=null,Hs=null,lo=null;function Rc(){if(lo)return lo;var e,n=Hs,r=n.length,t,o="value"in Pn?Pn.value:Pn.textContent,s=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[s-t];t++);return lo=o.slice(e,1<t?1-t:void 0)}function co(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qt(){return!0}function Fi(){return!1}function He(e){function n(r,t,o,s,i){this._reactName=r,this._targetInst=o,this.type=t,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qt:Fi,this.isPropagationStopped=Fi,this}return re(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),n}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=He(qr),Lt=re({},qr,{view:0,detail:0}),tm=He(Lt),ya,va,et,Ho=re({},Lt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==et&&(et&&e.type==="mousemove"?(ya=e.screenX-et.screenX,va=e.screenY-et.screenY):va=ya=0,et=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:va}}),Ui=He(Ho),om=re({},Ho,{dataTransfer:0}),am=He(om),sm=re({},Lt,{relatedTarget:0}),xa=He(sm),im=re({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),lm=He(im),cm=re({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),um=He(cm),dm=re({},qr,{data:0}),qi=He(dm),mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hm(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fm[e])?!!n[e]:!1}function Ws(){return hm}var gm=re({},Lt,{key:function(e){if(e.key){var n=mm[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ym=He(gm),vm=re({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=He(vm),xm=re({},Lt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),Cm=He(xm),Em=re({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sm=He(Em),jm=re({},Ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wm=He(jm),Nm=[9,13,27,32],Qs=En&&"CompositionEvent"in window,ut=null;En&&"documentMode"in document&&(ut=document.documentMode);var km=En&&"TextEvent"in window&&!ut,Dc=En&&(!Qs||ut&&8<ut&&11>=ut),Vi=String.fromCharCode(32),Hi=!1;function Mc(e,n){switch(e){case"keyup":return Nm.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function _m(e,n){switch(e){case"compositionend":return Ac(n);case"keypress":return n.which!==32?null:(Hi=!0,Vi);case"textInput":return e=n.data,e===Vi&&Hi?null:e;default:return null}}function Rm(e,n){if(vr)return e==="compositionend"||!Qs&&Mc(e,n)?(e=Rc(),lo=Hs=Pn=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Dc&&n.locale!=="ko"?null:n.data;default:return null}}var Dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Dm[e.type]:n==="textarea"}function Pc(e,n,r,t){cc(t),n=ko(n,"onChange"),0<n.length&&(r=new Gs("onChange","change",null,r,t),e.push({event:r,listeners:n}))}var dt=null,jt=null;function Mm(e){$c(e,0)}function Go(e){var n=Er(e);if(rc(n))return e}function Am(e,n){if(e==="change")return n}var Ic=!1;if(En){var Ca;if(En){var Ea="oninput"in document;if(!Ea){var Wi=document.createElement("div");Wi.setAttribute("oninput","return;"),Ea=typeof Wi.oninput=="function"}Ca=Ea}else Ca=!1;Ic=Ca&&(!document.documentMode||9<document.documentMode)}function Qi(){dt&&(dt.detachEvent("onpropertychange",Tc),jt=dt=null)}function Tc(e){if(e.propertyName==="value"&&Go(jt)){var n=[];Pc(n,jt,e,Fs(e)),pc(Mm,n)}}function Pm(e,n,r){e==="focusin"?(Qi(),dt=n,jt=r,dt.attachEvent("onpropertychange",Tc)):e==="focusout"&&Qi()}function Im(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Go(jt)}function Tm(e,n){if(e==="click")return Go(n)}function bm(e,n){if(e==="input"||e==="change")return Go(n)}function Lm(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var an=typeof Object.is=="function"?Object.is:Lm;function wt(e,n){if(an(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),t=Object.keys(n);if(r.length!==t.length)return!1;for(t=0;t<r.length;t++){var o=r[t];if(!Oa.call(n,o)||!an(e[o],n[o]))return!1}return!0}function Yi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ki(e,n){var r=Yi(e);e=0;for(var t;r;){if(r.nodeType===3){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yi(r)}}function bc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lc(){for(var e=window,n=xo();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=xo(e.document)}return n}function Ys(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Bm(e){var n=Lc(),r=e.focusedElem,t=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&bc(r.ownerDocument.documentElement,r)){if(t!==null&&Ys(r)){if(n=t.start,e=t.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,s=Math.min(t.start,o);t=t.end===void 0?s:Math.min(t.end,o),!e.extend&&s>t&&(o=t,t=s,s=o),o=Ki(r,s);var i=Ki(r,t);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(n=n.createRange(),n.setStart(o.node,o.offset),e.removeAllRanges(),s>t?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Om=En&&"documentMode"in document&&11>=document.documentMode,xr=null,ts=null,mt=null,os=!1;function Xi(e,n,r){var t=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;os||xr==null||xr!==xo(t)||(t=xr,"selectionStart"in t&&Ys(t)?t={start:t.selectionStart,end:t.selectionEnd}:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection(),t={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}),mt&&wt(mt,t)||(mt=t,t=ko(ts,"onSelect"),0<t.length&&(n=new Gs("onSelect","select",null,n,r),e.push({event:n,listeners:t}),n.target=xr)))}function Yt(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Cr={animationend:Yt("Animation","AnimationEnd"),animationiteration:Yt("Animation","AnimationIteration"),animationstart:Yt("Animation","AnimationStart"),transitionend:Yt("Transition","TransitionEnd")},Sa={},Bc={};En&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Wo(e){if(Sa[e])return Sa[e];if(!Cr[e])return e;var n=Cr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Bc)return Sa[e]=n[r];return e}var Oc=Wo("animationend"),zc=Wo("animationiteration"),Fc=Wo("animationstart"),Uc=Wo("transitionend"),qc=new Map,Zi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,n){qc.set(e,n),ur(n,[e])}for(var ja=0;ja<Zi.length;ja++){var wa=Zi[ja],zm=wa.toLowerCase(),Fm=wa[0].toUpperCase()+wa.slice(1);Vn(zm,"on"+Fm)}Vn(Oc,"onAnimationEnd");Vn(zc,"onAnimationIteration");Vn(Fc,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(Uc,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var it="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Um=new Set("cancel close invalid load scroll toggle".split(" ").concat(it));function Ji(e,n,r){var t=e.type||"unknown-event";e.currentTarget=r,zd(t,n,void 0,e),e.currentTarget=null}function $c(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var t=e[r],o=t.event;t=t.listeners;e:{var s=void 0;if(n)for(var i=t.length-1;0<=i;i--){var l=t[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&o.isPropagationStopped())break e;Ji(o,l,u),s=c}else for(i=0;i<t.length;i++){if(l=t[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&o.isPropagationStopped())break e;Ji(o,l,u),s=c}}}if(Eo)throw e=Ja,Eo=!1,Ja=null,e}function X(e,n){var r=n[cs];r===void 0&&(r=n[cs]=new Set);var t=e+"__bubble";r.has(t)||(Vc(n,e,2,!1),r.add(t))}function Na(e,n,r){var t=0;n&&(t|=4),Vc(r,e,t,n)}var Kt="_reactListening"+Math.random().toString(36).slice(2);function Nt(e){if(!e[Kt]){e[Kt]=!0,Xl.forEach(function(r){r!=="selectionchange"&&(Um.has(r)||Na(r,!1,e),Na(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Kt]||(n[Kt]=!0,Na("selectionchange",!1,n))}}function Vc(e,n,r,t){switch(_c(n)){case 1:var o=nm;break;case 4:o=rm;break;default:o=Vs}r=o.bind(null,n,r,e),o=void 0,!Za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),t?o!==void 0?e.addEventListener(n,r,{capture:!0,passive:o}):e.addEventListener(n,r,!0):o!==void 0?e.addEventListener(n,r,{passive:o}):e.addEventListener(n,r,!1)}function ka(e,n,r,t,o){var s=t;if(!(n&1)&&!(n&2)&&t!==null)e:for(;;){if(t===null)return;var i=t.tag;if(i===3||i===4){var l=t.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=t.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Zn(l),i===null)return;if(c=i.tag,c===5||c===6){t=s=i;continue e}l=l.parentNode}}t=t.return}pc(function(){var u=s,d=Fs(r),f=[];e:{var h=qc.get(e);if(h!==void 0){var y=Gs,x=e;switch(e){case"keypress":if(co(r)===0)break e;case"keydown":case"keyup":y=ym;break;case"focusin":x="focus",y=xa;break;case"focusout":x="blur",y=xa;break;case"beforeblur":case"afterblur":y=xa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Cm;break;case Oc:case zc:case Fc:y=lm;break;case Uc:y=Sm;break;case"scroll":y=tm;break;case"wheel":y=wm;break;case"copy":case"cut":case"paste":y=um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=$i}var C=(n&4)!==0,w=!C&&e==="scroll",m=C?h!==null?h+"Capture":null:h;C=[];for(var p=u,v;p!==null;){v=p;var g=v.stateNode;if(v.tag===5&&g!==null&&(v=g,m!==null&&(g=xt(p,m),g!=null&&C.push(kt(p,g,v)))),w)break;p=p.return}0<C.length&&(h=new y(h,x,null,r,d),f.push({event:h,listeners:C}))}}if(!(n&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&r!==Ka&&(x=r.relatedTarget||r.fromElement)&&(Zn(x)||x[Sn]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?Zn(x):null,x!==null&&(w=dr(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(C=Ui,g="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(C=$i,g="onPointerLeave",m="onPointerEnter",p="pointer"),w=y==null?h:Er(y),v=x==null?h:Er(x),h=new C(g,p+"leave",y,r,d),h.target=w,h.relatedTarget=v,g=null,Zn(d)===u&&(C=new C(m,p+"enter",x,r,d),C.target=v,C.relatedTarget=w,g=C),w=g,y&&x)n:{for(C=y,m=x,p=0,v=C;v;v=hr(v))p++;for(v=0,g=m;g;g=hr(g))v++;for(;0<p-v;)C=hr(C),p--;for(;0<v-p;)m=hr(m),v--;for(;p--;){if(C===m||m!==null&&C===m.alternate)break n;C=hr(C),m=hr(m)}C=null}else C=null;y!==null&&el(f,h,y,C,!1),x!==null&&w!==null&&el(f,w,x,C,!0)}}e:{if(h=u?Er(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=Am;else if(Gi(h))if(Ic)S=bm;else{S=Im;var _=Pm}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Tm);if(S&&(S=S(e,u))){Pc(f,S,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Ha(h,"number",h.value)}switch(_=u?Er(u):window,e){case"focusin":(Gi(_)||_.contentEditable==="true")&&(xr=_,ts=u,mt=null);break;case"focusout":mt=ts=xr=null;break;case"mousedown":os=!0;break;case"contextmenu":case"mouseup":case"dragend":os=!1,Xi(f,r,d);break;case"selectionchange":if(Om)break;case"keydown":case"keyup":Xi(f,r,d)}var R;if(Qs)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else vr?Mc(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Dc&&r.locale!=="ko"&&(vr||j!=="onCompositionStart"?j==="onCompositionEnd"&&vr&&(R=Rc()):(Pn=d,Hs="value"in Pn?Pn.value:Pn.textContent,vr=!0)),_=ko(u,j),0<_.length&&(j=new qi(j,e,null,r,d),f.push({event:j,listeners:_}),R?j.data=R:(R=Ac(r),R!==null&&(j.data=R)))),(R=km?_m(e,r):Rm(e,r))&&(u=ko(u,"onBeforeInput"),0<u.length&&(d=new qi("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=R))}$c(f,n)})}function kt(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ko(e,n){for(var r=n+"Capture",t=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=xt(e,r),s!=null&&t.unshift(kt(e,s,o)),s=xt(e,n),s!=null&&t.push(kt(e,s,o))),e=e.return}return t}function hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function el(e,n,r,t,o){for(var s=n._reactName,i=[];r!==null&&r!==t;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===t)break;l.tag===5&&u!==null&&(l=u,o?(c=xt(r,s),c!=null&&i.unshift(kt(r,c,l))):o||(c=xt(r,s),c!=null&&i.push(kt(r,c,l)))),r=r.return}i.length!==0&&e.push({event:n,listeners:i})}var qm=/\r\n?/g,$m=/\u0000|\uFFFD/g;function nl(e){return(typeof e=="string"?e:""+e).replace(qm,`
`).replace($m,"")}function Xt(e,n,r){if(n=nl(n),nl(e)!==n&&r)throw Error(k(425))}function _o(){}var as=null,ss=null;function is(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ls=typeof setTimeout=="function"?setTimeout:void 0,Vm=typeof clearTimeout=="function"?clearTimeout:void 0,rl=typeof Promise=="function"?Promise:void 0,Hm=typeof queueMicrotask=="function"?queueMicrotask:typeof rl<"u"?function(e){return rl.resolve(null).then(e).catch(Gm)}:ls;function Gm(e){setTimeout(function(){throw e})}function _a(e,n){var r=n,t=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0){e.removeChild(o),St(n);return}t--}else r!=="$"&&r!=="$?"&&r!=="$!"||t++;r=o}while(r);St(n)}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function tl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),dn="__reactFiber$"+$r,_t="__reactProps$"+$r,Sn="__reactContainer$"+$r,cs="__reactEvents$"+$r,Wm="__reactListeners$"+$r,Qm="__reactHandles$"+$r;function Zn(e){var n=e[dn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Sn]||r[dn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=tl(e);e!==null;){if(r=e[dn])return r;e=tl(e)}return n}e=r,r=e.parentNode}return null}function Bt(e){return e=e[dn]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function Qo(e){return e[_t]||null}var us=[],Sr=-1;function Hn(e){return{current:e}}function Z(e){0>Sr||(e.current=us[Sr],us[Sr]=null,Sr--)}function K(e,n){Sr++,us[Sr]=e.current,e.current=n}var $n={},De=Hn($n),Le=Hn(!1),ar=$n;function br(e,n){var r=e.type.contextTypes;if(!r)return $n;var t=e.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===n)return t.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=n[s];return t&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function Be(e){return e=e.childContextTypes,e!=null}function Ro(){Z(Le),Z(De)}function ol(e,n,r){if(De.current!==$n)throw Error(k(168));K(De,n),K(Le,r)}function Hc(e,n,r){var t=e.stateNode;if(n=n.childContextTypes,typeof t.getChildContext!="function")return r;t=t.getChildContext();for(var o in t)if(!(o in n))throw Error(k(108,Pd(e)||"Unknown",o));return re({},r,t)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$n,ar=De.current,K(De,e),K(Le,Le.current),!0}function al(e,n,r){var t=e.stateNode;if(!t)throw Error(k(169));r?(e=Hc(e,n,ar),t.__reactInternalMemoizedMergedChildContext=e,Z(Le),Z(De),K(De,e)):Z(Le),K(Le,r)}var yn=null,Yo=!1,Ra=!1;function Gc(e){yn===null?yn=[e]:yn.push(e)}function Ym(e){Yo=!0,Gc(e)}function Gn(){if(!Ra&&yn!==null){Ra=!0;var e=0,n=W;try{var r=yn;for(W=1;e<r.length;e++){var t=r[e];do t=t(!0);while(t!==null)}yn=null,Yo=!1}catch(o){throw yn!==null&&(yn=yn.slice(e+1)),yc(Us,Gn),o}finally{W=n,Ra=!1}}return null}var jr=[],wr=0,Mo=null,Ao=0,We=[],Qe=0,sr=null,vn=1,xn="";function Kn(e,n){jr[wr++]=Ao,jr[wr++]=Mo,Mo=e,Ao=n}function Wc(e,n,r){We[Qe++]=vn,We[Qe++]=xn,We[Qe++]=sr,sr=e;var t=vn;e=xn;var o=32-tn(t)-1;t&=~(1<<o),r+=1;var s=32-tn(n)+o;if(30<s){var i=o-o%5;s=(t&(1<<i)-1).toString(32),t>>=i,o-=i,vn=1<<32-tn(n)+o|r<<o|t,xn=s+e}else vn=1<<s|r<<o|t,xn=e}function Ks(e){e.return!==null&&(Kn(e,1),Wc(e,1,0))}function Xs(e){for(;e===Mo;)Mo=jr[--wr],jr[wr]=null,Ao=jr[--wr],jr[wr]=null;for(;e===sr;)sr=We[--Qe],We[Qe]=null,xn=We[--Qe],We[Qe]=null,vn=We[--Qe],We[Qe]=null}var qe=null,Ue=null,J=!1,rn=null;function Qc(e,n){var r=Ye(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function sl(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,qe=e,Ue=Bn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,qe=e,Ue=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=sr!==null?{id:vn,overflow:xn}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Ye(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,qe=e,Ue=null,!0):!1;default:return!1}}function ds(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ms(e){if(J){var n=Ue;if(n){var r=n;if(!sl(e,n)){if(ds(e))throw Error(k(418));n=Bn(r.nextSibling);var t=qe;n&&sl(e,n)?Qc(t,r):(e.flags=e.flags&-4097|2,J=!1,qe=e)}}else{if(ds(e))throw Error(k(418));e.flags=e.flags&-4097|2,J=!1,qe=e}}}function il(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function Zt(e){if(e!==qe)return!1;if(!J)return il(e),J=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!is(e.type,e.memoizedProps)),n&&(n=Ue)){if(ds(e))throw Yc(),Error(k(418));for(;n;)Qc(e,n),n=Bn(n.nextSibling)}if(il(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Ue=Bn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Ue=null}}else Ue=qe?Bn(e.stateNode.nextSibling):null;return!0}function Yc(){for(var e=Ue;e;)e=Bn(e.nextSibling)}function Lr(){Ue=qe=null,J=!1}function Zs(e){rn===null?rn=[e]:rn.push(e)}var Km=Nn.ReactCurrentBatchConfig;function nt(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var t=r.stateNode}if(!t)throw Error(k(147,e));var o=t,s=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===s?n.ref:(n=function(i){var l=o.refs;i===null?delete l[s]:l[s]=i},n._stringRef=s,n)}if(typeof e!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,e))}return e}function Jt(e,n){throw e=Object.prototype.toString.call(n),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ll(e){var n=e._init;return n(e._payload)}function Kc(e){function n(m,p){if(e){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)n(m,p),p=p.sibling;return null}function t(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function o(m,p){return m=Un(m,p),m.index=0,m.sibling=null,m}function s(m,p,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,v,g){return p===null||p.tag!==6?(p=ba(v,m.mode,g),p.return=m,p):(p=o(p,v),p.return=m,p)}function c(m,p,v,g){var S=v.type;return S===yr?d(m,p,v.props.children,g,v.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rn&&ll(S)===p.type)?(g=o(p,v.props),g.ref=nt(m,p,v),g.return=m,g):(g=yo(v.type,v.key,v.props,null,m.mode,g),g.ref=nt(m,p,v),g.return=m,g)}function u(m,p,v,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=La(v,m.mode,g),p.return=m,p):(p=o(p,v.children||[]),p.return=m,p)}function d(m,p,v,g,S){return p===null||p.tag!==7?(p=or(v,m.mode,g,S),p.return=m,p):(p=o(p,v),p.return=m,p)}function f(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ba(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case qt:return v=yo(p.type,p.key,p.props,null,m.mode,v),v.ref=nt(m,null,p),v.return=m,v;case gr:return p=La(p,m.mode,v),p.return=m,p;case Rn:var g=p._init;return f(m,g(p._payload),v)}if(at(p)||Kr(p))return p=or(p,m.mode,v,null),p.return=m,p;Jt(m,p)}return null}function h(m,p,v,g){var S=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(m,p,""+v,g);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qt:return v.key===S?c(m,p,v,g):null;case gr:return v.key===S?u(m,p,v,g):null;case Rn:return S=v._init,h(m,p,S(v._payload),g)}if(at(v)||Kr(v))return S!==null?null:d(m,p,v,g,null);Jt(m,v)}return null}function y(m,p,v,g,S){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(v)||null,l(p,m,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qt:return m=m.get(g.key===null?v:g.key)||null,c(p,m,g,S);case gr:return m=m.get(g.key===null?v:g.key)||null,u(p,m,g,S);case Rn:var _=g._init;return y(m,p,v,_(g._payload),S)}if(at(g)||Kr(g))return m=m.get(v)||null,d(p,m,g,S,null);Jt(p,g)}return null}function x(m,p,v,g){for(var S=null,_=null,R=p,j=p=0,P=null;R!==null&&j<v.length;j++){R.index>j?(P=R,R=null):P=R.sibling;var M=h(m,R,v[j],g);if(M===null){R===null&&(R=P);break}e&&R&&M.alternate===null&&n(m,R),p=s(M,p,j),_===null?S=M:_.sibling=M,_=M,R=P}if(j===v.length)return r(m,R),J&&Kn(m,j),S;if(R===null){for(;j<v.length;j++)R=f(m,v[j],g),R!==null&&(p=s(R,p,j),_===null?S=R:_.sibling=R,_=R);return J&&Kn(m,j),S}for(R=t(m,R);j<v.length;j++)P=y(R,m,j,v[j],g),P!==null&&(e&&P.alternate!==null&&R.delete(P.key===null?j:P.key),p=s(P,p,j),_===null?S=P:_.sibling=P,_=P);return e&&R.forEach(function(I){return n(m,I)}),J&&Kn(m,j),S}function C(m,p,v,g){var S=Kr(v);if(typeof S!="function")throw Error(k(150));if(v=S.call(v),v==null)throw Error(k(151));for(var _=S=null,R=p,j=p=0,P=null,M=v.next();R!==null&&!M.done;j++,M=v.next()){R.index>j?(P=R,R=null):P=R.sibling;var I=h(m,R,M.value,g);if(I===null){R===null&&(R=P);break}e&&R&&I.alternate===null&&n(m,R),p=s(I,p,j),_===null?S=I:_.sibling=I,_=I,R=P}if(M.done)return r(m,R),J&&Kn(m,j),S;if(R===null){for(;!M.done;j++,M=v.next())M=f(m,M.value,g),M!==null&&(p=s(M,p,j),_===null?S=M:_.sibling=M,_=M);return J&&Kn(m,j),S}for(R=t(m,R);!M.done;j++,M=v.next())M=y(R,m,j,M.value,g),M!==null&&(e&&M.alternate!==null&&R.delete(M.key===null?j:M.key),p=s(M,p,j),_===null?S=M:_.sibling=M,_=M);return e&&R.forEach(function(B){return n(m,B)}),J&&Kn(m,j),S}function w(m,p,v,g){if(typeof v=="object"&&v!==null&&v.type===yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case qt:e:{for(var S=v.key,_=p;_!==null;){if(_.key===S){if(S=v.type,S===yr){if(_.tag===7){r(m,_.sibling),p=o(_,v.props.children),p.return=m,m=p;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rn&&ll(S)===_.type){r(m,_.sibling),p=o(_,v.props),p.ref=nt(m,_,v),p.return=m,m=p;break e}r(m,_);break}else n(m,_);_=_.sibling}v.type===yr?(p=or(v.props.children,m.mode,g,v.key),p.return=m,m=p):(g=yo(v.type,v.key,v.props,null,m.mode,g),g.ref=nt(m,p,v),g.return=m,m=g)}return i(m);case gr:e:{for(_=v.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(m,p.sibling),p=o(p,v.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else n(m,p);p=p.sibling}p=La(v,m.mode,g),p.return=m,m=p}return i(m);case Rn:return _=v._init,w(m,p,_(v._payload),g)}if(at(v))return x(m,p,v,g);if(Kr(v))return C(m,p,v,g);Jt(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(m,p.sibling),p=o(p,v),p.return=m,m=p):(r(m,p),p=ba(v,m.mode,g),p.return=m,m=p),i(m)):r(m,p)}return w}var Br=Kc(!0),Xc=Kc(!1),Po=Hn(null),Io=null,Nr=null,Js=null;function ei(){Js=Nr=Io=null}function ni(e){var n=Po.current;Z(Po),e._currentValue=n}function ps(e,n,r){for(;e!==null;){var t=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,t!==null&&(t.childLanes|=n)):t!==null&&(t.childLanes&n)!==n&&(t.childLanes|=n),e===r)break;e=e.return}}function Pr(e,n){Io=e,Js=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(be=!0),e.firstContext=null)}function Xe(e){var n=e._currentValue;if(Js!==e)if(e={context:e,memoizedValue:n,next:null},Nr===null){if(Io===null)throw Error(k(308));Nr=e,Io.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return n}var Jn=null;function ri(e){Jn===null?Jn=[e]:Jn.push(e)}function Zc(e,n,r,t){var o=n.interleaved;return o===null?(r.next=r,ri(n)):(r.next=o.next,o.next=r),n.interleaved=r,jn(e,t)}function jn(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Dn=!1;function ti(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function On(e,n,r){var t=e.updateQueue;if(t===null)return null;if(t=t.shared,V&2){var o=t.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n,jn(e,r)}return o=t.interleaved,o===null?(n.next=n,ri(t)):(n.next=o.next,o.next=n),t.interleaved=n,jn(e,r)}function uo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var t=n.lanes;t&=e.pendingLanes,r|=t,n.lanes=r,qs(e,r)}}function cl(e,n){var r=e.updateQueue,t=e.alternate;if(t!==null&&(t=t.updateQueue,r===t)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?o=s=n:s=s.next=n}else o=s=n;r={baseState:t.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:t.shared,effects:t.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function To(e,n,r,t){var o=e.updateQueue;Dn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=o.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,y=l.eventTime;if((t&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,C=l;switch(h=n,y=r,C.tag){case 1:if(x=C.payload,typeof x=="function"){f=x.call(y,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=C.payload,h=typeof x=="function"?x.call(y,f,h):x,h==null)break e;f=re({},f,h);break e;case 2:Dn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,i|=h;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;h=l,l=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,n=o.shared.interleaved,n!==null){o=n;do i|=o.lane,o=o.next;while(o!==n)}else s===null&&(o.shared.lanes=0);lr|=i,e.lanes=i,e.memoizedState=f}}function ul(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var t=e[n],o=t.callback;if(o!==null){if(t.callback=null,t=r,typeof o!="function")throw Error(k(191,o));o.call(t)}}}var Ot={},pn=Hn(Ot),Rt=Hn(Ot),Dt=Hn(Ot);function er(e){if(e===Ot)throw Error(k(174));return e}function oi(e,n){switch(K(Dt,n),K(Rt,e),K(pn,Ot),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Wa(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Wa(n,e)}Z(pn),K(pn,n)}function Or(){Z(pn),Z(Rt),Z(Dt)}function eu(e){er(Dt.current);var n=er(pn.current),r=Wa(n,e.type);n!==r&&(K(Rt,e),K(pn,r))}function ai(e){Rt.current===e&&(Z(pn),Z(Rt))}var ee=Hn(0);function bo(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Da=[];function si(){for(var e=0;e<Da.length;e++)Da[e]._workInProgressVersionPrimary=null;Da.length=0}var mo=Nn.ReactCurrentDispatcher,Ma=Nn.ReactCurrentBatchConfig,ir=0,ne=null,me=null,ge=null,Lo=!1,pt=!1,Mt=0,Xm=0;function ke(){throw Error(k(321))}function ii(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!an(e[r],n[r]))return!1;return!0}function li(e,n,r,t,o,s){if(ir=s,ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,mo.current=e===null||e.memoizedState===null?np:rp,e=r(t,o),pt){s=0;do{if(pt=!1,Mt=0,25<=s)throw Error(k(301));s+=1,ge=me=null,n.updateQueue=null,mo.current=tp,e=r(t,o)}while(pt)}if(mo.current=Bo,n=me!==null&&me.next!==null,ir=0,ge=me=ne=null,Lo=!1,n)throw Error(k(300));return e}function ci(){var e=Mt!==0;return Mt=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ne.memoizedState=ge=e:ge=ge.next=e,ge}function Ze(){if(me===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var n=ge===null?ne.memoizedState:ge.next;if(n!==null)ge=n,me=e;else{if(e===null)throw Error(k(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ge===null?ne.memoizedState=ge=e:ge=ge.next=e}return ge}function At(e,n){return typeof n=="function"?n(e):n}function Aa(e){var n=Ze(),r=n.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=e;var t=me,o=t.baseQueue,s=r.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}t.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,t=t.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ir&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),t=u.hasEagerState?u.eagerState:e(t,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=t):c=c.next=f,ne.lanes|=d,lr|=d}u=u.next}while(u!==null&&u!==s);c===null?i=t:c.next=l,an(t,n.memoizedState)||(be=!0),n.memoizedState=t,n.baseState=i,n.baseQueue=c,r.lastRenderedState=t}if(e=r.interleaved,e!==null){o=e;do s=o.lane,ne.lanes|=s,lr|=s,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Pa(e){var n=Ze(),r=n.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=e;var t=r.dispatch,o=r.pending,s=n.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);an(s,n.memoizedState)||(be=!0),n.memoizedState=s,n.baseQueue===null&&(n.baseState=s),r.lastRenderedState=s}return[s,t]}function nu(){}function ru(e,n){var r=ne,t=Ze(),o=n(),s=!an(t.memoizedState,o);if(s&&(t.memoizedState=o,be=!0),t=t.queue,ui(au.bind(null,r,t,e),[e]),t.getSnapshot!==n||s||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,Pt(9,ou.bind(null,r,t,o,n),void 0,null),ye===null)throw Error(k(349));ir&30||tu(r,n,o)}return o}function tu(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=ne.updateQueue,n===null?(n={lastEffect:null,stores:null},ne.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ou(e,n,r,t){n.value=r,n.getSnapshot=t,su(n)&&iu(e)}function au(e,n,r){return r(function(){su(n)&&iu(e)})}function su(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!an(e,r)}catch{return!0}}function iu(e){var n=jn(e,1);n!==null&&on(n,e,1,-1)}function dl(e){var n=un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:At,lastRenderedState:e},n.queue=e,e=e.dispatch=ep.bind(null,ne,e),[n.memoizedState,e]}function Pt(e,n,r,t){return e={tag:e,create:n,destroy:r,deps:t,next:null},n=ne.updateQueue,n===null?(n={lastEffect:null,stores:null},ne.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(t=r.next,r.next=e,e.next=t,n.lastEffect=e)),e}function lu(){return Ze().memoizedState}function po(e,n,r,t){var o=un();ne.flags|=e,o.memoizedState=Pt(1|n,r,void 0,t===void 0?null:t)}function Ko(e,n,r,t){var o=Ze();t=t===void 0?null:t;var s=void 0;if(me!==null){var i=me.memoizedState;if(s=i.destroy,t!==null&&ii(t,i.deps)){o.memoizedState=Pt(n,r,s,t);return}}ne.flags|=e,o.memoizedState=Pt(1|n,r,s,t)}function ml(e,n){return po(8390656,8,e,n)}function ui(e,n){return Ko(2048,8,e,n)}function cu(e,n){return Ko(4,2,e,n)}function uu(e,n){return Ko(4,4,e,n)}function du(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mu(e,n,r){return r=r!=null?r.concat([e]):null,Ko(4,4,du.bind(null,n,e),r)}function di(){}function pu(e,n){var r=Ze();n=n===void 0?null:n;var t=r.memoizedState;return t!==null&&n!==null&&ii(n,t[1])?t[0]:(r.memoizedState=[e,n],e)}function fu(e,n){var r=Ze();n=n===void 0?null:n;var t=r.memoizedState;return t!==null&&n!==null&&ii(n,t[1])?t[0]:(e=e(),r.memoizedState=[e,n],e)}function hu(e,n,r){return ir&21?(an(r,n)||(r=Cc(),ne.lanes|=r,lr|=r,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,be=!0),e.memoizedState=r)}function Zm(e,n){var r=W;W=r!==0&&4>r?r:4,e(!0);var t=Ma.transition;Ma.transition={};try{e(!1),n()}finally{W=r,Ma.transition=t}}function gu(){return Ze().memoizedState}function Jm(e,n,r){var t=Fn(e);if(r={lane:t,action:r,hasEagerState:!1,eagerState:null,next:null},yu(e))vu(n,r);else if(r=Zc(e,n,r,t),r!==null){var o=Ae();on(r,e,t,o),xu(r,n,t)}}function ep(e,n,r){var t=Fn(e),o={lane:t,action:r,hasEagerState:!1,eagerState:null,next:null};if(yu(e))vu(n,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=n.lastRenderedReducer,s!==null))try{var i=n.lastRenderedState,l=s(i,r);if(o.hasEagerState=!0,o.eagerState=l,an(l,i)){var c=n.interleaved;c===null?(o.next=o,ri(n)):(o.next=c.next,c.next=o),n.interleaved=o;return}}catch{}finally{}r=Zc(e,n,o,t),r!==null&&(o=Ae(),on(r,e,t,o),xu(r,n,t))}}function yu(e){var n=e.alternate;return e===ne||n!==null&&n===ne}function vu(e,n){pt=Lo=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function xu(e,n,r){if(r&4194240){var t=n.lanes;t&=e.pendingLanes,r|=t,n.lanes=r,qs(e,r)}}var Bo={readContext:Xe,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},np={readContext:Xe,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:ml,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,po(4194308,4,du.bind(null,n,e),r)},useLayoutEffect:function(e,n){return po(4194308,4,e,n)},useInsertionEffect:function(e,n){return po(4,2,e,n)},useMemo:function(e,n){var r=un();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var t=un();return n=r!==void 0?r(n):n,t.memoizedState=t.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},t.queue=e,e=e.dispatch=Jm.bind(null,ne,e),[t.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:dl,useDebugValue:di,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=dl(!1),n=e[0];return e=Zm.bind(null,e[1]),un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var t=ne,o=un();if(J){if(r===void 0)throw Error(k(407));r=r()}else{if(r=n(),ye===null)throw Error(k(349));ir&30||tu(t,n,r)}o.memoizedState=r;var s={value:r,getSnapshot:n};return o.queue=s,ml(au.bind(null,t,s,e),[e]),t.flags|=2048,Pt(9,ou.bind(null,t,s,r,n),void 0,null),r},useId:function(){var e=un(),n=ye.identifierPrefix;if(J){var r=xn,t=vn;r=(t&~(1<<32-tn(t)-1)).toString(32)+r,n=":"+n+"R"+r,r=Mt++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Xm++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},rp={readContext:Xe,useCallback:pu,useContext:Xe,useEffect:ui,useImperativeHandle:mu,useInsertionEffect:cu,useLayoutEffect:uu,useMemo:fu,useReducer:Aa,useRef:lu,useState:function(){return Aa(At)},useDebugValue:di,useDeferredValue:function(e){var n=Ze();return hu(n,me.memoizedState,e)},useTransition:function(){var e=Aa(At)[0],n=Ze().memoizedState;return[e,n]},useMutableSource:nu,useSyncExternalStore:ru,useId:gu,unstable_isNewReconciler:!1},tp={readContext:Xe,useCallback:pu,useContext:Xe,useEffect:ui,useImperativeHandle:mu,useInsertionEffect:cu,useLayoutEffect:uu,useMemo:fu,useReducer:Pa,useRef:lu,useState:function(){return Pa(At)},useDebugValue:di,useDeferredValue:function(e){var n=Ze();return me===null?n.memoizedState=e:hu(n,me.memoizedState,e)},useTransition:function(){var e=Pa(At)[0],n=Ze().memoizedState;return[e,n]},useMutableSource:nu,useSyncExternalStore:ru,useId:gu,unstable_isNewReconciler:!1};function en(e,n){if(e&&e.defaultProps){n=re({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function fs(e,n,r,t){n=e.memoizedState,r=r(t,n),r=r==null?n:re({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xo={isMounted:function(e){return(e=e._reactInternals)?dr(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var t=Ae(),o=Fn(e),s=Cn(t,o);s.payload=n,r!=null&&(s.callback=r),n=On(e,s,o),n!==null&&(on(n,e,o,t),uo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var t=Ae(),o=Fn(e),s=Cn(t,o);s.tag=1,s.payload=n,r!=null&&(s.callback=r),n=On(e,s,o),n!==null&&(on(n,e,o,t),uo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Ae(),t=Fn(e),o=Cn(r,t);o.tag=2,n!=null&&(o.callback=n),n=On(e,o,t),n!==null&&(on(n,e,t,r),uo(n,e,t))}};function pl(e,n,r,t,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(t,s,i):n.prototype&&n.prototype.isPureReactComponent?!wt(r,t)||!wt(o,s):!0}function Cu(e,n,r){var t=!1,o=$n,s=n.contextType;return typeof s=="object"&&s!==null?s=Xe(s):(o=Be(n)?ar:De.current,t=n.contextTypes,s=(t=t!=null)?br(e,o):$n),n=new n(r,s),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Xo,e.stateNode=n,n._reactInternals=e,t&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),n}function fl(e,n,r,t){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,t),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,t),n.state!==e&&Xo.enqueueReplaceState(n,n.state,null)}function hs(e,n,r,t){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},ti(e);var s=n.contextType;typeof s=="object"&&s!==null?o.context=Xe(s):(s=Be(n)?ar:De.current,o.context=br(e,s)),o.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(fs(e,n,s,r),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(n=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),n!==o.state&&Xo.enqueueReplaceState(o,o.state,null),To(e,r,o,t),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function zr(e,n){try{var r="",t=n;do r+=Ad(t),t=t.return;while(t);var o=r}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:n,stack:o,digest:null}}function Ia(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function gs(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var op=typeof WeakMap=="function"?WeakMap:Map;function Eu(e,n,r){r=Cn(-1,r),r.tag=3,r.payload={element:null};var t=n.value;return r.callback=function(){zo||(zo=!0,ks=t),gs(e,n)},r}function Su(e,n,r){r=Cn(-1,r),r.tag=3;var t=e.type.getDerivedStateFromError;if(typeof t=="function"){var o=n.value;r.payload=function(){return t(o)},r.callback=function(){gs(e,n)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){gs(e,n),typeof t!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var i=n.stack;this.componentDidCatch(n.value,{componentStack:i!==null?i:""})}),r}function hl(e,n,r){var t=e.pingCache;if(t===null){t=e.pingCache=new op;var o=new Set;t.set(n,o)}else o=t.get(n),o===void 0&&(o=new Set,t.set(n,o));o.has(r)||(o.add(r),e=vp.bind(null,e,n,r),n.then(e,e))}function gl(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function yl(e,n,r,t,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=Cn(-1,1),n.tag=2,On(r,n,1))),r.lanes|=1),e)}var ap=Nn.ReactCurrentOwner,be=!1;function Me(e,n,r,t){n.child=e===null?Xc(n,null,r,t):Br(n,e.child,r,t)}function vl(e,n,r,t,o){r=r.render;var s=n.ref;return Pr(n,o),t=li(e,n,r,t,s,o),r=ci(),e!==null&&!be?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,wn(e,n,o)):(J&&r&&Ks(n),n.flags|=1,Me(e,n,t,o),n.child)}function xl(e,n,r,t,o){if(e===null){var s=r.type;return typeof s=="function"&&!xi(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=s,ju(e,n,s,t,o)):(e=yo(r.type,null,t,n,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:wt,r(i,t)&&e.ref===n.ref)return wn(e,n,o)}return n.flags|=1,e=Un(s,t),e.ref=n.ref,e.return=n,n.child=e}function ju(e,n,r,t,o){if(e!==null){var s=e.memoizedProps;if(wt(s,t)&&e.ref===n.ref)if(be=!1,n.pendingProps=t=s,(e.lanes&o)!==0)e.flags&131072&&(be=!0);else return n.lanes=e.lanes,wn(e,n,o)}return ys(e,n,r,t,o)}function wu(e,n,r){var t=n.pendingProps,o=t.children,s=e!==null?e.memoizedState:null;if(t.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(_r,Fe),Fe|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,K(_r,Fe),Fe|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},t=s!==null?s.baseLanes:r,K(_r,Fe),Fe|=t}else s!==null?(t=s.baseLanes|r,n.memoizedState=null):t=r,K(_r,Fe),Fe|=t;return Me(e,n,o,r),n.child}function Nu(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function ys(e,n,r,t,o){var s=Be(r)?ar:De.current;return s=br(n,s),Pr(n,o),r=li(e,n,r,t,s,o),t=ci(),e!==null&&!be?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,wn(e,n,o)):(J&&t&&Ks(n),n.flags|=1,Me(e,n,r,o),n.child)}function Cl(e,n,r,t,o){if(Be(r)){var s=!0;Do(n)}else s=!1;if(Pr(n,o),n.stateNode===null)fo(e,n),Cu(n,r,t),hs(n,r,t,o),t=!0;else if(e===null){var i=n.stateNode,l=n.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=Be(r)?ar:De.current,u=br(n,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==t||c!==u)&&fl(n,i,t,u),Dn=!1;var h=n.memoizedState;i.state=h,To(n,t,i,o),c=n.memoizedState,l!==t||h!==c||Le.current||Dn?(typeof d=="function"&&(fs(n,r,d,t),c=n.memoizedState),(l=Dn||pl(n,r,l,t,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(n.flags|=4194308)):(typeof i.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=t,n.memoizedState=c),i.props=t,i.state=c,i.context=u,t=l):(typeof i.componentDidMount=="function"&&(n.flags|=4194308),t=!1)}else{i=n.stateNode,Jc(e,n),l=n.memoizedProps,u=n.type===n.elementType?l:en(n.type,l),i.props=u,f=n.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xe(c):(c=Be(r)?ar:De.current,c=br(n,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&fl(n,i,t,c),Dn=!1,h=n.memoizedState,i.state=h,To(n,t,i,o);var x=n.memoizedState;l!==f||h!==x||Le.current||Dn?(typeof y=="function"&&(fs(n,r,y,t),x=n.memoizedState),(u=Dn||pl(n,r,u,t,h,x,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(t,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(t,x,c)),typeof i.componentDidUpdate=="function"&&(n.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(n.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(n.flags|=1024),n.memoizedProps=t,n.memoizedState=x),i.props=t,i.state=x,i.context=c,t=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(n.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(n.flags|=1024),t=!1)}return vs(e,n,r,t,s,o)}function vs(e,n,r,t,o,s){Nu(e,n);var i=(n.flags&128)!==0;if(!t&&!i)return o&&al(n,r,!1),wn(e,n,s);t=n.stateNode,ap.current=n;var l=i&&typeof r.getDerivedStateFromError!="function"?null:t.render();return n.flags|=1,e!==null&&i?(n.child=Br(n,e.child,null,s),n.child=Br(n,null,l,s)):Me(e,n,l,s),n.memoizedState=t.state,o&&al(n,r,!0),n.child}function ku(e){var n=e.stateNode;n.pendingContext?ol(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ol(e,n.context,!1),oi(e,n.containerInfo)}function El(e,n,r,t,o){return Lr(),Zs(o),n.flags|=256,Me(e,n,r,t),n.child}var xs={dehydrated:null,treeContext:null,retryLane:0};function Cs(e){return{baseLanes:e,cachePool:null,transitions:null}}function _u(e,n,r){var t=n.pendingProps,o=ee.current,s=!1,i=(n.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),K(ee,o&1),e===null)return ms(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(i=t.children,e=t.fallback,s?(t=n.mode,s=n.child,i={mode:"hidden",children:i},!(t&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ea(i,t,0,null),e=or(e,t,r,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=Cs(r),n.memoizedState=xs,e):mi(n,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return sp(e,n,i,t,l,o,r);if(s){s=t.fallback,i=n.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:t.children};return!(i&1)&&n.child!==o?(t=n.child,t.childLanes=0,t.pendingProps=c,n.deletions=null):(t=Un(o,c),t.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=Un(l,s):(s=or(s,i,r,null),s.flags|=2),s.return=n,t.return=n,t.sibling=s,n.child=t,t=s,s=n.child,i=e.child.memoizedState,i=i===null?Cs(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,n.memoizedState=xs,t}return s=e.child,e=s.sibling,t=Un(s,{mode:"visible",children:t.children}),!(n.mode&1)&&(t.lanes=r),t.return=n,t.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=t,n.memoizedState=null,t}function mi(e,n){return n=ea({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function eo(e,n,r,t){return t!==null&&Zs(t),Br(n,e.child,null,r),e=mi(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sp(e,n,r,t,o,s,i){if(r)return n.flags&256?(n.flags&=-257,t=Ia(Error(k(422))),eo(e,n,i,t)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(s=t.fallback,o=n.mode,t=ea({mode:"visible",children:t.children},o,0,null),s=or(s,o,i,null),s.flags|=2,t.return=n,s.return=n,t.sibling=s,n.child=t,n.mode&1&&Br(n,e.child,null,i),n.child.memoizedState=Cs(i),n.memoizedState=xs,s);if(!(n.mode&1))return eo(e,n,i,null);if(o.data==="$!"){if(t=o.nextSibling&&o.nextSibling.dataset,t)var l=t.dgst;return t=l,s=Error(k(419)),t=Ia(s,t,void 0),eo(e,n,i,t)}if(l=(i&e.childLanes)!==0,be||l){if(t=ye,t!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(t.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,jn(e,o),on(t,e,o,-1))}return vi(),t=Ia(Error(k(421))),eo(e,n,i,t)}return o.data==="$?"?(n.flags|=128,n.child=e.child,n=xp.bind(null,e),o._reactRetry=n,null):(e=s.treeContext,Ue=Bn(o.nextSibling),qe=n,J=!0,rn=null,e!==null&&(We[Qe++]=vn,We[Qe++]=xn,We[Qe++]=sr,vn=e.id,xn=e.overflow,sr=n),n=mi(n,t.children),n.flags|=4096,n)}function Sl(e,n,r){e.lanes|=n;var t=e.alternate;t!==null&&(t.lanes|=n),ps(e.return,n,r)}function Ta(e,n,r,t,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:t,tail:r,tailMode:o}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=t,s.tail=r,s.tailMode=o)}function Ru(e,n,r){var t=n.pendingProps,o=t.revealOrder,s=t.tail;if(Me(e,n,t.children,r),t=ee.current,t&2)t=t&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sl(e,r,n);else if(e.tag===19)Sl(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}t&=1}if(K(ee,t),!(n.mode&1))n.memoizedState=null;else switch(o){case"forwards":for(r=n.child,o=null;r!==null;)e=r.alternate,e!==null&&bo(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=n.child,n.child=null):(o=r.sibling,r.sibling=null),Ta(n,!1,o,r,s);break;case"backwards":for(r=null,o=n.child,n.child=null;o!==null;){if(e=o.alternate,e!==null&&bo(e)===null){n.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Ta(n,!0,r,null,s);break;case"together":Ta(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function fo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function wn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),lr|=n.lanes,!(r&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(k(153));if(n.child!==null){for(e=n.child,r=Un(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Un(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function ip(e,n,r){switch(n.tag){case 3:ku(n),Lr();break;case 5:eu(n);break;case 1:Be(n.type)&&Do(n);break;case 4:oi(n,n.stateNode.containerInfo);break;case 10:var t=n.type._context,o=n.memoizedProps.value;K(Po,t._currentValue),t._currentValue=o;break;case 13:if(t=n.memoizedState,t!==null)return t.dehydrated!==null?(K(ee,ee.current&1),n.flags|=128,null):r&n.child.childLanes?_u(e,n,r):(K(ee,ee.current&1),e=wn(e,n,r),e!==null?e.sibling:null);K(ee,ee.current&1);break;case 19:if(t=(r&n.childLanes)!==0,e.flags&128){if(t)return Ru(e,n,r);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(ee,ee.current),t)break;return null;case 22:case 23:return n.lanes=0,wu(e,n,r)}return wn(e,n,r)}var Du,Es,Mu,Au;Du=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Es=function(){};Mu=function(e,n,r,t){var o=e.memoizedProps;if(o!==t){e=n.stateNode,er(pn.current);var s=null;switch(r){case"input":o=$a(e,o),t=$a(e,t),s=[];break;case"select":o=re({},o,{value:void 0}),t=re({},t,{value:void 0}),s=[];break;case"textarea":o=Ga(e,o),t=Ga(e,t),s=[];break;default:typeof o.onClick!="function"&&typeof t.onClick=="function"&&(e.onclick=_o)}Qa(r,t);var i;r=null;for(u in o)if(!t.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yt.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in t){var c=t[u];if(l=o!=null?o[u]:void 0,t.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yt.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&X("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(n.updateQueue=u)&&(n.flags|=4)}};Au=function(e,n,r,t){r!==t&&(n.flags|=4)};function rt(e,n){if(!J)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var t=null;r!==null;)r.alternate!==null&&(t=r),r=r.sibling;t===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:t.sibling=null}}function _e(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,t=0;if(n)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,t|=o.subtreeFlags&14680064,t|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,t|=o.subtreeFlags,t|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=t,e.childLanes=r,n}function lp(e,n,r){var t=n.pendingProps;switch(Xs(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(n),null;case 1:return Be(n.type)&&Ro(),_e(n),null;case 3:return t=n.stateNode,Or(),Z(Le),Z(De),si(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(e===null||e.child===null)&&(Zt(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,rn!==null&&(Ds(rn),rn=null))),Es(e,n),_e(n),null;case 5:ai(n);var o=er(Dt.current);if(r=n.type,e!==null&&n.stateNode!=null)Mu(e,n,r,t,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!t){if(n.stateNode===null)throw Error(k(166));return _e(n),null}if(e=er(pn.current),Zt(n)){t=n.stateNode,r=n.type;var s=n.memoizedProps;switch(t[dn]=n,t[_t]=s,e=(n.mode&1)!==0,r){case"dialog":X("cancel",t),X("close",t);break;case"iframe":case"object":case"embed":X("load",t);break;case"video":case"audio":for(o=0;o<it.length;o++)X(it[o],t);break;case"source":X("error",t);break;case"img":case"image":case"link":X("error",t),X("load",t);break;case"details":X("toggle",t);break;case"input":Ai(t,s),X("invalid",t);break;case"select":t._wrapperState={wasMultiple:!!s.multiple},X("invalid",t);break;case"textarea":Ii(t,s),X("invalid",t)}Qa(r,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?t.textContent!==l&&(s.suppressHydrationWarning!==!0&&Xt(t.textContent,l,e),o=["children",l]):typeof l=="number"&&t.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Xt(t.textContent,l,e),o=["children",""+l]):yt.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&X("scroll",t)}switch(r){case"input":$t(t),Pi(t,s,!0);break;case"textarea":$t(t),Ti(t);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(t.onclick=_o)}t=o,n.updateQueue=t,t!==null&&(n.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ac(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof t.is=="string"?e=i.createElement(r,{is:t.is}):(e=i.createElement(r),r==="select"&&(i=e,t.multiple?i.multiple=!0:t.size&&(i.size=t.size))):e=i.createElementNS(e,r),e[dn]=n,e[_t]=t,Du(e,n,!1,!1),n.stateNode=e;e:{switch(i=Ya(r,t),r){case"dialog":X("cancel",e),X("close",e),o=t;break;case"iframe":case"object":case"embed":X("load",e),o=t;break;case"video":case"audio":for(o=0;o<it.length;o++)X(it[o],e);o=t;break;case"source":X("error",e),o=t;break;case"img":case"image":case"link":X("error",e),X("load",e),o=t;break;case"details":X("toggle",e),o=t;break;case"input":Ai(e,t),o=$a(e,t),X("invalid",e);break;case"option":o=t;break;case"select":e._wrapperState={wasMultiple:!!t.multiple},o=re({},t,{value:void 0}),X("invalid",e);break;case"textarea":Ii(e,t),o=Ga(e,t),X("invalid",e);break;default:o=t}Qa(r,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?lc(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sc(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&vt(e,c):typeof c=="number"&&vt(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yt.hasOwnProperty(s)?c!=null&&s==="onScroll"&&X("scroll",e):c!=null&&Ls(e,s,c,i))}switch(r){case"input":$t(e),Pi(e,t,!1);break;case"textarea":$t(e),Ti(e);break;case"option":t.value!=null&&e.setAttribute("value",""+qn(t.value));break;case"select":e.multiple=!!t.multiple,s=t.value,s!=null?Rr(e,!!t.multiple,s,!1):t.defaultValue!=null&&Rr(e,!!t.multiple,t.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=_o)}switch(r){case"button":case"input":case"select":case"textarea":t=!!t.autoFocus;break e;case"img":t=!0;break e;default:t=!1}}t&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return _e(n),null;case 6:if(e&&n.stateNode!=null)Au(e,n,e.memoizedProps,t);else{if(typeof t!="string"&&n.stateNode===null)throw Error(k(166));if(r=er(Dt.current),er(pn.current),Zt(n)){if(t=n.stateNode,r=n.memoizedProps,t[dn]=n,(s=t.nodeValue!==r)&&(e=qe,e!==null))switch(e.tag){case 3:Xt(t.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xt(t.nodeValue,r,(e.mode&1)!==0)}s&&(n.flags|=4)}else t=(r.nodeType===9?r:r.ownerDocument).createTextNode(t),t[dn]=n,n.stateNode=t}return _e(n),null;case 13:if(Z(ee),t=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Ue!==null&&n.mode&1&&!(n.flags&128))Yc(),Lr(),n.flags|=98560,s=!1;else if(s=Zt(n),t!==null&&t.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=n.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[dn]=n}else Lr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;_e(n),s=!1}else rn!==null&&(Ds(rn),rn=null),s=!0;if(!s)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(t=t!==null,t!==(e!==null&&e.memoizedState!==null)&&t&&(n.child.flags|=8192,n.mode&1&&(e===null||ee.current&1?pe===0&&(pe=3):vi())),n.updateQueue!==null&&(n.flags|=4),_e(n),null);case 4:return Or(),Es(e,n),e===null&&Nt(n.stateNode.containerInfo),_e(n),null;case 10:return ni(n.type._context),_e(n),null;case 17:return Be(n.type)&&Ro(),_e(n),null;case 19:if(Z(ee),s=n.memoizedState,s===null)return _e(n),null;if(t=(n.flags&128)!==0,i=s.rendering,i===null)if(t)rt(s,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(i=bo(e),i!==null){for(n.flags|=128,rt(s,!1),t=i.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),n.subtreeFlags=0,t=r,r=n.child;r!==null;)s=r,e=t,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return K(ee,ee.current&1|2),n.child}e=e.sibling}s.tail!==null&&ie()>Fr&&(n.flags|=128,t=!0,rt(s,!1),n.lanes=4194304)}else{if(!t)if(e=bo(i),e!==null){if(n.flags|=128,t=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),rt(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!J)return _e(n),null}else 2*ie()-s.renderingStartTime>Fr&&r!==1073741824&&(n.flags|=128,t=!0,rt(s,!1),n.lanes=4194304);s.isBackwards?(i.sibling=n.child,n.child=i):(r=s.last,r!==null?r.sibling=i:n.child=i,s.last=i)}return s.tail!==null?(n=s.tail,s.rendering=n,s.tail=n.sibling,s.renderingStartTime=ie(),n.sibling=null,r=ee.current,K(ee,t?r&1|2:r&1),n):(_e(n),null);case 22:case 23:return yi(),t=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==t&&(n.flags|=8192),t&&n.mode&1?Fe&1073741824&&(_e(n),n.subtreeFlags&6&&(n.flags|=8192)):_e(n),null;case 24:return null;case 25:return null}throw Error(k(156,n.tag))}function cp(e,n){switch(Xs(n),n.tag){case 1:return Be(n.type)&&Ro(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Or(),Z(Le),Z(De),si(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return ai(n),null;case 13:if(Z(ee),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(k(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Z(ee),null;case 4:return Or(),null;case 10:return ni(n.type._context),null;case 22:case 23:return yi(),null;case 24:return null;default:return null}}var no=!1,Re=!1,up=typeof WeakSet=="function"?WeakSet:Set,A=null;function kr(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(t){ae(e,n,t)}else r.current=null}function Ss(e,n,r){try{r()}catch(t){ae(e,n,t)}}var jl=!1;function dp(e,n){if(as=wo,e=Lc(),Ys(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var t=r.getSelection&&r.getSelection();if(t&&t.rangeCount!==0){r=t.anchorNode;var o=t.anchorOffset,s=t.focusNode;t=t.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;n:for(;;){for(var y;f!==r||o!==0&&f.nodeType!==3||(l=i+o),f!==s||t!==0&&f.nodeType!==3||(c=i+t),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break n;if(h===r&&++u===o&&(l=i),h===s&&++d===t&&(c=i),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ss={focusedElem:e,selectionRange:r},wo=!1,A=n;A!==null;)if(n=A,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,A=e;else for(;A!==null;){n=A;try{var x=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var C=x.memoizedProps,w=x.memoizedState,m=n.stateNode,p=m.getSnapshotBeforeUpdate(n.elementType===n.type?C:en(n.type,C),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=n.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(g){ae(n,n.return,g)}if(e=n.sibling,e!==null){e.return=n.return,A=e;break}A=n.return}return x=jl,jl=!1,x}function ft(e,n,r){var t=n.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Ss(n,r,s)}o=o.next}while(o!==t)}}function Zo(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var t=r.create;r.destroy=t()}r=r.next}while(r!==n)}}function js(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function Pu(e){var n=e.alternate;n!==null&&(e.alternate=null,Pu(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[dn],delete n[_t],delete n[cs],delete n[Wm],delete n[Qm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iu(e){return e.tag===5||e.tag===3||e.tag===4}function wl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ws(e,n,r){var t=e.tag;if(t===5||t===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=_o));else if(t!==4&&(e=e.child,e!==null))for(ws(e,n,r),e=e.sibling;e!==null;)ws(e,n,r),e=e.sibling}function Ns(e,n,r){var t=e.tag;if(t===5||t===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(t!==4&&(e=e.child,e!==null))for(Ns(e,n,r),e=e.sibling;e!==null;)Ns(e,n,r),e=e.sibling}var Se=null,nn=!1;function _n(e,n,r){for(r=r.child;r!==null;)Tu(e,n,r),r=r.sibling}function Tu(e,n,r){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Vo,r)}catch{}switch(r.tag){case 5:Re||kr(r,n);case 6:var t=Se,o=nn;Se=null,_n(e,n,r),Se=t,nn=o,Se!==null&&(nn?(e=Se,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Se.removeChild(r.stateNode));break;case 18:Se!==null&&(nn?(e=Se,r=r.stateNode,e.nodeType===8?_a(e.parentNode,r):e.nodeType===1&&_a(e,r),St(e)):_a(Se,r.stateNode));break;case 4:t=Se,o=nn,Se=r.stateNode.containerInfo,nn=!0,_n(e,n,r),Se=t,nn=o;break;case 0:case 11:case 14:case 15:if(!Re&&(t=r.updateQueue,t!==null&&(t=t.lastEffect,t!==null))){o=t=t.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Ss(r,n,i),o=o.next}while(o!==t)}_n(e,n,r);break;case 1:if(!Re&&(kr(r,n),t=r.stateNode,typeof t.componentWillUnmount=="function"))try{t.props=r.memoizedProps,t.state=r.memoizedState,t.componentWillUnmount()}catch(l){ae(r,n,l)}_n(e,n,r);break;case 21:_n(e,n,r);break;case 22:r.mode&1?(Re=(t=Re)||r.memoizedState!==null,_n(e,n,r),Re=t):_n(e,n,r);break;default:_n(e,n,r)}}function Nl(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new up),n.forEach(function(t){var o=Cp.bind(null,e,t);r.has(t)||(r.add(t),t.then(o,o))})}}function Je(e,n){var r=n.deletions;if(r!==null)for(var t=0;t<r.length;t++){var o=r[t];try{var s=e,i=n,l=i;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,nn=!1;break e;case 3:Se=l.stateNode.containerInfo,nn=!0;break e;case 4:Se=l.stateNode.containerInfo,nn=!0;break e}l=l.return}if(Se===null)throw Error(k(160));Tu(s,i,o),Se=null,nn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){ae(o,n,u)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)bu(n,e),n=n.sibling}function bu(e,n){var r=e.alternate,t=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(n,e),ln(e),t&4){try{ft(3,e,e.return),Zo(3,e)}catch(C){ae(e,e.return,C)}try{ft(5,e,e.return)}catch(C){ae(e,e.return,C)}}break;case 1:Je(n,e),ln(e),t&512&&r!==null&&kr(r,r.return);break;case 5:if(Je(n,e),ln(e),t&512&&r!==null&&kr(r,r.return),e.flags&32){var o=e.stateNode;try{vt(o,"")}catch(C){ae(e,e.return,C)}}if(t&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&tc(o,s),Ya(l,i);var u=Ya(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?lc(o,f):d==="dangerouslySetInnerHTML"?sc(o,f):d==="children"?vt(o,f):Ls(o,d,f,u)}switch(l){case"input":Va(o,s);break;case"textarea":oc(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Rr(o,!!s.multiple,y,!1):h!==!!s.multiple&&(s.defaultValue!=null?Rr(o,!!s.multiple,s.defaultValue,!0):Rr(o,!!s.multiple,s.multiple?[]:"",!1))}o[_t]=s}catch(C){ae(e,e.return,C)}}break;case 6:if(Je(n,e),ln(e),t&4){if(e.stateNode===null)throw Error(k(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(C){ae(e,e.return,C)}}break;case 3:if(Je(n,e),ln(e),t&4&&r!==null&&r.memoizedState.isDehydrated)try{St(n.containerInfo)}catch(C){ae(e,e.return,C)}break;case 4:Je(n,e),ln(e);break;case 13:Je(n,e),ln(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(hi=ie())),t&4&&Nl(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Re=(u=Re)||d,Je(n,e),Re=u):Je(n,e),ln(e),t&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(f=A=d;A!==null;){switch(h=A,y=h.child,h.tag){case 0:case 11:case 14:case 15:ft(4,h,h.return);break;case 1:kr(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){t=h,r=h.return;try{n=t,x.props=n.memoizedProps,x.state=n.memoizedState,x.componentWillUnmount()}catch(C){ae(t,r,C)}}break;case 5:kr(h,h.return);break;case 22:if(h.memoizedState!==null){_l(f);continue}}y!==null?(y.return=h,A=y):_l(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ic("display",i))}catch(C){ae(e,e.return,C)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(C){ae(e,e.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Je(n,e),ln(e),t&4&&Nl(e);break;case 21:break;default:Je(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(Iu(r)){var t=r;break e}r=r.return}throw Error(k(160))}switch(t.tag){case 5:var o=t.stateNode;t.flags&32&&(vt(o,""),t.flags&=-33);var s=wl(e);Ns(e,s,o);break;case 3:case 4:var i=t.stateNode.containerInfo,l=wl(e);ws(e,l,i);break;default:throw Error(k(161))}}catch(c){ae(e,e.return,c)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function mp(e,n,r){A=e,Lu(e)}function Lu(e,n,r){for(var t=(e.mode&1)!==0;A!==null;){var o=A,s=o.child;if(o.tag===22&&t){var i=o.memoizedState!==null||no;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Re;l=no;var u=Re;if(no=i,(Re=c)&&!u)for(A=o;A!==null;)i=A,c=i.child,i.tag===22&&i.memoizedState!==null?Rl(o):c!==null?(c.return=i,A=c):Rl(o);for(;s!==null;)A=s,Lu(s),s=s.sibling;A=o,no=l,Re=u}kl(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,A=s):kl(e)}}function kl(e){for(;A!==null;){var n=A;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Re||Zo(5,n);break;case 1:var t=n.stateNode;if(n.flags&4&&!Re)if(r===null)t.componentDidMount();else{var o=n.elementType===n.type?r.memoizedProps:en(n.type,r.memoizedProps);t.componentDidUpdate(o,r.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}var s=n.updateQueue;s!==null&&ul(n,s,t);break;case 3:var i=n.updateQueue;if(i!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}ul(n,i,r)}break;case 5:var l=n.stateNode;if(r===null&&n.flags&4){r=l;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var u=n.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&St(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Re||n.flags&512&&js(n)}catch(h){ae(n,n.return,h)}}if(n===e){A=null;break}if(r=n.sibling,r!==null){r.return=n.return,A=r;break}A=n.return}}function _l(e){for(;A!==null;){var n=A;if(n===e){A=null;break}var r=n.sibling;if(r!==null){r.return=n.return,A=r;break}A=n.return}}function Rl(e){for(;A!==null;){var n=A;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Zo(4,n)}catch(c){ae(n,r,c)}break;case 1:var t=n.stateNode;if(typeof t.componentDidMount=="function"){var o=n.return;try{t.componentDidMount()}catch(c){ae(n,o,c)}}var s=n.return;try{js(n)}catch(c){ae(n,s,c)}break;case 5:var i=n.return;try{js(n)}catch(c){ae(n,i,c)}}}catch(c){ae(n,n.return,c)}if(n===e){A=null;break}var l=n.sibling;if(l!==null){l.return=n.return,A=l;break}A=n.return}}var pp=Math.ceil,Oo=Nn.ReactCurrentDispatcher,pi=Nn.ReactCurrentOwner,Ke=Nn.ReactCurrentBatchConfig,V=0,ye=null,de=null,je=0,Fe=0,_r=Hn(0),pe=0,It=null,lr=0,Jo=0,fi=0,ht=null,Te=null,hi=0,Fr=1/0,gn=null,zo=!1,ks=null,zn=null,ro=!1,In=null,Fo=0,gt=0,_s=null,ho=-1,go=0;function Ae(){return V&6?ie():ho!==-1?ho:ho=ie()}function Fn(e){return e.mode&1?V&2&&je!==0?je&-je:Km.transition!==null?(go===0&&(go=Cc()),go):(e=W,e!==0||(e=window.event,e=e===void 0?16:_c(e.type)),e):1}function on(e,n,r,t){if(50<gt)throw gt=0,_s=null,Error(k(185));bt(e,r,t),(!(V&2)||e!==ye)&&(e===ye&&(!(V&2)&&(Jo|=r),pe===4&&An(e,je)),Oe(e,t),r===1&&V===0&&!(n.mode&1)&&(Fr=ie()+500,Yo&&Gn()))}function Oe(e,n){var r=e.callbackNode;Kd(e,n);var t=jo(e,e===ye?je:0);if(t===0)r!==null&&Bi(r),e.callbackNode=null,e.callbackPriority=0;else if(n=t&-t,e.callbackPriority!==n){if(r!=null&&Bi(r),n===1)e.tag===0?Ym(Dl.bind(null,e)):Gc(Dl.bind(null,e)),Hm(function(){!(V&6)&&Gn()}),r=null;else{switch(Ec(t)){case 1:r=Us;break;case 4:r=vc;break;case 16:r=So;break;case 536870912:r=xc;break;default:r=So}r=Vu(r,Bu.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function Bu(e,n){if(ho=-1,go=0,V&6)throw Error(k(327));var r=e.callbackNode;if(Ir()&&e.callbackNode!==r)return null;var t=jo(e,e===ye?je:0);if(t===0)return null;if(t&30||t&e.expiredLanes||n)n=Uo(e,t);else{n=t;var o=V;V|=2;var s=zu();(ye!==e||je!==n)&&(gn=null,Fr=ie()+500,tr(e,n));do try{gp();break}catch(l){Ou(e,l)}while(1);ei(),Oo.current=s,V=o,de!==null?n=0:(ye=null,je=0,n=pe)}if(n!==0){if(n===2&&(o=es(e),o!==0&&(t=o,n=Rs(e,o))),n===1)throw r=It,tr(e,0),An(e,t),Oe(e,ie()),r;if(n===6)An(e,t);else{if(o=e.current.alternate,!(t&30)&&!fp(o)&&(n=Uo(e,t),n===2&&(s=es(e),s!==0&&(t=s,n=Rs(e,s))),n===1))throw r=It,tr(e,0),An(e,t),Oe(e,ie()),r;switch(e.finishedWork=o,e.finishedLanes=t,n){case 0:case 1:throw Error(k(345));case 2:Xn(e,Te,gn);break;case 3:if(An(e,t),(t&130023424)===t&&(n=hi+500-ie(),10<n)){if(jo(e,0)!==0)break;if(o=e.suspendedLanes,(o&t)!==t){Ae(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ls(Xn.bind(null,e,Te,gn),n);break}Xn(e,Te,gn);break;case 4:if(An(e,t),(t&4194240)===t)break;for(n=e.eventTimes,o=-1;0<t;){var i=31-tn(t);s=1<<i,i=n[i],i>o&&(o=i),t&=~s}if(t=o,t=ie()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*pp(t/1960))-t,10<t){e.timeoutHandle=ls(Xn.bind(null,e,Te,gn),t);break}Xn(e,Te,gn);break;case 5:Xn(e,Te,gn);break;default:throw Error(k(329))}}}return Oe(e,ie()),e.callbackNode===r?Bu.bind(null,e):null}function Rs(e,n){var r=ht;return e.current.memoizedState.isDehydrated&&(tr(e,n).flags|=256),e=Uo(e,n),e!==2&&(n=Te,Te=r,n!==null&&Ds(n)),e}function Ds(e){Te===null?Te=e:Te.push.apply(Te,e)}function fp(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var t=0;t<r.length;t++){var o=r[t],s=o.getSnapshot;o=o.value;try{if(!an(s(),o))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function An(e,n){for(n&=~fi,n&=~Jo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-tn(n),t=1<<r;e[r]=-1,n&=~t}}function Dl(e){if(V&6)throw Error(k(327));Ir();var n=jo(e,0);if(!(n&1))return Oe(e,ie()),null;var r=Uo(e,n);if(e.tag!==0&&r===2){var t=es(e);t!==0&&(n=t,r=Rs(e,t))}if(r===1)throw r=It,tr(e,0),An(e,n),Oe(e,ie()),r;if(r===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Xn(e,Te,gn),Oe(e,ie()),null}function gi(e,n){var r=V;V|=1;try{return e(n)}finally{V=r,V===0&&(Fr=ie()+500,Yo&&Gn())}}function cr(e){In!==null&&In.tag===0&&!(V&6)&&Ir();var n=V;V|=1;var r=Ke.transition,t=W;try{if(Ke.transition=null,W=1,e)return e()}finally{W=t,Ke.transition=r,V=n,!(V&6)&&Gn()}}function yi(){Fe=_r.current,Z(_r)}function tr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Vm(r)),de!==null)for(r=de.return;r!==null;){var t=r;switch(Xs(t),t.tag){case 1:t=t.type.childContextTypes,t!=null&&Ro();break;case 3:Or(),Z(Le),Z(De),si();break;case 5:ai(t);break;case 4:Or();break;case 13:Z(ee);break;case 19:Z(ee);break;case 10:ni(t.type._context);break;case 22:case 23:yi()}r=r.return}if(ye=e,de=e=Un(e.current,null),je=Fe=n,pe=0,It=null,fi=Jo=lr=0,Te=ht=null,Jn!==null){for(n=0;n<Jn.length;n++)if(r=Jn[n],t=r.interleaved,t!==null){r.interleaved=null;var o=t.next,s=r.pending;if(s!==null){var i=s.next;s.next=o,t.next=i}r.pending=t}Jn=null}return e}function Ou(e,n){do{var r=de;try{if(ei(),mo.current=Bo,Lo){for(var t=ne.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}Lo=!1}if(ir=0,ge=me=ne=null,pt=!1,Mt=0,pi.current=null,r===null||r.return===null){pe=1,It=n,de=null;break}e:{var s=e,i=r.return,l=r,c=n;if(n=je,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=gl(i);if(y!==null){y.flags&=-257,yl(y,i,l,s,n),y.mode&1&&hl(s,u,n),n=y,c=u;var x=n.updateQueue;if(x===null){var C=new Set;C.add(c),n.updateQueue=C}else x.add(c);break e}else{if(!(n&1)){hl(s,u,n),vi();break e}c=Error(k(426))}}else if(J&&l.mode&1){var w=gl(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),yl(w,i,l,s,n),Zs(zr(c,l));break e}}s=c=zr(c,l),pe!==4&&(pe=2),ht===null?ht=[s]:ht.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,n&=-n,s.lanes|=n;var m=Eu(s,c,n);cl(s,m);break e;case 1:l=c;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(zn===null||!zn.has(v)))){s.flags|=65536,n&=-n,s.lanes|=n;var g=Su(s,l,n);cl(s,g);break e}}s=s.return}while(s!==null)}Uu(r)}catch(S){n=S,de===r&&r!==null&&(de=r=r.return);continue}break}while(1)}function zu(){var e=Oo.current;return Oo.current=Bo,e===null?Bo:e}function vi(){(pe===0||pe===3||pe===2)&&(pe=4),ye===null||!(lr&268435455)&&!(Jo&268435455)||An(ye,je)}function Uo(e,n){var r=V;V|=2;var t=zu();(ye!==e||je!==n)&&(gn=null,tr(e,n));do try{hp();break}catch(o){Ou(e,o)}while(1);if(ei(),V=r,Oo.current=t,de!==null)throw Error(k(261));return ye=null,je=0,pe}function hp(){for(;de!==null;)Fu(de)}function gp(){for(;de!==null&&!Ud();)Fu(de)}function Fu(e){var n=$u(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,n===null?Uu(e):de=n,pi.current=null}function Uu(e){var n=e;do{var r=n.alternate;if(e=n.return,n.flags&32768){if(r=cp(r,n),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,de=null;return}}else if(r=lp(r,n,Fe),r!==null){de=r;return}if(n=n.sibling,n!==null){de=n;return}de=n=e}while(n!==null);pe===0&&(pe=5)}function Xn(e,n,r){var t=W,o=Ke.transition;try{Ke.transition=null,W=1,yp(e,n,r,t)}finally{Ke.transition=o,W=t}return null}function yp(e,n,r,t){do Ir();while(In!==null);if(V&6)throw Error(k(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Xd(e,s),e===ye&&(de=ye=null,je=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ro||(ro=!0,Vu(So,function(){return Ir(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ke.transition,Ke.transition=null;var i=W;W=1;var l=V;V|=4,pi.current=null,dp(e,r),bu(r,e),Bm(ss),wo=!!as,ss=as=null,e.current=r,mp(r),qd(),V=l,W=i,Ke.transition=s}else e.current=r;if(ro&&(ro=!1,In=e,Fo=o),s=e.pendingLanes,s===0&&(zn=null),Hd(r.stateNode),Oe(e,ie()),n!==null)for(t=e.onRecoverableError,r=0;r<n.length;r++)o=n[r],t(o.value,{componentStack:o.stack,digest:o.digest});if(zo)throw zo=!1,e=ks,ks=null,e;return Fo&1&&e.tag!==0&&Ir(),s=e.pendingLanes,s&1?e===_s?gt++:(gt=0,_s=e):gt=0,Gn(),null}function Ir(){if(In!==null){var e=Ec(Fo),n=Ke.transition,r=W;try{if(Ke.transition=null,W=16>e?16:e,In===null)var t=!1;else{if(e=In,In=null,Fo=0,V&6)throw Error(k(331));var o=V;for(V|=4,A=e.current;A!==null;){var s=A,i=s.child;if(A.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:ft(8,d,s)}var f=d.child;if(f!==null)f.return=d,A=f;else for(;A!==null;){d=A;var h=d.sibling,y=d.return;if(Pu(d),d===u){A=null;break}if(h!==null){h.return=y,A=h;break}A=y}}}var x=s.alternate;if(x!==null){var C=x.child;if(C!==null){x.child=null;do{var w=C.sibling;C.sibling=null,C=w}while(C!==null)}}A=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,A=i;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ft(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,A=m;break e}A=s.return}}var p=e.current;for(A=p;A!==null;){i=A;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,A=v;else e:for(i=p;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zo(9,l)}}catch(S){ae(l,l.return,S)}if(l===i){A=null;break e}var g=l.sibling;if(g!==null){g.return=l.return,A=g;break e}A=l.return}}if(V=o,Gn(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Vo,e)}catch{}t=!0}return t}finally{W=r,Ke.transition=n}}return!1}function Ml(e,n,r){n=zr(r,n),n=Eu(e,n,1),e=On(e,n,1),n=Ae(),e!==null&&(bt(e,1,n),Oe(e,n))}function ae(e,n,r){if(e.tag===3)Ml(e,e,r);else for(;n!==null;){if(n.tag===3){Ml(n,e,r);break}else if(n.tag===1){var t=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof t.componentDidCatch=="function"&&(zn===null||!zn.has(t))){e=zr(r,e),e=Su(n,e,1),n=On(n,e,1),e=Ae(),n!==null&&(bt(n,1,e),Oe(n,e));break}}n=n.return}}function vp(e,n,r){var t=e.pingCache;t!==null&&t.delete(n),n=Ae(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(je&r)===r&&(pe===4||pe===3&&(je&130023424)===je&&500>ie()-hi?tr(e,0):fi|=r),Oe(e,n)}function qu(e,n){n===0&&(e.mode&1?(n=Gt,Gt<<=1,!(Gt&130023424)&&(Gt=4194304)):n=1);var r=Ae();e=jn(e,n),e!==null&&(bt(e,n,r),Oe(e,r))}function xp(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),qu(e,r)}function Cp(e,n){var r=0;switch(e.tag){case 13:var t=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:t=e.stateNode;break;default:throw Error(k(314))}t!==null&&t.delete(n),qu(e,r)}var $u;$u=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||Le.current)be=!0;else{if(!(e.lanes&r)&&!(n.flags&128))return be=!1,ip(e,n,r);be=!!(e.flags&131072)}else be=!1,J&&n.flags&1048576&&Wc(n,Ao,n.index);switch(n.lanes=0,n.tag){case 2:var t=n.type;fo(e,n),e=n.pendingProps;var o=br(n,De.current);Pr(n,r),o=li(null,n,t,e,o,r);var s=ci();return n.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Be(t)?(s=!0,Do(n)):s=!1,n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ti(n),o.updater=Xo,n.stateNode=o,o._reactInternals=n,hs(n,t,e,r),n=vs(null,n,t,!0,s,r)):(n.tag=0,J&&s&&Ks(n),Me(null,n,o,r),n=n.child),n;case 16:t=n.elementType;e:{switch(fo(e,n),e=n.pendingProps,o=t._init,t=o(t._payload),n.type=t,o=n.tag=Sp(t),e=en(t,e),o){case 0:n=ys(null,n,t,e,r);break e;case 1:n=Cl(null,n,t,e,r);break e;case 11:n=vl(null,n,t,e,r);break e;case 14:n=xl(null,n,t,en(t.type,e),r);break e}throw Error(k(306,t,""))}return n;case 0:return t=n.type,o=n.pendingProps,o=n.elementType===t?o:en(t,o),ys(e,n,t,o,r);case 1:return t=n.type,o=n.pendingProps,o=n.elementType===t?o:en(t,o),Cl(e,n,t,o,r);case 3:e:{if(ku(n),e===null)throw Error(k(387));t=n.pendingProps,s=n.memoizedState,o=s.element,Jc(e,n),To(n,t,null,r);var i=n.memoizedState;if(t=i.element,s.isDehydrated)if(s={element:t,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},n.updateQueue.baseState=s,n.memoizedState=s,n.flags&256){o=zr(Error(k(423)),n),n=El(e,n,t,r,o);break e}else if(t!==o){o=zr(Error(k(424)),n),n=El(e,n,t,r,o);break e}else for(Ue=Bn(n.stateNode.containerInfo.firstChild),qe=n,J=!0,rn=null,r=Xc(n,null,t,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lr(),t===o){n=wn(e,n,r);break e}Me(e,n,t,r)}n=n.child}return n;case 5:return eu(n),e===null&&ms(n),t=n.type,o=n.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,is(t,o)?i=null:s!==null&&is(t,s)&&(n.flags|=32),Nu(e,n),Me(e,n,i,r),n.child;case 6:return e===null&&ms(n),null;case 13:return _u(e,n,r);case 4:return oi(n,n.stateNode.containerInfo),t=n.pendingProps,e===null?n.child=Br(n,null,t,r):Me(e,n,t,r),n.child;case 11:return t=n.type,o=n.pendingProps,o=n.elementType===t?o:en(t,o),vl(e,n,t,o,r);case 7:return Me(e,n,n.pendingProps,r),n.child;case 8:return Me(e,n,n.pendingProps.children,r),n.child;case 12:return Me(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(t=n.type._context,o=n.pendingProps,s=n.memoizedProps,i=o.value,K(Po,t._currentValue),t._currentValue=i,s!==null)if(an(s.value,i)){if(s.children===o.children&&!Le.current){n=wn(e,n,r);break e}}else for(s=n.child,s!==null&&(s.return=n);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===t){if(s.tag===1){c=Cn(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),ps(s.return,r,n),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===n.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(k(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ps(i,r,n),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===n){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Me(e,n,o.children,r),n=n.child}return n;case 9:return o=n.type,t=n.pendingProps.children,Pr(n,r),o=Xe(o),t=t(o),n.flags|=1,Me(e,n,t,r),n.child;case 14:return t=n.type,o=en(t,n.pendingProps),o=en(t.type,o),xl(e,n,t,o,r);case 15:return ju(e,n,n.type,n.pendingProps,r);case 17:return t=n.type,o=n.pendingProps,o=n.elementType===t?o:en(t,o),fo(e,n),n.tag=1,Be(t)?(e=!0,Do(n)):e=!1,Pr(n,r),Cu(n,t,o),hs(n,t,o,r),vs(null,n,t,!0,e,r);case 19:return Ru(e,n,r);case 22:return wu(e,n,r)}throw Error(k(156,n.tag))};function Vu(e,n){return yc(e,n)}function Ep(e,n,r,t){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,n,r,t){return new Ep(e,n,r,t)}function xi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sp(e){if(typeof e=="function")return xi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Os)return 11;if(e===zs)return 14}return 2}function Un(e,n){var r=e.alternate;return r===null?(r=Ye(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yo(e,n,r,t,o,s){var i=2;if(t=e,typeof e=="function")xi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case yr:return or(r.children,o,s,n);case Bs:i=8,o|=8;break;case za:return e=Ye(12,r,n,o|2),e.elementType=za,e.lanes=s,e;case Fa:return e=Ye(13,r,n,o),e.elementType=Fa,e.lanes=s,e;case Ua:return e=Ye(19,r,n,o),e.elementType=Ua,e.lanes=s,e;case ec:return ea(r,o,s,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zl:i=10;break e;case Jl:i=9;break e;case Os:i=11;break e;case zs:i=14;break e;case Rn:i=16,t=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return n=Ye(i,r,n,o),n.elementType=e,n.type=t,n.lanes=s,n}function or(e,n,r,t){return e=Ye(7,e,t,n),e.lanes=r,e}function ea(e,n,r,t){return e=Ye(22,e,t,n),e.elementType=ec,e.lanes=r,e.stateNode={isHidden:!1},e}function ba(e,n,r){return e=Ye(6,e,null,n),e.lanes=r,e}function La(e,n,r){return n=Ye(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function jp(e,n,r,t,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ga(0),this.expirationTimes=ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.identifierPrefix=t,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ci(e,n,r,t,o,s,i,l,c){return e=new jp(e,n,r,l,c),n===1?(n=1,s===!0&&(n|=8)):n=0,s=Ye(3,null,null,n),e.current=s,s.stateNode=e,s.memoizedState={element:t,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ti(s),e}function wp(e,n,r){var t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:t==null?null:""+t,children:e,containerInfo:n,implementation:r}}function Hu(e){if(!e)return $n;e=e._reactInternals;e:{if(dr(e)!==e||e.tag!==1)throw Error(k(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Be(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(k(171))}if(e.tag===1){var r=e.type;if(Be(r))return Hc(e,r,n)}return n}function Gu(e,n,r,t,o,s,i,l,c){return e=Ci(r,t,!0,e,o,s,i,l,c),e.context=Hu(null),r=e.current,t=Ae(),o=Fn(r),s=Cn(t,o),s.callback=n??null,On(r,s,o),e.current.lanes=o,bt(e,o,t),Oe(e,t),e}function na(e,n,r,t){var o=n.current,s=Ae(),i=Fn(o);return r=Hu(r),n.context===null?n.context=r:n.pendingContext=r,n=Cn(s,i),n.payload={element:e},t=t===void 0?null:t,t!==null&&(n.callback=t),e=On(o,n,i),e!==null&&(on(e,o,i,s),uo(e,o,i)),i}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Al(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ei(e,n){Al(e,n),(e=e.alternate)&&Al(e,n)}function Np(){return null}var Wu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Si(e){this._internalRoot=e}ra.prototype.render=Si.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(k(409));na(e,n,null,null)};ra.prototype.unmount=Si.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;cr(function(){na(null,e,null,null)}),n[Sn]=null}};function ra(e){this._internalRoot=e}ra.prototype.unstable_scheduleHydration=function(e){if(e){var n=wc();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mn.length&&n!==0&&n<Mn[r].priority;r++);Mn.splice(r,0,e),r===0&&kc(e)}};function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pl(){}function kp(e,n,r,t,o){if(o){if(typeof t=="function"){var s=t;t=function(){var u=qo(i);s.call(u)}}var i=Gu(n,t,e,0,null,!1,!1,"",Pl);return e._reactRootContainer=i,e[Sn]=i.current,Nt(e.nodeType===8?e.parentNode:e),cr(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof t=="function"){var l=t;t=function(){var u=qo(c);l.call(u)}}var c=Ci(e,0,!1,null,null,!1,!1,"",Pl);return e._reactRootContainer=c,e[Sn]=c.current,Nt(e.nodeType===8?e.parentNode:e),cr(function(){na(n,c,r,t)}),c}function oa(e,n,r,t,o){var s=r._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var l=o;o=function(){var c=qo(i);l.call(c)}}na(n,i,e,o)}else i=kp(r,n,e,o,t);return qo(i)}Sc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=st(n.pendingLanes);r!==0&&(qs(n,r|1),Oe(n,ie()),!(V&6)&&(Fr=ie()+500,Gn()))}break;case 13:cr(function(){var t=jn(e,1);if(t!==null){var o=Ae();on(t,e,1,o)}}),Ei(e,1)}};$s=function(e){if(e.tag===13){var n=jn(e,134217728);if(n!==null){var r=Ae();on(n,e,134217728,r)}Ei(e,134217728)}};jc=function(e){if(e.tag===13){var n=Fn(e),r=jn(e,n);if(r!==null){var t=Ae();on(r,e,n,t)}Ei(e,n)}};wc=function(){return W};Nc=function(e,n){var r=W;try{return W=e,n()}finally{W=r}};Xa=function(e,n,r){switch(n){case"input":if(Va(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var t=r[n];if(t!==e&&t.form===e.form){var o=Qo(t);if(!o)throw Error(k(90));rc(t),Va(t,o)}}}break;case"textarea":oc(e,r);break;case"select":n=r.value,n!=null&&Rr(e,!!r.multiple,n,!1)}};dc=gi;mc=cr;var _p={usingClientEntryPoint:!1,Events:[Bt,Er,Qo,cc,uc,gi]},tt={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rp={bundleType:tt.bundleType,version:tt.version,rendererPackageName:tt.rendererPackageName,rendererConfig:tt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hc(e),e===null?null:e.stateNode},findFiberByHostInstance:tt.findFiberByHostInstance||Np,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{Vo=to.inject(Rp),mn=to}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p;Ve.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ji(n))throw Error(k(200));return wp(e,n,null,r)};Ve.createRoot=function(e,n){if(!ji(e))throw Error(k(299));var r=!1,t="",o=Wu;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(t=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),n=Ci(e,1,!1,null,null,r,!1,t,o),e[Sn]=n.current,Nt(e.nodeType===8?e.parentNode:e),new Si(n)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=hc(n),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return cr(e)};Ve.hydrate=function(e,n,r){if(!ta(n))throw Error(k(200));return oa(null,e,n,!0,r)};Ve.hydrateRoot=function(e,n,r){if(!ji(e))throw Error(k(405));var t=r!=null&&r.hydratedSources||null,o=!1,s="",i=Wu;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),n=Gu(n,null,e,1,r??null,o,!1,s,i),e[Sn]=n.current,Nt(e),t)for(e=0;e<t.length;e++)r=t[e],o=r._getVersion,o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o);return new ra(n)};Ve.render=function(e,n,r){if(!ta(n))throw Error(k(200));return oa(null,e,n,!1,r)};Ve.unmountComponentAtNode=function(e){if(!ta(e))throw Error(k(40));return e._reactRootContainer?(cr(function(){oa(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};Ve.unstable_batchedUpdates=gi;Ve.unstable_renderSubtreeIntoContainer=function(e,n,r,t){if(!ta(r))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return oa(e,n,r,!1,t)};Ve.version="18.3.1-next-f1338f8080-20240426";function Qu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qu)}catch(e){console.error(e)}}Qu(),Ql.exports=Ve;var Yu=Ql.exports;const Dp=Ll(Yu);var Il=Yu;Ba.createRoot=Il.createRoot,Ba.hydrateRoot=Il.hydrateRoot;const q={workshop:{basic:{costs:{scrap:15},time:5},medium:{costs:{scrap:250},time:20,prerequisites:e=>e.workshop.drones.basic>=5},advanced:{costs:{scrap:1500},time:60,prerequisites:e=>e.workshop.drones.medium>=3},reinforcedBasic:{costs:{scrap:600,metalRefinado:5},time:45,prerequisites:e=>e.techCenter.upgrades.reinforcedBasicDrones>0},reinforcedMedium:{costs:{scrap:2500,metalRefinado:15},time:120,prerequisites:e=>e.techCenter.upgrades.reinforcedMediumDrones>0},reinforcedAdvanced:{costs:{scrap:7e3,metalRefinado:30},time:300,prerequisites:e=>e.techCenter.upgrades.reinforcedAdvancedDrones>0},golem:{costs:{scrap:75e3,aceroEstructural:5},time:600,prerequisites:e=>e.techCenter.upgrades.golemChassis>0&&e.workshop.drones.reinforcedAdvanced>=5},expeditionDrone:{costs:{scrap:3e3,metalRefinado:20},time:150,prerequisites:e=>e.workshop.drones.advanced>=2},expeditionV2Drone:{costs:{scrap:15e3,metalRefinado:100},time:300,prerequisites:e=>e.workshop.drones.expeditionDrone>=5},wyrm:{costs:{scrap:25e4,aceroEstructural:25},time:1200,prerequisites:e=>e.workshop.drones.golem>=1}},energy:{solarPanels:{costs:{scrap:50},time:8},mediumSolarPanels:{costs:{scrap:200},time:25,prerequisites:e=>e.energy.solarPanels>=5},advancedSolar:{costs:{scrap:500},time:70,prerequisites:e=>e.energy.mediumSolarPanels>=1},energyCores:{costs:{scrap:2e3},time:180,prerequisites:e=>e.energy.advancedSolar>=3},fusionReactor:{costs:{scrap:1e4,metalRefinado:25},time:1200,prerequisites:e=>e.techCenter.upgrades.fusionTech>0&&e.energy.energyCores>=10}},storage:{basicStorage:{costs:{scrap:100},time:10},mediumStorage:{costs:{scrap:1e3},time:40,prerequisites:e=>e.storage.basicStorage>=3},advancedStorage:{costs:{scrap:1e4},time:170,prerequisites:e=>e.storage.mediumStorage>=1},quantumHoardUnit:{costs:{scrap:75e3,metalRefinado:50},time:900,prerequisites:e=>e.storage.advancedStorage>=3},lithiumIonBattery:{costs:{scrap:150},time:15},plasmaAccumulator:{costs:{scrap:750},time:60,prerequisites:e=>e.storage.lithiumIonBattery>=5},harmonicContainmentField:{costs:{scrap:3e3,metalRefinado:10},time:450,prerequisites:e=>e.storage.plasmaAccumulator>=3}},foundry:{metalRefinado:{costs:{scrap:1e3,energy:100},time:5,produces:{resource:"metalRefinado"}},aceroEstructural:{costs:{scrap:1e3,metalRefinado:10,energy:250},time:30,produces:{resource:"aceroEstructural"}},placasCasco:{costs:{fragmentosPlaca:10,aceroEstructural:5,energy:500},time:50,produces:{resource:"placasCasco"}},cableadoSuperconductor:{costs:{circuitosDaados:10,metalRefinado:25,energy:1e3},time:75,produces:{resource:"cableadoSuperconductor"}},barraCombustible:{costs:{metalRefinado:10,aceroEstructural:5,energy:1500},time:120,produces:{resource:"barraCombustible"}}}},vo=[{id:"main_1_unlock_tech",isMain:!0,title:"Primeros Pasos Tecnolgicos",description:"La reconstruccin empieza aqu. Desbloquea el Centro Tcnico y la Fundicin para acceder a nuevas posibilidades.",objective:"Desbloquea el Centro Tcnico y la Fundicin.",target:2,current:0,completed:!1,reward:{type:"scrap",value:1e4}},{id:"main_2_produce_alloys",isMain:!0,title:"Aleaciones Avanzadas",description:"Produce Metal Refinado y Acero Estructural. Son la base de toda construccin avanzada.",objective:"Produce 500 de Metal Refinado y 100 de Acero Estructural.",target:600,current:0,completed:!1,reward:{type:"scrap",value:25e3}},{id:"main_3_expeditions",isMain:!0,title:"Hacia lo Desconocido",description:"Hay recursos que no podemos fabricar. Construye un Dron de Expedicin y completa tu primera expedicin.",objective:"Completa 1 expedicin.",target:1,current:0,completed:!1,reward:{type:"scrap",value:5e4}},{id:"main_4_fabricate_components",isMain:!0,title:"Componentes del Vindicator",description:"Usa los materiales de las expediciones para fabricar los componentes primarios del Vindicator.",objective:"Fabrica 50 Placas de Casco y 25 Cables de Superconductor.",target:75,current:0,completed:!1,reward:{type:"nucleoSingularidad",value:1}},{id:"main_5_final_assembly",isMain:!0,title:"Ensamblaje Final",description:"El momento ha llegado! Dona todos los componentes necesarios al Astillero y reconstruye el Vindicator.",objective:"Completa la construccin del Vindicator.",target:1,current:0,completed:!1,reward:{type:"unlock",value:2}},{id:"sec_1_1_basic_fleet",isMain:!1,title:"Primeros Auxiliares",description:"Forma una flota inicial de 10 Drones Bsicos para empezar a recolectar chatarra de forma eficiente.",objective:"Mantn una flota activa de 10 Drones Bsicos.",target:10,current:0,completed:!1,reward:{type:"scrap",value:250}},{id:"sec_1_2_scrap_engine_i",isMain:!1,title:"Motor de Chatarra I",description:"No se trata de cuntos drones tienes, sino de cunto producen. Aumenta tu produccin de chatarra.",objective:"Alcanza una produccin de +50 Chatarra/segundo.",target:50,current:0,completed:!1,reward:{type:"scrap",value:500}},{id:"sec_1_3_power_surplus_i",isMain:!1,title:"Excedente de Potencia I",description:"Una fbrica sin energa es un montn de metal intil. Genera ms energa de la que consumes.",objective:"Mantn un balance de +20 Energa/segundo durante 60 segundos.",target:60,current:0,completed:!1,reward:{type:"energy",value:250}},{id:"sec_1_4_scrap_reserves",isMain:!1,title:"Reservas de Chatarra",description:"Prepara tus almacenes para proyectos ms grandes. Aumenta tu capacidad mxima de chatarra.",objective:"Aumenta tu almacenamiento mximo a 1,000 de Chatarra.",target:1e3,current:0,completed:!1,reward:{type:"scrap",value:750}},{id:"sec_1_5_charged_batteries",isMain:!1,title:"Bateras Cargadas",description:"No dejes que tu energa se desperdicie. Ampla tu capacidad mxima de almacenamiento de energa.",objective:"Aumenta tu almacenamiento mximo a 500 de Energa.",target:500,current:0,completed:!1,reward:{type:"energy",value:250}},{id:"sec_1_6_expanding_force",isMain:!1,title:"Ampliando la Fuerza",description:"Los Drones Medios son un gran salto en eficiencia. Construye tu primer ejemplar.",objective:"Construye tu primer Dron Medio.",target:1,current:0,completed:!1,reward:{type:"scrap",value:1e3}},{id:"sec_1_7_continuous_operation",isMain:!1,title:"Operacin Continua",description:"La estabilidad es la clave del xito. Demuestra que puedes mantener la estacin funcionando sin interrupciones.",objective:"Mantn tu energa por encima de 0 durante 5 minutos.",target:300,current:0,completed:!1,reward:{type:"scrap",value:2e3}},{id:"sec_1_8_scrap_engine_ii",isMain:!1,title:"Motor de Chatarra II",description:"Aumenta an ms tu produccin de chatarra para financiar las operaciones ms avanzadas.",objective:"Alcanza una produccin de +150 Chatarra/segundo.",target:150,current:0,completed:!1,reward:{type:"scrap",value:2500}},{id:"sec_1_9_first_gigawatt",isMain:!1,title:"El Primer Gigavatio",description:"Expande tu red energtica a una escala mayor para soportar una flota industrial completa.",objective:"Instala un total de 25 Paneles Solares (cualquier tipo).",target:25,current:0,completed:!1,reward:{type:"energy",value:500}},{id:"sec_1_10_self_sufficiency",isMain:!1,title:"Autosuficiencia",description:"Domina las bases. Demuestra que puedes producir todas las unidades y estructuras esenciales.",objective:"Construye al menos 1 de cada: Dron Bsico, Dron Medio, Panel Solar Bsico, Almacn Bsico.",target:4,current:0,completed:!1,reward:{type:"scrap",value:5e3}},{id:"sec_2_1_collective_mind_i",isMain:!1,title:"Mente Colectiva I",description:"El conocimiento es poder. Empieza a acumular Puntos de Investigacin para desbloquear el futuro.",objective:"Acumula un total de 100 Puntos de Investigacin.",target:100,current:0,completed:!1,reward:{type:"scrap",value:1500}},{id:"sec_2_2_first_alloy",isMain:!1,title:"Primera Aleacin",description:"La chatarra es solo el principio. Produce tu primer lingote de Metal Refinado en la Fundicin.",objective:"Produce 1 unidad de Metal Refinado.",target:1,current:0,completed:!1,reward:{type:"scrap",value:2500}},{id:"sec_2_3_always_optimizing",isMain:!1,title:"Siempre Optimizando",description:"Un buen tcnico explora todas las opciones. Investiga varias tecnologas para diversificar tus ventajas.",objective:"Desbloquea 5 tecnologas diferentes.",target:5,current:0,completed:!1,reward:{type:"scrap",value:5e3}},{id:"sec_2_4_balanced_fleet",isMain:!1,title:"Flota Equilibrada",description:"La especializacin es clave. Mantn una flota activa y diversa para maximizar la eficiencia.",objective:"Ten activos: 20 Drones Bsicos, 10 Medios y 5 Avanzados.",target:35,current:0,completed:!1,reward:{type:"scrap",value:7500}},{id:"sec_2_5_basic_metallurgy",isMain:!1,title:"Metalurgia Bsica",description:"Aumenta la produccin de Metal Refinado. Es vital para las estructuras y drones del juego intermedio.",objective:"Produce un total de 250 de Metal Refinado.",target:250,current:0,completed:!1,reward:{type:"scrap",value:1e4}},{id:"sec_2_6_one_step_ahead",isMain:!1,title:"Un Paso Adelante",description:"Los Drones Avanzados son el pilar de una economa poderosa. Construye tu primer ejemplar.",objective:"Construye tu primer Dron Avanzado.",target:1,current:0,completed:!1,reward:{type:"scrap",value:5e3}},{id:"sec_2_7_efficiency_master",isMain:!1,title:"Maestro de la Eficiencia",description:"Demuestra tu dominio especializndote en una tecnologa y llevndola a su mximo potencial.",objective:"Lleva cualquier tecnologa de produccin al Nivel 5.",target:5,current:0,completed:!1,reward:{type:"scrap",value:15e3}},{id:"sec_2_8_front_line",isMain:!1,title:"Lnea de Frente",description:"Los Drones Reforzados son la clave para futuras operaciones. Empieza a construir tu fuerza de choque.",objective:"Construye un total de 10 Drones Reforzados (cualquier tipo).",target:10,current:0,completed:!1,reward:{type:"scrap",value:2e4}},{id:"sec_2_9_advanced_siderurgy",isMain:!1,title:"Siderurgia Avanzada",description:"El Acero Estructural es necesario para las unidades ms poderosas. Establece una lnea de produccin estable.",objective:"Produce un total de 100 de Acero Estructural.",target:100,current:0,completed:!1,reward:{type:"scrap",value:25e3}},{id:"sec_2_10_collective_mind_ii",isMain:!1,title:"Mente Colectiva II",description:"Convirtete en un maestro de la tecnologa, acumulando el conocimiento necesario para reconstruir el Vindicator.",objective:"Acumula un total de 1,000 Puntos de Investigacin.",target:1e3,current:0,completed:!1,reward:{type:"scrap",value:5e4}},{id:"sec_3_1_rookie_explorer",isMain:!1,title:"Explorador Novato",description:"Hay recursos ah fuera que no podemos fabricar. Enva tu primera expedicin y mira lo que encuentras.",objective:"Completa con xito una expedicin de Bajo Riesgo.",target:1,current:0,completed:!1,reward:{type:"scrap",value:1e4}},{id:"sec_3_2_a_titan_is_born",isMain:!1,title:"Nace un Titn",description:"El Dron Golem es una maravilla de la ingeniera y la base del Astillero. Construye uno.",objective:"Construye tu primer Dron Golem.",target:1,current:0,completed:!1,reward:{type:"scrap",value:1e5}},{id:"sec_3_3_seasoned_adventurer",isMain:!1,title:"Aventurero Curtido",description:"Las expediciones ms peligrosas ofrecen las mejores recompensas. Es hora de arriesgarse.",objective:"Completa con xito 3 expediciones de Medio Riesgo.",target:3,current:0,completed:!1,reward:{type:"scrap",value:75e3}},{id:"sec_3_4_dragons_hoard",isMain:!1,title:"El Tesoro del Dragn",description:"Demuestra tu podero industrial acumulando una cantidad masiva de chatarra.",objective:"Almacena 100,000 de Chatarra al mismo tiempo.",target:1e5,current:0,completed:!1,reward:{type:"scrap",value:25e3}},{id:"sec_3_5_final_preparations",isMain:!1,title:"Preparativos Finales",description:"Rene los materiales bsicos necesarios para la construccin de los componentes del Vindicator.",objective:"Almacena 500 Metal Refinado y 100 Acero Estructural simultneamente.",target:600,current:0,completed:!1,reward:{type:"scrap",value:125e3}},{id:"sec_3_6_steel_army",isMain:!1,title:"Ejrcito de Acero",description:"Coordina una fuerza de trabajo masiva. El zumbido de 150 drones es el sonido del progreso.",objective:"Mantn una flota activa total de 150 drones.",target:150,current:0,completed:!1,reward:{type:"scrap",value:15e4}},{id:"sec_3_7_the_great_wyrm",isMain:!1,title:"El Gran Gusano",description:"Construye el Dron Wyrm, la cima de la tecnologa de recoleccin y una verdadera proeza industrial.",objective:"Construye tu primer Dron Wyrm.",target:1,current:0,completed:!1,reward:{type:"scrap",value:25e4}},{id:"sec_3_8_legendary_treasure_hunter",isMain:!1,title:"Cazatesoros Legendario",description:"Enfrntate a los mayores peligros del cosmos y vuelve con los botines ms raros.",objective:"Completa con xito una expedicin de Alto Riesgo.",target:1,current:0,completed:!1,reward:{type:"scrap",value:2e5}},{id:"sec_3_9_mass_production",isMain:!1,title:"Produccin en Masa",description:"Demuestra tu dominio total sobre la cadena de produccin industrial avanzada.",objective:"Produce un total de 2,000 Metal Refinado y 500 Acero Estructural.",target:2500,current:0,completed:!1,reward:{type:"scrap",value:3e5}},{id:"sec_3_10_industrial_empire",isMain:!1,title:"Imperio Industrial",description:"Alcanza la cima de la eficiencia en la recoleccin, convirtiendo el campo de asteroides en tu dominio.",objective:"Alcanza una produccin de +1,000 Chatarra/segundo.",target:1e3,current:0,completed:!1,reward:{type:"scrap",value:5e5}}],oo=e=>{const n={},r=q[e];for(const t in r)n[t]={progress:0,queue:0,time:r[t].time};return n},se={currentScene:"startMenu",phase2Unlocked:!1,notificationQueue:[],battleCount:0,currentBackground:1,resources:{scrap:0,energy:25,metalRefinado:0,aceroEstructural:0,fragmentosPlaca:0,circuitosDaados:0,nucleoSingularidad:0,placasCasco:0,cableadoSuperconductor:0,aleacionReforzada:0,neuroChipCorrupto:0,barraCombustible:0,energyProduction:0,energyConsumption:0,maxEnergy:50,maxScrap:150},battleRoom:{selectedDestination:null,battlesCompleted:Array(6).fill(0)},workshopBuyAmount:1,workshop:{drones:{basic:0,medium:0,advanced:0,reinforcedBasic:0,reinforcedMedium:0,reinforcedAdvanced:0,golem:0,expeditionDrone:0,expeditionV2Drone:0,wyrm:0},queues:oo("workshop")},rates:{scrapPerClick:1,scrapPerSecond:0},modules:{energy:!1,storage:!1,missions:!1,techCenter:!1,foundry:!1,shipyard:!1,expeditions:!1},energy:{solarPanels:0,mediumSolarPanels:0,advancedSolar:0,energyCores:0,fusionReactor:0,queues:oo("energy")},storage:{basicStorage:0,mediumStorage:0,advancedStorage:0,quantumHoardUnit:0,lithiumIonBattery:0,plasmaAccumulator:0,harmonicContainmentField:0,queues:oo("storage")},aurora:{activeMessages:[],pendingMessages:[],shownMessages:new Set},missions:{activeMissions:vo.map(e=>({...e,current:0,completed:!1})),completedMissions:[],currentMissionIndex:0},techCenter:{unlocked:!1,researchPoints:0,upgrades:{collectionEfficiency:0,droneAssembly:0,reinforcedBasicDrones:0,reinforcedMediumDrones:0,reinforcedAdvancedDrones:0,golemChassis:0,swarmAI:0,powerOptimization:0,energyCalibration:0,energyEfficiency:0,batteryTech:0,coreEfficiency:0,powerGrid:0,geothermalEnergy:0,fusionTech:0,poweredFabricators:0,researchEfficiency:0,advancedAnalysis:0,algorithmOptimization:0,constructionEfficiency:0,quantumComputing:0,globalEfficiency:0,singularity:0,storageOptimization:0,storageConstruction:0,cargoDrones:0,energyStorage:0,matterCompression:0,pocketDimension:0,foundryProtocols:0,metalSmeltingSpeed:0,steelProductionSpeed:0,hullPlateProduction:0,wiringProduction:0,fuelRodProduction:0,smeltingEfficiency:0,foundryEnergy:0,alloyCreation:0,automatedFabrication:0,selfReplication:0}},energyBuyAmount:1,storageBuyAmount:1,foundryBuyAmount:1,foundry:{queues:oo("foundry")},currentView:"",activeExpeditions:[],shipyard:{unlocked:!1,progress:{hull:{placasCasco:0},powerCore:{cableadoSuperconductor:0},targetingSystem:{researchPoints:0,cableadoSuperconductor:0},warpDrive:{nucleoSingularidad:0}},costs:{hull:{placasCasco:50},powerCore:{cableadoSuperconductor:25},targetingSystem:{researchPoints:5e5,cableadoSuperconductor:15},warpDrive:{nucleoSingularidad:1}}},vindicator:{maxHealth:500,currentHealth:500,maxShield:250,currentShield:250,damage:50},vindicatorUpgrades:{reinforcedArmor:{id:"reinforced_armor",name:"Blindaje Reforzado",description:"Aumenta la vida mxima del Vindicator",maxStars:5,currentStars:0,costPerStar:{phase1Resources:{aleacionReforzada:50,neuroChipCorrupto:25},phase2Resources:{fragmentosPlaca:100,circuitosDaados:50}},statIncreasePerStar:{health:100}},shieldGenerator:{id:"shield_generator",name:"Generador de Escudos",description:"Aumenta el escudo mximo del Vindicator",maxStars:5,currentStars:0,costPerStar:{phase1Resources:{aleacionReforzada:40,neuroChipCorrupto:30},phase2Resources:{fragmentosPlaca:80,circuitosDaados:60}},statIncreasePerStar:{shield:50}},improvedCannons:{id:"improved_cannons",name:"Caones Mejorados",description:"Aumenta el dao del Vindicator",maxStars:5,currentStars:0,costPerStar:{phase1Resources:{aleacionReforzada:60,neuroChipCorrupto:20},phase2Resources:{fragmentosPlaca:120,circuitosDaados:40}},statIncreasePerStar:{damage:10}}},blueprints:0,vindicatorLevel:1,activeBattle:null,settings:{volume:75},lastSaveTimestamp:void 0},nr=[{id:"chatarreriaOrbital",title:"Chatarrera Orbital",description:"Una densa nube de chatarra de naves antiguas. Ideal para recoleccin bsica.",duration:600,costs:{drones:1},rewards:{scrap:[500,2e3],metalRefinado:[1,5]},risk:{chance:.05,droneLossPercentage:1},droneType:"expeditionDrone"},{id:"cinturonAsteroides",title:"Cinturn de Asteroides",description:"Un cinturn rico en minerales, pero inestable. Se requiere equipo ms robusto.",duration:1800,costs:{drones:3,metalRefinado:25},rewards:{scrap:[3e3,7500],metalRefinado:[10,30],fragmentosPlaca:[5,15]},risk:{chance:.1,droneLossPercentage:.5},droneType:"expeditionDrone"},{id:"cementerioAcorazados",title:"Cementerio de Acorazados",description:"Los restos de una batalla legendaria. Contiene materiales avanzados y peligros desconocidos.",duration:3600,costs:{drones:5,aceroEstructural:10},rewards:{scrap:[8e3,15e3],aceroEstructural:[5,12],circuitosDaados:[3,10]},risk:{chance:.15,droneLossPercentage:.3},droneType:"expeditionDrone"},{id:"incursionZonaCorrupta",title:"Incursin a Zona Corrupta",description:"Un sector donde las leyes de la fsica parecen fallar. Se rumorea que contiene componentes anmalos.",duration:3600,costs:{drones:1,barraCombustible:5},rewards:{scrap:[1e4,2e4],aleacionReforzada:[10,25],neuroChipCorrupto:[5,15]},risk:{chance:.2,droneLossPercentage:1},droneType:"expeditionV2Drone"}],Q=(e,n)=>{if(n.prerequisites&&!n.prerequisites(e))return console.warn(`Prerequisites not met for ${n.queuePath[2]}`),e;const r=Object.entries(n.costs);if(r.length===0)return e;const t=r.map(([w,m])=>{if(m===0)return 1/0;const p=e.resources[w]||0;return Math.floor(p/m)}),o=Math.min(...t),s=n.buyAmount==="max"?o:Math.min(n.buyAmount,o);if(s<=0)return e;const i={...e.resources};for(const[w,m]of r)i[w]-=s*m;const[l,c,u]=n.queuePath,d=e[l],f=d[c],h=f[u],y={...h,queue:h.queue+s},x={...f,[u]:y},C={...d,[c]:x};return{...e,resources:i,[l]:C}},Mp=(e,n)=>{var r;switch(n.type){case"BUILD_BASIC_DRONE":return Q(e,{...q.workshop.basic,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","basic"]});case"BUILD_MEDIUM_DRONE":return Q(e,{...q.workshop.medium,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","medium"]});case"BUILD_ADVANCED_DRONE":return Q(e,{...q.workshop.advanced,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","advanced"]});case"BUILD_REINFORCED_BASIC":return Q(e,{...q.workshop.reinforcedBasic,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","reinforcedBasic"]});case"BUILD_REINFORCED_MEDIUM":return Q(e,{...q.workshop.reinforcedMedium,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","reinforcedMedium"]});case"BUILD_REINFORCED_ADVANCED":return Q(e,{...q.workshop.reinforcedAdvanced,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","reinforcedAdvanced"]});case"BUILD_GOLEM_DRONE":return Q(e,{...q.workshop.golem,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","golem"]});case"BUILD_EXPEDITION_DRONE":return Q(e,{...q.workshop.expeditionDrone,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","expeditionDrone"]});case"BUILD_EXPEDITION_V2_DRONE":return Q(e,{...q.workshop.expeditionV2Drone,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","expeditionV2Drone"]});case"BUILD_WYRM":return Q(e,{...q.workshop.wyrm,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","wyrm"]});case"BUILD_SOLAR_PANEL":return Q(e,{...q.energy.solarPanels,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","solarPanels"]});case"BUILD_MEDIUM_SOLAR":return Q(e,{...q.energy.mediumSolarPanels,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","mediumSolarPanels"]});case"BUILD_ADVANCED_SOLAR":return Q(e,{...q.energy.advancedSolar,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","advancedSolar"]});case"BUILD_ENERGY_CORE":return Q(e,{...q.energy.energyCores,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","energyCores"]});case"BUILD_FUSION_REACTOR":return Q(e,{...q.energy.fusionReactor,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","fusionReactor"]});case"BUILD_BASIC_STORAGE":return Q(e,{...q.storage.basicStorage,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","basicStorage"]});case"BUILD_MEDIUM_STORAGE":return Q(e,{...q.storage.mediumStorage,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","mediumStorage"]});case"BUILD_ADVANCED_STORAGE":return Q(e,{...q.storage.advancedStorage,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","advancedStorage"]});case"BUILD_QUANTUM_HOARD_UNIT":return Q(e,{...q.storage.quantumHoardUnit,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","quantumHoardUnit"]});case"BUILD_LITHIUM_ION_BATTERY":return Q(e,{...q.storage.lithiumIonBattery,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","lithiumIonBattery"]});case"BUILD_PLASMA_ACCUMULATOR":return Q(e,{...q.storage.plasmaAccumulator,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","plasmaAccumulator"]});case"BUILD_HARMONIC_CONTAINMENT_FIELD":return Q(e,{...q.storage.harmonicContainmentField,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","harmonicContainmentField"]});case"CRAFT_REFINED_METAL":{const t=q.foundry.metalRefinado,o=(e.techCenter.upgrades.smeltingEfficiency||0)*.05,s=(e.techCenter.upgrades.foundryEnergy||0)*.05,i=t.costs.scrap||0,l=t.costs.energy||0,c={...t.costs,scrap:i*(1-o),energy:l*(1-s)};return Q(e,{...t,costs:c,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","metalRefinado"]})}case"CRAFT_STRUCTURAL_STEEL":return Q(e,{...q.foundry.aceroEstructural,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","aceroEstructural"]});case"CRAFT_HULL_PLATE":return Q(e,{...q.foundry.placasCasco,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","placasCasco"]});case"CRAFT_SUPERCONDUCTOR_WIRING":return Q(e,{...q.foundry.cableadoSuperconductor,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","cableadoSuperconductor"]});case"CRAFT_FUEL_ROD":return Q(e,{...q.foundry.barraCombustible,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","barraCombustible"]});case"CRAFT_PURIFIED_METAL":return Q(e,{...q.foundry.metalRefinado,costs:{scrap:5e3,energy:500},buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","metalRefinado"]});case"DISMANTLE_DRONE":{const{droneType:t,amount:o}=n.payload,s=e.workshop.drones[t];if(!s||s<=0)return e;const i=o==="max"?s:Math.min(o,s),l=q.workshop[t];if(!l||!l.costs)return e;const c={...e.resources};for(const d in l.costs){const f=l.costs[d]||0;c[d]+=Math.floor(f*i*.75)}const u={...e.workshop.drones,[t]:e.workshop.drones[t]-i};return{...e,resources:c,workshop:{...e.workshop,drones:u}}}case"CANCEL_QUEUE_ITEM":{const{category:t,itemName:o,amount:s}=n.payload,i=e[t],l=(r=i==null?void 0:i.queues)==null?void 0:r[o];if(!l||l.queue<=0)return e;const c=s==="all"?l.queue:Math.min(s,l.queue);if(c<=0)return e;const d=((y,x)=>{const C=q[y];if(C&&C[x]&&C[x].costs)return C[x].costs;if(y==="workshop"&&q.workshop[x])return q.workshop[x].costs;if(y==="foundry"){const w=Object.values(q.foundry).find(m=>{var p;return((p=m.id)==null?void 0:p.toLowerCase())===x.toLowerCase()});if(w)return w.costs}return{}})(t,o),f={...e.resources};Object.entries(d).forEach(([y,x])=>{y in f&&(f[y]+=x*c)});const h={...l,queue:l.queue-c,progress:l.queue-c===0?0:l.progress};return{...e,resources:f,[t]:{...i,queues:{...i.queues,[o]:h}}}}default:return e}},Ap=(e,n)=>{switch(n.type){case"UPDATE_MISSION_PROGRESS":{const{resources:r,workshop:t,energy:o,storage:s,techCenter:i,modules:l,shipyard:c,missions:u,rates:d}=e,{drones:f}=t;let h=!1;const y=u.activeMissions.map(x=>{if(x.completed)return x;let C=x.current;switch(x.id){case"main_1_unlock_tech":C=(i.unlocked?1:0)+(l.foundry?1:0);break;case"main_2_produce_alloys":C=r.metalRefinado+r.aceroEstructural;break;case"main_3_expeditions":C=e.activeExpeditions.filter(m=>m.completionTimestamp>0).length;break;case"main_4_fabricate_components":C=r.placasCasco+r.cableadoSuperconductor;break;case"main_5_final_assembly":{const p=Object.keys(c.costs).every(v=>{const g=c.costs[v],S=c.progress[v];return Object.keys(g).every(R=>S[R]>=g[R])});C=p?1:0,p&&!x.completed&&(h=!0);break}case"sec_1_1_basic_fleet":C=f.basic;break;case"sec_1_2_scrap_engine_i":C=d.scrapPerSecond;break;case"sec_1_3_power_surplus_i":r.energyProduction-r.energyConsumption>=20?C=(x.current||0)+1:C=0;break;case"sec_1_4_scrap_reserves":C=r.maxScrap;break;case"sec_1_5_charged_batteries":C=r.maxEnergy;break;case"sec_1_6_expanding_force":C=f.medium>0?1:0;break;case"sec_1_7_continuous_operation":r.energy>0?C=(x.current||0)+1:C=0;break;case"sec_1_8_scrap_engine_ii":C=d.scrapPerSecond;break;case"sec_1_9_first_gigawatt":C=o.solarPanels+o.mediumSolarPanels+o.advancedSolar;break;case"sec_1_10_self_sufficiency":C=(f.basic>0?1:0)+(f.medium>0?1:0)+(o.solarPanels>0?1:0)+(s.basicStorage>0?1:0);break;case"sec_2_1_collective_mind_i":C=i.researchPoints;break;case"sec_2_2_first_alloy":C=r.metalRefinado>0?1:0;break;case"sec_2_3_always_optimizing":C=Object.values(i.upgrades).filter(m=>m>0).length;break;case"sec_2_4_balanced_fleet":f.basic>=20&&f.medium>=10&&f.advanced>=5?C=35:C=0;break;case"sec_2_5_basic_metallurgy":C=r.metalRefinado;break;case"sec_2_6_one_step_ahead":C=f.advanced>0?1:0;break;case"sec_2_7_efficiency_master":C=Math.max(0,...Object.values(i.upgrades));break;case"sec_2_8_front_line":C=f.reinforcedBasic+f.reinforcedMedium+f.reinforcedAdvanced;break;case"sec_2_9_advanced_siderurgy":C=r.aceroEstructural;break;case"sec_2_10_collective_mind_ii":C=i.researchPoints;break;case"sec_3_1_rookie_explorer":break;case"sec_3_2_a_titan_is_born":C=f.golem>0?1:0;break;case"sec_3_3_seasoned_adventurer":break;case"sec_3_4_dragons_hoard":C=r.scrap;break;case"sec_3_5_final_preparations":r.metalRefinado>=500&&r.aceroEstructural>=100?C=600:C=0;break;case"sec_3_6_steel_army":C=Object.values(f).reduce((m,p)=>m+p,0);break;case"sec_3_7_the_great_wyrm":C=f.wyrm>0?1:0;break;case"sec_3_8_legendary_treasure_hunter":break;case"sec_3_9_mass_production":C=r.metalRefinado+r.aceroEstructural;break;case"sec_3_10_industrial_empire":C=d.scrapPerSecond;break}const w=Math.min(C,x.target);return w!==x.current?{...x,current:w}:x});return h?{...e,currentScene:"phase2Intro",phase2Unlocked:!0,missions:{...e.missions,activeMissions:y.filter(x=>x.id!=="main_5_final_assembly"),completedMissions:[...e.missions.completedMissions,"main_5_final_assembly"]}}:{...e,missions:{...e.missions,activeMissions:y}}}case"CLAIM_REWARD":{const r=n.payload,t=e.missions.activeMissions.find(f=>f.id===r);if(!t||t.current<t.target)return e;let o=!0;switch(t.reward.type){case"scrap":o=e.resources.scrap+t.reward.value<=e.resources.maxScrap;break;case"energy":o=e.resources.energy+t.reward.value<=e.resources.maxEnergy;break;default:o=!0}if(!o)return e;const s={...e.resources};switch(t.reward.type){case"scrap":s.scrap+=t.reward.value;break;case"energy":s.energy+=t.reward.value;break;case"nucleoSingularidad":s.nucleoSingularidad+=t.reward.value;break}const i=e.missions.activeMissions.filter(f=>f.id!==r),l=[...e.missions.completedMissions,r],c=[];if(t.isMain){const f=vo.findIndex(h=>h.id===r);if(f!==-1&&f+1<vo.length){const h=vo[f+1];!e.missions.activeMissions.some(y=>y.id===h.id)&&!e.missions.completedMissions.includes(h.id)&&c.push({...h,current:0,completed:!1})}}const u=[...i,...c];let d={...e,resources:s,missions:{...e.missions,activeMissions:u,completedMissions:l}};return t.isMain&&d.aurora.pendingMessages.push({message:`Misin principal completada: ${t.title}. Nuevos objetivos disponibles.`,key:`mission_complete_${t.id}`}),d}default:return e}},Ku=[{level:2,blueprintCost:10,statBonus:{health:100,shield:50,damage:10}},{level:3,blueprintCost:25,statBonus:{health:150,shield:75,damage:15}},{level:4,blueprintCost:50,statBonus:{health:200,shield:100,damage:20}},{level:5,blueprintCost:100,statBonus:{health:250,shield:125,damage:25}}],rr=[{name:"Sector de Patrulla Dron",description:"Drones de reconocimiento renegados han infestado este sector. Despjalo.",battles:[{enemyName:"Dron Patrulla Mk.I",health:100,shield:50,damage:20,reward:{scrap:500,aleacionReforzada:1,neuroChipCorrupto:1},type:"regular"},{enemyName:"Dron Patrulla Mk.II",health:120,shield:60,damage:22,reward:{scrap:550,aleacionReforzada:1,neuroChipCorrupto:1},type:"regular"},{enemyName:"Dron Patrulla Mk.III",health:140,shield:70,damage:25,reward:{scrap:600,aleacionReforzada:2,neuroChipCorrupto:1},type:"regular"},{enemyName:"Dron Patrulla Mk.IV",health:160,shield:80,damage:28,reward:{scrap:650,aleacionReforzada:2,neuroChipCorrupto:2},type:"regular"},{enemyName:"Lder de Escuadrn Dron",health:250,shield:125,damage:40,reward:{scrap:1500,aleacionReforzada:5,neuroChipCorrupto:3,blueprints:1},type:"mini-boss"},{enemyName:"Dron de Asalto Mk.I",health:180,shield:90,damage:32,reward:{scrap:700,aleacionReforzada:2,neuroChipCorrupto:2},type:"regular"},{enemyName:"Dron de Asalto Mk.II",health:200,shield:100,damage:35,reward:{scrap:750,aleacionReforzada:3,neuroChipCorrupto:2},type:"regular"},{enemyName:"Dron de Asalto Mk.III",health:220,shield:110,damage:38,reward:{scrap:800,aleacionReforzada:3,neuroChipCorrupto:3},type:"regular"},{enemyName:"Dron de Asalto Mk.IV",health:240,shield:120,damage:41,reward:{scrap:850,aleacionReforzada:4,neuroChipCorrupto:3},type:"regular"},{enemyName:"Nave Nodriza Dron",health:500,shield:250,damage:60,reward:{scrap:3e3,aleacionReforzada:10,neuroChipCorrupto:7,blueprints:3},type:"boss"}]},{name:"Nido de Carroeros",description:"Una pequea faccin de carroeros ha reclamado un campo de asteroides cercano.",battles:[{enemyName:"Nave Carroera Mk.I",health:250,shield:100,damage:45,reward:{scrap:1e3,aleacionReforzada:3,neuroChipCorrupto:2},type:"regular"},{enemyName:"Nave Carroera Mk.II",health:280,shield:115,damage:50,reward:{scrap:1100,aleacionReforzada:3,neuroChipCorrupto:2},type:"regular"},{enemyName:"Nave Carroera Mk.III",health:310,shield:130,damage:55,reward:{scrap:1200,aleacionReforzada:4,neuroChipCorrupto:3},type:"regular"},{enemyName:"Nave Carroera Mk.IV",health:340,shield:145,damage:60,reward:{scrap:1300,aleacionReforzada:4,neuroChipCorrupto:3},type:"regular"},{enemyName:"Capitn Carroero",health:500,shield:200,damage:80,reward:{scrap:3e3,aleacionReforzada:10,neuroChipCorrupto:8,blueprints:1},type:"mini-boss"},{enemyName:"Nave de Guerra Carroera Mk.I",health:370,shield:160,damage:65,reward:{scrap:1400,aleacionReforzada:5,neuroChipCorrupto:4},type:"regular"},{enemyName:"Nave de Guerra Carroera Mk.II",health:400,shield:175,damage:70,reward:{scrap:1500,aleacionReforzada:5,neuroChipCorrupto:4},type:"regular"},{enemyName:"Nave de Guerra Carroera Mk.III",health:430,shield:190,damage:75,reward:{scrap:1600,aleacionReforzada:6,neuroChipCorrupto:5},type:"regular"},{enemyName:"Nave de Guerra Carroera Mk.IV",health:460,shield:205,damage:80,reward:{scrap:1700,aleacionReforzada:6,neuroChipCorrupto:5},type:"regular"},{enemyName:"El 'Recuperador'",health:800,shield:400,damage:120,reward:{scrap:6e3,aleacionReforzada:20,neuroChipCorrupto:15,blueprints:4},type:"boss"}]},{name:"Puesto de Escucha Pirata",description:"Un puesto de avanzada pirata est interceptando transmisiones. Debe ser neutralizado.",battles:[{enemyName:"Fragata Pirata Mk.I",health:500,shield:250,damage:80,reward:{scrap:2500,aleacionReforzada:5,neuroChipCorrupto:4},type:"regular"},{enemyName:"Fragata Pirata Mk.II",health:550,shield:275,damage:88,reward:{scrap:2750,aleacionReforzada:6,neuroChipCorrupto:4},type:"regular"},{enemyName:"Fragata Pirata Mk.III",health:600,shield:300,damage:96,reward:{scrap:3e3,aleacionReforzada:7,neuroChipCorrupto:5},type:"regular"},{enemyName:"Fragata Pirata Mk.IV",health:650,shield:325,damage:104,reward:{scrap:3250,aleacionReforzada:8,neuroChipCorrupto:5},type:"regular"},{enemyName:"Seor de la Guerra Pirata",health:1e3,shield:500,damage:150,reward:{scrap:7e3,aleacionReforzada:20,neuroChipCorrupto:15,blueprints:2},type:"mini-boss"},{enemyName:"Destructor Pirata Mk.I",health:700,shield:350,damage:112,reward:{scrap:3500,aleacionReforzada:9,neuroChipCorrupto:6},type:"regular"},{enemyName:"Destructor Pirata Mk.II",health:750,shield:375,damage:120,reward:{scrap:3750,aleacionReforzada:10,neuroChipCorrupto:6},type:"regular"},{enemyName:"Destructor Pirata Mk.III",health:800,shield:400,damage:128,reward:{scrap:4e3,aleacionReforzada:11,neuroChipCorrupto:7},type:"regular"},{enemyName:"Destructor Pirata Mk.IV",health:850,shield:425,damage:136,reward:{scrap:4250,aleacionReforzada:12,neuroChipCorrupto:7},type:"regular"},{enemyName:"El 'Terror de los Cielos'",health:1500,shield:750,damage:200,reward:{scrap:12e3,aleacionReforzada:40,neuroChipCorrupto:30,blueprints:5},type:"boss"}]},{name:"Flota de Seguridad corrupta",description:"Una flota de seguridad automatizada se ha vuelto hostil y ataca a todo lo que se acerca.",battles:[{enemyName:"Corbeta de Seguridad Mk.I",health:1e3,shield:500,damage:150,reward:{scrap:5e3,aleacionReforzada:10,neuroChipCorrupto:8},type:"regular"},{enemyName:"Corbeta de Seguridad Mk.II",health:1100,shield:550,damage:165,reward:{scrap:5500,aleacionReforzada:11,neuroChipCorrupto:9},type:"regular"},{enemyName:"Corbeta de Seguridad Mk.III",health:1200,shield:600,damage:180,reward:{scrap:6e3,aleacionReforzada:12,neuroChipCorrupto:10},type:"regular"},{enemyName:"Corbeta de Seguridad Mk.IV",health:1300,shield:650,damage:195,reward:{scrap:6500,aleacionReforzada:13,neuroChipCorrupto:11},type:"regular"},{enemyName:"Unidad de Contencin Central",health:2e3,shield:1e3,damage:250,reward:{scrap:15e3,aleacionReforzada:30,neuroChipCorrupto:25,blueprints:2},type:"mini-boss"},{enemyName:"Crucero de Seguridad Mk.I",health:1400,shield:700,damage:210,reward:{scrap:7e3,aleacionReforzada:14,neuroChipCorrupto:12},type:"regular"},{enemyName:"Crucero de Seguridad Mk.II",health:1500,shield:750,damage:225,reward:{scrap:7500,aleacionReforzada:15,neuroChipCorrupto:13},type:"regular"},{enemyName:"Crucero de Seguridad Mk.III",health:1600,shield:800,damage:240,reward:{scrap:8e3,aleacionReforzada:16,neuroChipCorrupto:14},type:"regular"},{enemyName:"Crucero de Seguridad Mk.IV",health:1700,shield:850,damage:255,reward:{scrap:8500,aleacionReforzada:17,neuroChipCorrupto:15},type:"regular"},{enemyName:"El 'Pacificador'",health:3e3,shield:1500,damage:350,reward:{scrap:25e3,aleacionReforzada:60,neuroChipCorrupto:50,blueprints:6},type:"boss"}]},{name:"Base de Operaciones Final",description:"La base de operaciones final que coordina todas las fuerzas enemigas en el sector. Una fortaleza fuertemente defendida.",battles:[{enemyName:"Defensa de Base Mk.I",health:2e3,shield:800,damage:200,reward:{scrap:1e4,aleacionReforzada:20,neuroChipCorrupto:15},type:"regular"},{enemyName:"Defensa de Base Mk.II",health:2200,shield:880,damage:220,reward:{scrap:11e3,aleacionReforzada:22,neuroChipCorrupto:17},type:"regular"},{enemyName:"Defensa de Base Mk.III",health:2400,shield:960,damage:240,reward:{scrap:12e3,aleacionReforzada:24,neuroChipCorrupto:19},type:"regular"},{enemyName:"Defensa de Base Mk.IV",health:2600,shield:1040,damage:260,reward:{scrap:13e3,aleacionReforzada:26,neuroChipCorrupto:21},type:"regular"},{enemyName:"Comandante de la Fortaleza",health:4e3,shield:1600,damage:350,reward:{scrap:25e3,aleacionReforzada:50,neuroChipCorrupto:40,blueprints:3},type:"mini-boss"},{enemyName:"Torreta Pesada Mk.I",health:2800,shield:1120,damage:280,reward:{scrap:14e3,aleacionReforzada:28,neuroChipCorrupto:23},type:"regular"},{enemyName:"Torreta Pesada Mk.II",health:3e3,shield:1200,damage:300,reward:{scrap:15e3,aleacionReforzada:30,neuroChipCorrupto:25},type:"regular"},{enemyName:"Torreta Pesada Mk.III",health:3200,shield:1280,damage:320,reward:{scrap:16e3,aleacionReforzada:32,neuroChipCorrupto:27},type:"regular"},{enemyName:"Torreta Pesada Mk.IV",health:3400,shield:1360,damage:340,reward:{scrap:17e3,aleacionReforzada:34,neuroChipCorrupto:29},type:"regular"},{enemyName:"El 'Overlord'",health:6e3,shield:2400,damage:500,reward:{scrap:5e4,aleacionReforzada:100,neuroChipCorrupto:80,blueprints:8},type:"boss"}]},{name:"El 'Leviatn'",description:"El origen de la corrupcin. Una nave capital abandonada controlada por una IA hostil.",isBoss:!0,battles:[{enemyName:"El Leviatn - Ncleo Central",health:15e3,shield:7500,damage:400,reward:{scrap:5e4,aleacionReforzada:200,neuroChipCorrupto:150,blueprints:20},type:"boss"}]}],Pp=(e,n)=>{switch(n.type){case"SELECT_BATTLE_DESTINATION":return{...e,battleRoom:{...e.battleRoom,selectedDestination:n.payload}};case"START_BATTLE":{if(e.resources.barraCombustible<1)return console.warn("No hay suficiente combustible para iniciar la batalla."),e;if(e.battleRoom.selectedDestination===null)return e;const r=e.battleRoom.selectedDestination,t=rr[r],o=e.battleRoom.battlesCompleted[r||0];if(o>=t.battles.length)return e;const s=t.battles[o];return{...e,resources:{...e.resources,barraCombustible:e.resources.barraCombustible-1},battleCount:e.battleCount+1,currentScene:"combatScene",activeBattle:{destinationIndex:r,battleIndex:o,enemyName:s.enemyName,enemyMaxHealth:s.health,enemyCurrentHealth:s.health,enemyMaxShield:s.shield,enemyCurrentShield:s.shield},vindicator:{...e.vindicator,currentShield:e.vindicator.maxShield}}}case"PLAYER_ATTACK":{if(!e.activeBattle)return e;const{activeBattle:r,vindicator:t}=e,o=rr[r.destinationIndex].battles[r.battleIndex],s=(d,f,h)=>{let y=d,x=f,C=h;const w=Math.min(x,y);return x-=w,y-=w,y>0&&(C=Math.max(0,C-y)),{newShield:x,newHealth:C}},i=s(t.damage,r.enemyCurrentShield,r.enemyCurrentHealth);let l={newShield:t.currentShield,newHealth:t.currentHealth};i.newHealth>0&&(l=s(o.damage,t.currentShield,t.currentHealth));const c={...t,currentShield:l.newShield,currentHealth:l.newHealth},u={...r,enemyCurrentShield:i.newShield,enemyCurrentHealth:i.newHealth};if(c.currentHealth<=0)return{...e,currentScene:"phase2Main",activeBattle:null,vindicator:{...t,currentHealth:t.maxHealth,currentShield:0}};if(u.enemyCurrentHealth<=0){const d=[...e.battleRoom.battlesCompleted];d[r.destinationIndex]++;const f=rr[r.destinationIndex],h=d[r.destinationIndex];if(h<f.battles.length){const y=f.battles[h];return{...e,resources:{...e.resources,scrap:e.resources.scrap+(o.reward.scrap||0),aleacionReforzada:e.resources.aleacionReforzada+(o.reward.aleacionReforzada||0),neuroChipCorrupto:e.resources.neuroChipCorrupto+(o.reward.neuroChipCorrupto||0)},blueprints:e.blueprints+(o.reward.blueprints||0),battleRoom:{...e.battleRoom,battlesCompleted:d},activeBattle:{destinationIndex:r.destinationIndex,battleIndex:h,enemyName:y.enemyName,enemyMaxHealth:y.health,enemyCurrentHealth:y.health,enemyMaxShield:y.shield,enemyCurrentShield:y.shield},vindicator:c}}else return{...e,currentScene:"phase2Main",activeBattle:null,resources:{...e.resources,scrap:e.resources.scrap+(o.reward.scrap||0),aleacionReforzada:e.resources.aleacionReforzada+(o.reward.aleacionReforzada||0),neuroChipCorrupto:e.resources.neuroChipCorrupto+(o.reward.neuroChipCorrupto||0)},blueprints:e.blueprints+(o.reward.blueprints||0),battleRoom:{...e.battleRoom,battlesCompleted:d},vindicator:c}}else return{...e,vindicator:c,activeBattle:u}}case"ESCAPE_COMBAT":{if(!e.activeBattle)return e;const r=[...e.battleRoom.battlesCompleted];return r[e.activeBattle.destinationIndex]=0,{...e,currentScene:"phase2Main",activeBattle:null,battleRoom:{...e.battleRoom,battlesCompleted:r},vindicator:{...e.vindicator,currentHealth:e.vindicator.maxHealth,currentShield:0}}}default:return e}},Ip=e=>{const{modules:n,currentBackground:r}=e;return!n.techCenter&&r<2?e:n.techCenter&&!n.foundry&&r<3?{...e,currentBackground:2}:n.foundry&&!n.shipyard&&r<4?{...e,currentBackground:3}:n.shipyard&&r<5?{...e,currentBackground:4}:e},Tp=e=>{const{aurora:n,workshop:r,resources:t,energy:o,storage:s,techCenter:i,currentScene:l}=e,{drones:c}=r,{shownMessages:u,pendingMessages:d}=n,f=u instanceof Set?u:new Set;let h=[...d],y=new Set(f),x=!1;const C=(w,m)=>{y.has(m)||(h.push({message:w,key:m}),y.add(m),x=!0)};return l==="main"&&c.basic===0&&t.scrap<10&&!y.has("initial")&&C("Sistema de reactivacin iniciado. Recolecta chatarra para reparar los sistemas daados de la estacin. Consulta las Misiones para tus primeros objetivos.","initial"),c.basic===1&&!y.has("first_drone")&&C("Unidad de reparacin funcional. Eficiencia: 12%. Buen inicio, tcnico.","first_drone"),o.solarPanels===1&&!y.has("first_solar")&&C("Suministro energtico estabilizado. Los sistemas de soporte vuelven a responder.","first_solar"),c.basic>=5&&!y.has("unlock_medium")&&C("Red de drones bsicos operativa. Protocolos de ensamblaje medio disponibles en el Taller.","unlock_medium"),c.medium===1&&!y.has("first_medium")&&C("Eficiencia de recoleccin incrementada. Continu con la expansin de la flota.","first_medium"),s.basicStorage===1&&!y.has("first_storage")&&C("Depsitos restaurados. Capacidad de almacenamiento incrementada.","first_storage"),c.medium>=3&&o.advancedSolar>=1&&!i.unlocked&&!y.has("laboratory_available")&&C("He detectado que cumples los requisitos para reactivar el Laboratorio. Podramos optimizar todos nuestros sistemas desde all.","laboratory_available"),i.upgrades.reinforcedBasicDrones===1&&!y.has("reinforced_basic_unlocked")&&C("Protocolos de drones reforzados bsicos desbloqueados. Ahora podemos construir unidades ms resistentes en el Taller.","reinforced_basic_unlocked"),i.upgrades.reinforcedMediumDrones===1&&!y.has("reinforced_medium_unlocked")&&C("Tecnologa de drones reforzados medios disponible. La eficiencia de recoleccin aumentar significativamente.","reinforced_medium_unlocked"),i.upgrades.reinforcedAdvancedDrones===1&&!y.has("reinforced_advanced_unlocked")&&C("Drones reforzados avanzados desbloqueados. Hemos alcanzado la cspide de la automatizacin de reciclado.","reinforced_advanced_unlocked"),i.upgrades.researchEfficiency===1&&!y.has("research_efficiency_unlocked")&&C("Algoritmos de investigacin optimizados. La generacin base de puntos de investigacin ha aumentado.","research_efficiency_unlocked"),i.upgrades.advancedAnalysis===1&&!y.has("advanced_analysis_unlocked")&&C("Sistemas de anlisis avanzado activados. Los drones ahora contribuyen ms a la investigacin.","advanced_analysis_unlocked"),i.upgrades.algorithmOptimization===1&&!y.has("algorithm_optimization_unlocked")&&C("Optimizacin algortmica completada. La energa sobrante genera significativamente ms puntos de investigacin.","algorithm_optimization_unlocked"),x?{...e,aurora:{...e.aurora,pendingMessages:h,shownMessages:y}}:e},bp=e=>{const{upgrades:n}=e.techCenter;let r=1+n.constructionEfficiency*.05;const t=n.poweredFabricators||0;t>0&&e.resources.energy>0&&e.resources.maxEnergy>0&&e.resources.energy/e.resources.maxEnergy>.9&&(r*=1+t*.1);const o=(hn,Vr,ia,la)=>{var Ft;const mr=la[hn].queues;let pr={...Vr},zt={...mr},Hr=!1;const ca=r+ia;for(const Ge in mr)if(Object.prototype.hasOwnProperty.call(mr,Ge)){const Gr=mr[Ge];let Wr=Gr.time;if(hn==="foundry"){let Ee=1;Ge==="metalRefinado"?Ee+=(n.metalSmeltingSpeed||0)*.05:Ge==="aceroEstructural"?Ee+=(n.steelProductionSpeed||0)*.05:Ge==="placasCasco"?Ee+=(n.hullPlateProduction||0)*.05:Ge==="cableadoSuperconductor"?Ee+=(n.wiringProduction||0)*.05:Ge==="barraCombustible"&&(Ee+=(n.fuelRodProduction||0)*.05),Wr/=Ee}if(Gr.queue>0){Hr||(Hr=!0);let Ee={...Gr};const Qr=Ee.progress+1*ca,ua=Math.floor(Qr/Wr),fr=Math.min(ua,Ee.queue);if(fr>0){const Yr=(Ft=q[hn])==null?void 0:Ft[Ge],kn=Yr==null?void 0:Yr.produces,$=(kn==null?void 0:kn.resource)||Ge,ze=(kn==null?void 0:kn.amount)||1;pr={...pr,[$]:(pr[$]||0)+fr*ze},Ee.queue-=fr,Ee.progress=Qr-fr*Wr}else Ee.progress=Qr;Ee.queue===0&&(Ee.progress=0),zt[Ge]=Ee}}return{newInventory:pr,newQueues:zt,changed:Hr}},s=o("workshop",{...e.workshop.drones},n.droneAssembly*.05,e),i=o("energy",{solarPanels:e.energy.solarPanels,mediumSolarPanels:e.energy.mediumSolarPanels,advancedSolar:e.energy.advancedSolar,energyCores:e.energy.energyCores,fusionReactor:e.energy.fusionReactor},n.energyCalibration*.05,e),l=o("storage",{basicStorage:e.storage.basicStorage,mediumStorage:e.storage.mediumStorage,advancedStorage:e.storage.advancedStorage,quantumHoardUnit:e.storage.quantumHoardUnit,lithiumIonBattery:e.storage.lithiumIonBattery,plasmaAccumulator:e.storage.plasmaAccumulator,harmonicContainmentField:e.storage.harmonicContainmentField},n.storageConstruction*.05,e),c=o("foundry",{...e.resources},0,e),u={...e,workshop:s.changed?{...e.workshop,drones:s.newInventory,queues:s.newQueues}:e.workshop,energy:i.changed?{...e.energy,...i.newInventory,queues:i.newQueues}:e.energy,storage:l.changed?{...e.storage,...l.newInventory,queues:l.newQueues}:e.storage,resources:c.changed?c.newInventory:e.resources,foundry:c.changed?{...e.foundry,queues:c.newQueues}:e.foundry},d=u,f=1-d.techCenter.upgrades.powerOptimization*.05,h=(d.workshop.drones.basic*1+d.workshop.drones.medium*3+d.workshop.drones.advanced*5+d.workshop.drones.reinforcedBasic*3+d.workshop.drones.reinforcedMedium*6+d.workshop.drones.reinforcedAdvanced*12+d.workshop.drones.golem*50+d.workshop.drones.wyrm*200)*f,y=1+d.techCenter.upgrades.energyEfficiency*.1,x=1+d.techCenter.upgrades.coreEfficiency*.1,C=(d.energy.solarPanels*3+d.energy.mediumSolarPanels*10+d.energy.advancedSolar*30)*y+d.energy.energyCores*50*x+d.energy.fusionReactor*250,w=50,m=d.energy.energyCores*100,p=d.energy.fusionReactor*1e3,v=(d.storage.lithiumIonBattery*50+d.storage.plasmaAccumulator*250+d.storage.harmonicContainmentField*1200)*(1+d.techCenter.upgrades.energyStorage*.1),g=(w+m+p+v)*(1+d.techCenter.upgrades.batteryTech*.15),S=150,_=d.storage.basicStorage*50+d.storage.mediumStorage*500+d.storage.advancedStorage*5e3+d.storage.quantumHoardUnit*5e4,R=(S+_)*(1+d.techCenter.upgrades.storageOptimization*.15)*(1+d.techCenter.upgrades.cargoDrones*.1),j=d.resources.energy>0,P=1+d.techCenter.upgrades.collectionEfficiency*.1,M=j?(d.workshop.drones.basic*1+d.workshop.drones.medium*5+d.workshop.drones.advanced*20+d.workshop.drones.reinforcedBasic*8+d.workshop.drones.reinforcedMedium*25+d.workshop.drones.reinforcedAdvanced*80+d.workshop.drones.golem*500)*P:0,I=j?d.workshop.drones.wyrm*1:0,B=j?d.workshop.drones.wyrm*.1:0,L=d.resources.energy+(C-h),z=Math.max(0,Math.min(L,g)),F=d.resources.scrap+M,le=Math.min(F,R),ve=d.resources.metalRefinado+I,D=d.resources.aceroEstructural+B,b=.1*(1+d.techCenter.upgrades.researchEfficiency*.2),T=Object.values(d.workshop.drones).reduce((hn,Vr)=>hn+Vr,0),H=T*.01*(1+d.techCenter.upgrades.advancedAnalysis*.1),Ne=Math.max(0,C-h)*.005*(1+d.techCenter.upgrades.algorithmOptimization*.15),fe=(b+H+Ne)/(1-d.techCenter.upgrades.quantumComputing*.05),xe=d.techCenter.researchPoints+fe;let Y={...d.resources};const te=d.techCenter.upgrades.geologicalScanners||0;if(te>0&&j){const hn=T*1e-4*te;Math.random()<hn&&(Math.random()<.5?Y.fragmentosPlaca=(d.resources.fragmentosPlaca||0)+1:Y.circuitosDaados=(d.resources.circuitosDaados||0)+1)}const ce={...u,resources:{...Y,scrap:le,metalRefinado:ve,aceroEstructural:D,energy:z,energyConsumption:h,energyProduction:C,maxEnergy:g,maxScrap:R},rates:{...d.rates,scrapPerSecond:M},techCenter:{...d.techCenter,researchPoints:xe}},he=e.modules;let G={...ce.modules},fn={...ce.techCenter};ce.resources.scrap>=50&&!G.energy&&(G.energy=!0),ce.resources.scrap>=75&&!G.storage&&(G.storage=!0),ce.workshop.drones.medium>=3&&ce.energy.advancedSolar>=1&&ce.resources.scrap>=1e3&&!G.techCenter&&(G.techCenter=!0,fn.unlocked=!0),ce.workshop.drones.expeditionDrone>0&&!G.expeditions&&(G.expeditions=!0),ce.workshop.drones.golem>0&&!G.shipyard&&(G.shipyard=!0);let Ce=[...ce.notificationQueue];!he.energy&&G.energy&&Ce.push({id:`energy-${Date.now()}`,title:"Mdulo de Energa Desbloqueado",message:"Ahora puedes construir paneles solares para generar energa y alimentar ms drones."}),!he.storage&&G.storage&&Ce.push({id:`storage-${Date.now()}`,title:"Mdulo de Almacenamiento Desbloqueado",message:"Construye unidades de almacn para aumentar tu capacidad mxima de chatarra y energa."}),!he.techCenter&&G.techCenter&&Ce.push({id:`laboratory-${Date.now()}`,title:"Laboratorio Desbloqueado",message:"Investiga nuevas tecnologas para mejorar tus drones, la produccin de energa y mucho ms."}),!he.foundry&&G.foundry&&Ce.push({id:`foundry-${Date.now()}`,title:"Fundicin Desbloqueada",message:"Refina chatarra en materiales avanzados para construir estructuras y drones ms potentes."}),!he.expeditions&&G.expeditions&&Ce.push({id:`expeditions-${Date.now()}`,title:"Mdulo de Expediciones Desbloqueado",message:"Enva drones a lo desconocido para encontrar recursos que no se pueden fabricar."}),!he.shipyard&&G.shipyard&&Ce.push({id:`shipyard-${Date.now()}`,title:"Astillero Desbloqueado",message:'El objetivo final! Dona componentes para reconstruir la nave "Vindicator".'});let Qn={...ce,modules:G,techCenter:fn,notificationQueue:Ce};return Qn=Ip(Qn),Qn=Tp(Qn),Qn},Lp=(e,n)=>{let r={...e};switch(r=Pp(r,n),r=Mp(r,n),n.type){case"SET_WORKSHOP_BUY_AMOUNT":return{...e,workshopBuyAmount:n.payload};case"RESET_GAME":try{localStorage.removeItem("mekadron-savegame")}catch(t){console.error("Failed to clear save game:",t)}return{...se,notificationQueue:[]};case"DISMISS_NOTIFICATION":return{...e,notificationQueue:e.notificationQueue.slice(1)};case"SET_ENERGY_BUY_AMOUNT":return{...e,energyBuyAmount:n.payload};case"SET_STORAGE_BUY_AMOUNT":return{...e,storageBuyAmount:n.payload};case"SET_FOUNDRY_BUY_AMOUNT":return{...e,foundryBuyAmount:n.payload};case"ACTIVATE_FOUNDRY":return e.resources.scrap>=25e3&&!e.modules.foundry?{...e,resources:{...e.resources,scrap:e.resources.scrap-25e3},modules:{...e.modules,foundry:!0}}:e;case"START_GAME":return{...e,currentScene:"introScene"};case"SHOW_MAIN_SCENE":return{...e,currentScene:"main"};case"START_PHASE_2":return{...e,currentScene:"phase2Main"};case"RETURN_TO_PHASE_1":return{...e,currentScene:"main"};case"GO_TO_PHASE_2":return{...e,currentScene:"phase2Main"};case"COLLECT_SCRAP":{const t=e.resources.scrap+e.rates.scrapPerClick,o=Math.min(t,e.resources.maxScrap);return{...e,resources:{...e.resources,scrap:o}}}case"REMOVE_AURORA_MESSAGE":return{...e,aurora:{...e.aurora,activeMessages:e.aurora.activeMessages.filter(t=>t.id!==n.payload.messageId)}};case"PROCESS_AURORA_QUEUE":{if(e.aurora.pendingMessages.length===0)return e;const t=e.aurora.pendingMessages[0],o={id:Date.now(),text:t.message,key:t.key};return{...e,aurora:{...e.aurora,activeMessages:[...e.aurora.activeMessages,o],pendingMessages:e.aurora.pendingMessages.slice(1)}}}case"ADD_AURORA_MESSAGE":{const{message:t,messageKey:o}=n.payload;if(e.aurora.shownMessages.has(o))return e;const s=new Set(e.aurora.shownMessages);return s.add(o),{...e,aurora:{...e.aurora,pendingMessages:[...e.aurora.pendingMessages,{message:t,key:o}],shownMessages:s}}}case"SET_CURRENT_VIEW":return{...e,currentView:n.payload};case"CLOSE_CURRENT_VIEW":return{...e,currentView:""};case"START_EXPEDITION":{const{expeditionId:t}=n.payload,o=nr.find(h=>h.id===t);if(!o)return console.error(`Expedition data not found for id: ${t}`),e;const s=o.costs.drones,i=o.droneType,l=e.activeExpeditions.filter(h=>{var y;return((y=nr.find(x=>x.id===h.id))==null?void 0:y.droneType)===i}).reduce((h,y)=>h+y.dronesSent,0);if(e.workshop.drones[i]-l<s)return console.warn(`Not enough ${i} available.`),e;const u={...e.resources};let d=!0;for(const[h,y]of Object.entries(o.costs))if(h!=="drones"){if(u[h]<y){d=!1,console.warn(`Not enough ${h} for expedition.`);break}u[h]-=y}if(!d)return e;if(e.activeExpeditions.some(h=>h.id===t))return console.warn("Attempted to start an already active expedition."),e;const f={id:t,completionTimestamp:Date.now()+o.duration*1e3,dronesSent:s};return{...e,resources:u,activeExpeditions:[...e.activeExpeditions,f]}}case"RESEARCH_UPGRADE":{const{upgradeName:t,cost:o}=n.payload;if(e.techCenter.researchPoints>=o){const s={...e.techCenter.upgrades,[t]:(e.techCenter.upgrades[t]||0)+1};let i=e.currentBackground;return t==="foundryProtocols"&&e.currentBackground<4&&(i=4),{...e,currentBackground:i,modules:{...e.modules,...t==="foundryProtocols"&&{foundry:!0}},techCenter:{...e.techCenter,researchPoints:e.techCenter.researchPoints-o,upgrades:s}}}return e}case"GAME_TICK":{let t=bp(e);return t.currentBackground===1&&t.modules.energy&&t.resources.scrap>=75&&(t.currentBackground=2),t.currentBackground===2&&t.modules.techCenter&&(t.currentBackground=3),t=Ap(t,{type:"UPDATE_MISSION_PROGRESS"}),t}case"DEBUG_UNLOCK_TECH_CENTER":return{...e,modules:{...e.modules,techCenter:!0,foundry:!0,shipyard:!0,expeditions:!0},techCenter:{...e.techCenter,unlocked:!0,upgrades:{...e.techCenter.upgrades,collectionEfficiency:1,droneAssembly:1,reinforcedBasicDrones:1,reinforcedMediumDrones:1,reinforcedAdvancedDrones:1,golemChassis:1}},shipyard:{...e.shipyard,unlocked:!0},workshop:{...e.workshop,drones:{...e.workshop.drones,medium:Math.max(e.workshop.drones.medium,3),reinforcedMedium:Math.max(e.workshop.drones.reinforcedMedium,3),reinforcedAdvanced:Math.max(e.workshop.drones.reinforcedAdvanced,5),golem:Math.max(e.workshop.drones.golem,1),expeditionDrone:Math.max(e.workshop.drones.expeditionDrone,1)}},energy:{...e.energy,advancedSolar:Math.max(e.energy.advancedSolar,1)},resources:{...e.resources,scrap:Math.max(e.resources.scrap,15e4),metalRefinado:Math.max(e.resources.metalRefinado,5e3)}};case"DEBUG_COMPLETE_VINDICATOR":{const t={...e.shipyard.costs};return{...e,shipyard:{...e.shipyard,progress:t},resources:{...e.resources,barraCombustible:e.resources.barraCombustible+100}}}case"DEBUG_FINISH_EXPEDITIONS":{const t=e.activeExpeditions.map(o=>({...o,completionTimestamp:Date.now()}));return{...e,activeExpeditions:t}}case"DONATE_TO_SHIPYARD":{const{component:t,resource:o,amount:s}=n.payload;if(!e.shipyard.costs[t]||!(o in e.shipyard.costs[t]))return e;const i=e.shipyard.costs[t][o],l=e.shipyard.progress[t][o];if(i===void 0||l===void 0)return e;const c=o==="researchPoints"?e.techCenter.researchPoints:e.resources[o]||0,u=Math.min(s,c,i-l);if(u<=0)return e;const d={...e,resources:o!=="researchPoints"?{...e.resources,[o]:c-u}:e.resources,techCenter:o==="researchPoints"?{...e.techCenter,researchPoints:c-u}:e.techCenter,shipyard:{...e.shipyard,progress:{...e.shipyard.progress,[t]:{...e.shipyard.progress[t],[o]:l+u}}}},{hull:f,powerCore:h,targetingSystem:y,warpDrive:x}=d.shipyard.progress,C=d.shipyard.costs;return f.placasCasco>=C.hull.placasCasco&&h.cableadoSuperconductor>=C.powerCore.cableadoSuperconductor&&y.researchPoints>=C.targetingSystem.researchPoints&&y.cableadoSuperconductor>=C.targetingSystem.cableadoSuperconductor&&x.nucleoSingularidad>=C.warpDrive.nucleoSingularidad&&d.currentBackground<5&&(d.currentBackground=5),d}case"REPAIR_VINDICATOR_HEALTH":{const{scrapCost:t}=n.payload;return e.resources.scrap>=t&&e.vindicator.currentHealth<e.vindicator.maxHealth?{...e,resources:{...e.resources,scrap:e.resources.scrap-t},vindicator:{...e.vindicator,currentHealth:e.vindicator.maxHealth}}:e}case"REPAIR_VINDICATOR_SHIELD":{const{fuelCost:t}=n.payload;return e.resources.barraCombustible>=t&&e.vindicator.currentShield<e.vindicator.maxShield?{...e,resources:{...e.resources,barraCombustible:e.resources.barraCombustible-t},vindicator:{...e.vindicator,currentShield:e.vindicator.maxShield}}:e}case"UPGRADE_VINDICATOR_STAR":{const{upgradeId:t}=n.payload,o=e.vindicatorUpgrades[t];if(!o||o.currentStars>=o.maxStars)return e;const{phase1Resources:s,phase2Resources:i}=o.costPerStar;if(!(Object.entries(s).every(([h,y])=>e.resources[h]>=y)&&Object.entries(i).every(([h,y])=>e.resources[h]>=y)))return e;const c={...e.resources};Object.entries(s).forEach(([h,y])=>{c[h]-=y}),Object.entries(i).forEach(([h,y])=>{c[h]-=y});const{health:u,shield:d,damage:f}=o.statIncreasePerStar;return{...e,resources:c,vindicatorUpgrades:{...e.vindicatorUpgrades,[t]:{...o,currentStars:o.currentStars+1}},vindicator:{...e.vindicator,maxHealth:e.vindicator.maxHealth+(u||0),maxShield:e.vindicator.maxShield+(d||0),damage:e.vindicator.damage+(f||0)}}}case"LEVEL_UP_VINDICATOR":{const t=e.vindicatorLevel,o=Ku.find(i=>i.level===t+1);if(!o||e.blueprints<o.blueprintCost)return e;const{statBonus:s}=o;return{...e,blueprints:e.blueprints-o.blueprintCost,vindicatorLevel:t+1,vindicator:{...e.vindicator,maxHealth:e.vindicator.maxHealth+s.health,currentHealth:e.vindicator.currentHealth+s.health,maxShield:e.vindicator.maxShield+s.shield,currentShield:e.vindicator.currentShield+s.shield,damage:e.vindicator.damage+s.damage}}}case"CLAIM_EXPEDITION_REWARDS":{const t=n.payload,o=nr.find(l=>l.id===t.id);if(!o)return console.error(`Expedition data not found for id: ${t.id}`),e;const s=e.activeExpeditions.filter(l=>l.id!==t.id);if(Math.random()>o.risk.chance){const l={...e.resources};let c="Recompensas obtenidas: ";for(const[u,d]of Object.entries(o.rewards)){const[f,h]=d,y=Math.floor(Math.random()*(h-f+1))+f;l[u]=(l[u]||0)+y,c+=`${y} de ${u}, `}return{...e,resources:l,activeExpeditions:s,notificationQueue:[...e.notificationQueue,{id:`exp-success-${Date.now()}`,title:`xito en ${o.title}`,message:c.slice(0,-2)}]}}else{const l=Math.ceil(t.dronesSent*o.risk.droneLossPercentage),c=o.droneType,u={...e.workshop.drones};return u[c]-=l,{...e,workshop:{...e.workshop,drones:u},activeExpeditions:s,notificationQueue:[...e.notificationQueue,{id:`exp-fail-${Date.now()}`,title:`Fracaso en ${o.title}`,message:`La expedicin fracas. Se han perdido ${l} drones.`}]}}}case"SET_VOLUME":return{...e,settings:{...e.settings,volume:n.payload}};default:return r}},Xu=N.createContext(void 0),Zu=N.createContext(void 0),Ju=N.createContext(void 0),Bp=e=>{const n=e.lastSaveTimestamp;if(!n)return e;const r=Date.now(),t=r-n;if(t<6e4)return e;const o=Math.floor(t/1e3),s=24*60*60,i=Math.min(o,s);if(i<=0)return e;console.log(`Calculando recursos offline por ${i} segundos de ausencia`);let l=JSON.parse(JSON.stringify(e));if(l=Op(l,i),i>60){const c=Math.floor(i/3600),u=Math.floor(i%3600/60);let d="";c>0?d=`${c}h ${u}m`:d=`${u}m`;const f={scrap:Math.floor(l.resources.scrap-e.resources.scrap),metal:Math.floor(l.resources.metalRefinado-e.resources.metalRefinado),steel:Math.floor(l.resources.aceroEstructural-e.resources.aceroEstructural),research:Math.floor(l.techCenter.researchPoints-e.techCenter.researchPoints)};if(f.scrap>0||f.research>0){const h=`Bienvenido de vuelta! Durante tu ausencia de ${d}, generaste:
`+(f.scrap>0?` ${f.scrap.toLocaleString()} chatarra
`:"")+(f.metal>0?` ${f.metal.toLocaleString()} metal refinado
`:"")+(f.steel>0?` ${f.steel.toLocaleString()} acero estructural
`:"")+(f.research>0?` ${f.research.toLocaleString()} puntos de investigacin`:"");l.aurora.pendingMessages.push({message:h.trim(),key:`offline_production_${Date.now()}`})}}return l.lastSaveTimestamp=r,l},Op=(e,n)=>{const{upgrades:r}=e.techCenter,{workshop:t,energy:o,resources:s}=e,{drones:i}=t,l=1-r.powerOptimization*.05,c=(i.basic*1+i.medium*3+i.advanced*5+i.reinforcedBasic*3+i.reinforcedMedium*6+i.reinforcedAdvanced*12+i.golem*50+i.wyrm*200)*l,u=1+r.energyEfficiency*.1,d=1+r.coreEfficiency*.1,f=(o.solarPanels*3+o.mediumSolarPanels*10+o.advancedSolar*30)*u+o.energyCores*50*d,h=1+r.collectionEfficiency*.1,y=s.energy>0,x=y?(i.basic*1+i.medium*5+i.advanced*20+i.reinforcedBasic*8+i.reinforcedMedium*25+i.reinforcedAdvanced*80+i.golem*500)*h*n:0,C=y?i.wyrm*1*n:0,w=y?i.wyrm*.1*n:0,m=(f-c)*n,p=Math.max(0,Math.min(s.energy+m,s.maxEnergy)),v=Math.min(s.scrap+x,s.maxScrap),g=s.metalRefinado+C,S=s.aceroEstructural+w,_=.1*(1+r.researchEfficiency*.2),j=Object.values(i).reduce((B,L)=>B+L,0)*.01*(1+r.advancedAnalysis*.1),M=Math.max(0,s.energy-c)*.005*(1+r.algorithmOptimization*.15),I=(_+j+M)/(1-r.quantumComputing*.05)*n;return{...e,resources:{...s,scrap:v,metalRefinado:g,aceroEstructural:S,energy:p,energyConsumption:c,energyProduction:f},techCenter:{...e.techCenter,researchPoints:e.techCenter.researchPoints+I}}},zp=()=>{var e,n,r,t,o;try{const s=localStorage.getItem("mekadron-savegame");if(s===null)return se;const i=JSON.parse(s);if(i.drones&&!((e=i.workshop)!=null&&e.drones)&&(console.log("Detectado guardado antiguo de drones. Migrando a workshop.drones..."),i.workshop||(i.workshop={...se.workshop}),i.workshop.drones=i.drones,delete i.drones),i.aurora&&(i.aurora.currentMessage||i.aurora.messageQueue)){console.log("Detectado guardado antiguo de Aurora. Migrando...");const c=[];i.aurora.currentMessage&&c.push({message:i.aurora.currentMessage,key:`migrated_${Date.now()}`}),Array.isArray(i.aurora.messageQueue)&&c.push(...i.aurora.messageQueue),i.aurora.activeMessages=[],i.aurora.pendingMessages=c,delete i.aurora.currentMessage,delete i.aurora.messageQueue}i.aurora&&Array.isArray(i.aurora.shownMessages)?i.aurora.shownMessages=new Set(i.aurora.shownMessages):i.aurora&&(i.aurora.shownMessages=new Set);const l={...se,...i,resources:{...se.resources,...i.resources||{}},workshop:i.workshop?{...se.workshop,...i.workshop,queues:{...se.workshop.queues,...i.workshop.queues||{}}}:se.workshop,energy:{...se.energy,...i.energy||{},queues:{...se.energy.queues,...((n=i.energy)==null?void 0:n.queues)||{}}},storage:{...se.storage,...i.storage||{},queues:{...se.storage.queues,...((r=i.storage)==null?void 0:r.queues)||{}}},foundry:{...se.foundry,...i.foundry||{},queues:{...se.foundry.queues,...((t=i.foundry)==null?void 0:t.queues)||{}}},techCenter:{...se.techCenter,...i.techCenter||{},upgrades:{...se.techCenter.upgrades,...((o=i.techCenter)==null?void 0:o.upgrades)||{}}},aurora:{...se.aurora,...i.aurora||{}},battleRoom:{...se.battleRoom,...i.battleRoom||{}},shipyard:{...se.shipyard,...i.shipyard||{}},vindicator:{...se.vindicator,...i.vindicator||{}}};return l.aurora&&Array.isArray(l.aurora.shownMessages)&&(l.aurora.shownMessages=new Set(l.aurora.shownMessages)),Bp(l)}catch(s){return console.error("No se pudo cargar la partida guardada:",s),se}},Fp=({children:e})=>{const[n,r]=N.useReducer(Lp,zp()),[t,o]=N.useState([]),s=N.useCallback((i,l,c)=>{const u={id:Date.now(),text:i,x:l,y:c};o(d=>[...d,u])},[]);return N.useEffect(()=>{const i=setInterval(()=>{o(l=>l.filter(c=>Date.now()-c.id<1500))},1500);return()=>clearInterval(i)},[]),a.jsx(Xu.Provider,{value:n,children:a.jsx(Zu.Provider,{value:r,children:a.jsx(Ju.Provider,{value:{showFloatingText:s,floatingTexts:t},children:e})})})},aa=()=>{const e=N.useContext(Xu);if(e===void 0)throw new Error("useGameState must be used within a GameProvider");return e},ed=()=>{const e=N.useContext(Zu);if(e===void 0)throw new Error("useGameDispatch must be used within a GameProvider");return e},Up=()=>{const e=N.useContext(Ju);if(e===void 0)throw new Error("useFloatingText must be used within a GameProvider");return e},Wn=()=>({gameState:aa(),dispatch:ed(),...Up()});const qp="/Mekadron-idle/assets/cover-7386bfb8.png",$p="/Mekadron-idle/assets/play-button-02045e30.png",Tl=({onStartGame:e})=>a.jsx("div",{className:"start-menu-container",style:{backgroundImage:`url(${qp})`},children:a.jsx("button",{onClick:e,className:"play-button",style:{backgroundImage:`url(${$p})`},"aria-label":"Jugar"})});const Vp=({onComplete:e})=>{const n=`Sistema de vida restaurado. Iniciando conciencia

Despiertas sobresaltado. Luces parpadeantes iluminan brevemente pasillos metlicos cubiertos de polvo y chispas. Todo est en silencio salvo un susurro mecnico que resuena en los altavoces:

Mantenimiento crtico. Fallo estructural inminente.

No recuerdas quin eres ni cunto tiempo llevas aqu. Solo percibes el latido distante de los motores apagndose y el eco de algo movindose entre las sombras de la estacin.

La voz vuelve a sonar, ms urgente, casi humana: Restaura los sistemas esenciales o todo terminar.

A tu alrededor, pantallas rotas, herramientas abandonadas, y una sensacin persistente de que no ests solo. Algo espera. Algo observa. Y depende de ti reactivar lo que queda antes de que sea demasiado tarde.`,[r,t]=N.useState(""),[o,s]=N.useState(!1);return N.useEffect(()=>{let i=0;const l=setInterval(()=>{i++,t(n.substring(0,i)),i>=n.length&&clearInterval(l)},50);return()=>clearInterval(l)},[n]),N.useEffect(()=>{const i=setTimeout(()=>{s(!0)},5e3);return()=>clearTimeout(i)},[]),a.jsxs("div",{className:"intro-scene-container",children:[a.jsx("div",{className:"text-box",children:a.jsxs("p",{className:"intro-text",children:[r,a.jsx("span",{className:"blinking-cursor",children:"_"})]})}),o&&a.jsx("button",{onClick:e,className:"continue-button",children:"[ CONTINUAR ]"})]})},Hp="/Mekadron-idle/assets/Phase0-background-739cd50a.png",Gp="/Mekadron-idle/assets/Phase1-background-18eacd44.png",Wp="/Mekadron-idle/assets/Phase3-background-90d99d0b.png",Qp="/Mekadron-idle/assets/Phase4-background-a7174e9c.png";const Yp="/Mekadron-idle/assets/main-theme-5b32f65a.wav";const Kp=()=>aa().resources,E=e=>{if(e<1e3)return Math.floor(e).toString();const n=["","K","M","B","T"],r=Math.floor(Math.log10(Math.abs(e))/3);if(r>=n.length)return e.toExponential(1);const t=n[r],o=Math.pow(10,r*3),s=e/o;return parseFloat(s.toFixed(1))+t},Xp=sn.memo(()=>{const{drones:e,modules:n,shipyard:r,rates:t}=aa(),o=Kp(),{scrap:s,maxScrap:i,energy:l,maxEnergy:c,metalRefinado:u,aceroEstructural:d,fragmentosPlaca:f,circuitosDaados:h,nucleoSingularidad:y,energyProduction:x,energyConsumption:C}=o,w=t.scrapPerSecond,m=r.unlocked,p=e.basic+e.reinforcedBasic,v=e.medium+e.reinforcedMedium,g=e.advanced+e.reinforcedAdvanced+e.golem+e.wyrm;return a.jsxs("div",{className:"resource-bar",children:[a.jsxs("div",{className:"resource-group",children:[a.jsxs("div",{className:"resource-item",title:"Chatarra",children:[a.jsx("span",{className:"icon",children:""}),a.jsxs("span",{children:[E(s)," / ",E(i)]})]}),a.jsxs("div",{className:"resource-item",title:"Energa",children:[a.jsx("span",{className:"icon",style:{color:"#06B6D4"},children:""}),a.jsxs("span",{children:[E(l)," / ",E(c)]})]}),n.foundry&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"resource-item",title:"Metal Refinado",children:[a.jsx("span",{className:"icon",style:{color:"#F59E0B"},children:""}),a.jsx("span",{children:E(u)})]}),a.jsxs("div",{className:"resource-item",title:"Acero Estructural",children:[a.jsx("span",{className:"icon",style:{color:"#94A3B8"},children:""}),a.jsx("span",{children:E(d)})]})]}),m&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"resource-item",title:"Fragmentos de Placa",children:[a.jsx("span",{className:"icon",children:""}),a.jsx("span",{children:E(f)})]}),a.jsxs("div",{className:"resource-item",title:"Circuitos Daados",children:[a.jsx("span",{className:"icon",children:""}),a.jsx("span",{children:E(h)})]}),a.jsxs("div",{className:"resource-item",title:"Ncleo de Singularidad",children:[a.jsx("span",{className:"icon",children:""}),a.jsx("span",{children:E(y)})]})]})]}),a.jsxs("div",{className:"drones-group",children:[a.jsxs("div",{className:"drones-item",title:"Drones Tier 1",children:[a.jsx("span",{children:"T1:"}),a.jsx("strong",{children:p})]}),a.jsxs("div",{className:"drones-item",title:"Drones Tier 2",children:[a.jsx("span",{children:"T2:"}),a.jsx("strong",{children:v})]}),a.jsxs("div",{className:"drones-item",title:"Drones Tier 3",children:[a.jsx("span",{children:"T3:"}),a.jsx("strong",{children:g})]}),n.expeditions&&a.jsxs("div",{className:"drones-item",title:"Drones de Expedicin",children:[a.jsx("span",{children:"Exp:"}),a.jsx("strong",{children:e.expeditionDrone})]})]}),a.jsxs("div",{className:"rates-group",children:[a.jsxs("div",{className:"rates-item",title:"Produccin de Chatarra",children:[a.jsx("span",{className:"icon",style:{color:"#22C55E"},children:"/s"}),a.jsx("span",{children:w.toFixed(1)})]}),a.jsxs("div",{className:"rates-item",title:"Balance Energtico",children:[a.jsx("span",{className:"icon",style:{color:"#F59E0B"},children:"/s"}),a.jsx("span",{className:x-C>=0?"positive-rate":"negative-rate",children:(x-C).toFixed(1)})]})]})]})}),Zp="/Mekadron-idle/assets/scrap-button-8cb0b649.png",Jp=({onCollectScrap:e,scrapPerClick:n})=>{const r=t=>{e(t);const o=new CustomEvent("showFloatingText",{detail:{text:`+${n}`,originalEvent:t.nativeEvent}});document.dispatchEvent(o)};return a.jsx("div",{style:{position:"absolute",bottom:"5rem",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center"},children:a.jsx("button",{onClick:r,style:{background:`url(${Zp}) no-repeat center center`,backgroundSize:"contain",width:"24.2rem",height:"24.2rem",border:"none",cursor:"pointer",backgroundColor:"transparent",position:"relative"},"aria-label":`Recolectar +${n} chatarra`})})};const ef="/Mekadron-idle/assets/missions-button-208f33c5.png",nf="/Mekadron-idle/assets/workshop-button-1a75035c.png",rf="/Mekadron-idle/assets/storage-button-d52fc44c.png",tf="/Mekadron-idle/assets/energy-button-5e443e25.png",of="/Mekadron-idle/assets/tech-center-button-a91ea66d.png",af="/Mekadron-idle/assets/foundry-button-ac1cb231.png",sf="/Mekadron-idle/assets/expeditions-button-05975693.png",lf="/Mekadron-idle/assets/shipyard-button-17a253d2.png",cf="/Mekadron-idle/assets/Vindicator-button-499053f3.png",uf=sn.memo(({workshopUnlocked:e,energyUnlocked:n,storageUnlocked:r,laboratoryUnlocked:t,foundryUnlocked:o,expeditionsUnlocked:s,shipyardUnlocked:i,phase2Unlocked:l,currentView:c,onModuleSelect:u,scrapForUnlock:d,mediumDronesForUnlock:f,advancedSolarForUnlock:h,foundryProtocolsUpgrade:y})=>a.jsxs("div",{className:"modules-panel",children:[a.jsx("button",{onClick:()=>u("missions"),className:"module-button",children:a.jsx("img",{src:ef,alt:"Misiones",className:c==="missions"?"active":""})}),a.jsx("button",{onClick:()=>n&&u("energy"),className:"module-button",disabled:!n,children:a.jsx("img",{src:tf,alt:"Energa",className:c==="energy"?"active":""})}),a.jsx("button",{onClick:()=>e&&u("workshop"),className:"module-button",disabled:!e,children:a.jsx("img",{src:nf,alt:"Taller",className:c==="workshop"?"active":""})}),a.jsx("button",{onClick:()=>r&&u("storage"),className:"module-button",disabled:!r,children:a.jsx("img",{src:rf,alt:"Almacn",className:c==="storage"?"active":""})}),a.jsx("button",{onClick:()=>t&&u("laboratory"),className:"module-button",disabled:!t,children:a.jsx("img",{src:of,alt:"Laboratorio",className:c==="laboratory"?"active":""})}),o&&a.jsx("button",{onClick:()=>u("foundry"),className:"module-button",children:a.jsx("img",{src:af,alt:"Fundicin",className:c==="foundry"?"active":""})}),s&&a.jsx("button",{onClick:()=>u("expeditions"),className:"module-button",children:a.jsx("img",{src:sf,alt:"Expediciones",className:c==="expeditions"?"active":""})}),i&&a.jsx("button",{onClick:()=>u("shipyard"),className:"module-button",children:a.jsx("img",{src:lf,alt:"Astillero",className:c==="shipyard"?"active":""})}),l&&a.jsx("button",{onClick:()=>u("goToPhase2"),className:"module-button",children:a.jsx("img",{src:cf,alt:"Vindicator",className:c==="goToPhase2"?"active":""})}),(!e||!n||!r||!t||!o||!s||!i)&&a.jsxs("div",{className:"unlock-requirements",children:[a.jsx("strong",{children:"Requisitos de Desbloqueo:"}),a.jsxs("ul",{children:[!n&&a.jsxs("li",{className:d>=50?"completed":"incomplete",children:[d>=50?"":""," 50 Chatarra para desbloquear Energa"]}),!e&&a.jsxs("li",{className:d>=75?"completed":"incomplete",children:[d>=75?"":""," 75 Chatarra para desbloquear Taller"]}),!r&&a.jsxs("li",{className:d>=100?"completed":"incomplete",children:[d>=100?"":""," 100 Chatarra para desbloquear Almacn"]}),!t&&a.jsxs(a.Fragment,{children:[a.jsxs("li",{className:f>=3?"completed":"incomplete",children:[f>=3?"":""," 3 Drones Medios para desbloquear Laboratorio"]}),a.jsxs("li",{className:h>=1?"completed":"incomplete",children:[h>=1?"":""," 1 Panel Solar Avanzado para desbloquear Laboratorio"]}),a.jsxs("li",{className:d>=1e3?"completed":"incomplete",children:[d>=1e3?"":""," 1000 Chatarra para desbloquear Laboratorio"]})]}),!o&&a.jsxs("li",{className:y>0?"completed":"incomplete",children:[y>0?"":"",' Investigar "Protocolos de Fundicin" para desbloquear Fundicin']}),!s&&a.jsx("li",{className:"incomplete",children:" Construye 1 Dron de Expedicin para desbloquear Expediciones"}),!i&&a.jsx("li",{className:"incomplete",children:" Construye 1 Dron Golem para desbloquear Astillero"})]})]})]}));const sa=({buyAmount:e,onSetBuyAmount:n})=>{const r=[1,10,100,"max"];return a.jsxs("div",{className:"buy-amount-selector",children:[a.jsx("span",{className:"buy-amount-label",children:"Cantidad:"}),r.map(t=>a.jsx("button",{onClick:()=>n(t),className:`amount-button ${e===t?"active":""}`,children:t==="max"?"Mx":`x${t}`},t))]})},oe=({onClick:e,disabled:n,tooltipText:r,children:t,style:o,className:s})=>{const[i,l]=N.useState(!1),c={...o,cursor:n?"not-allowed":"pointer",position:"relative"},u={position:"absolute",bottom:"125%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#1F2937",color:"#E5E7EB",padding:"0.5rem",borderRadius:"4px",border:"1px solid #4B5563",zIndex:10,width:"max-content",textAlign:"center",visibility:i&&n?"visible":"hidden",opacity:i&&n?1:0,transition:"opacity 0.2s"};return a.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[a.jsx("button",{onClick:e,disabled:n,style:c,className:s,children:t}),a.jsx("div",{style:u,children:r})]})};const df=({progress:e,time:n})=>a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar",style:{width:`${e/n*100}%`}})}),ue=({queue:e,itemName:n,onCancel:r})=>e.queue===0?null:a.jsxs("div",{className:"queue-controls-container",children:[a.jsxs("div",{className:"button-group",children:[a.jsx("button",{onClick:()=>r(n,1),className:"cancel-button",children:"Cancelar 1"}),a.jsx("button",{onClick:()=>r(n,"all"),className:"cancel-button",children:"Cancelar Todo"})]}),a.jsxs("p",{className:"time-info",children:[" T/U: ",e.time,"s"]}),a.jsx(df,{progress:e.progress,time:e.time})]}),mf=sn.memo(({scrap:e,metalRefinado:n,aceroEstructural:r,drones:t,queues:o,upgrades:s,onBuildBasicDrone:i,onBuildMediumDrone:l,onBuildAdvancedDrone:c,onBuildReinforcedBasic:u,onBuildReinforcedMedium:d,onBuildReinforcedAdvanced:f,onBuildGolemDrone:h,onBuildExpeditionDrone:y,onBuildExpeditionV2Drone:x,onBuildWyrm:C,onDismantle:w,buyAmount:m,onSetBuyAmount:p,onClose:v,onCancel:g})=>{const j={scrap:600,metal:5},P={scrap:2500,metal:15},M={scrap:7e3,metal:30},I={scrap:3e3,metal:20},B={scrap:15e3,metal:100},L={scrap:75e3,steel:5},z={scrap:25e4,steel:25},F=te=>{const ce=te.scrap>0?Math.floor(e/te.scrap):1/0,he=te.metal&&te.metal>0?Math.floor(n/te.metal):1/0,G=te.steel&&te.steel>0?Math.floor(r/te.steel):1/0;return Math.min(ce,he,G)},le=F({scrap:15}),ve=F({scrap:250}),D=F({scrap:1500}),b=F(j),T=F(P),H=F(M),U=F(I),Ne=F(B),fe=F(L),xe=F(z),Y=te=>{const ce=te.filter(he=>he.current<he.amount);return ce.length===0?"":"Requiere: "+ce.map(he=>`${he.text} (${E(he.amount)})`).join(", ")};return a.jsxs("div",{className:"workshop-container",children:[a.jsxs("div",{className:"workshop-header",children:[a.jsx("h2",{children:" TALLER DE DRONES"}),a.jsx("button",{onClick:v,className:"close-button",children:"Cerrar"})]}),a.jsxs("div",{className:"drone-category",style:{borderColor:"#F59E0B"},children:[a.jsx("h3",{style:{color:"#F59E0B"},children:" DRONES DE RECICLADO"}),a.jsx(sa,{buyAmount:m,onSetBuyAmount:p}),a.jsxs("div",{className:`drone-item ${e>=15?"unlocked":""}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#F59E0B"},children:" Dron Bsico de Reciclado (DBR)"}),a.jsxs("p",{children:[" Produccin: +",E(1)," chatarra/segundo"]}),a.jsxs("p",{children:[" Consumo: ",E(1)," energa"]}),a.jsxs("p",{children:[" Coste: ",E(15)," chatarra"]}),a.jsxs("p",{children:[" Flota: ",t.basic," |  En cola: ",o.basic.queue]})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.basic,itemName:"basic",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"basic",onDismantle:w,droneCount:t.basic,buyAmount:m})]}),a.jsxs(oe,{onClick:i,disabled:e<15,tooltipText:Y([{resource:"scrap",amount:15,current:e,text:"Chatarra"}]),className:`build-button ${e>=15?"unlocked":""}`,children:["Encargar Dron Bsico ",m==="max"&&`(${le})`]})]}),a.jsxs("div",{className:`drone-item ${e>=250&&t.basic>=5?"unlocked":""} ${t.basic>=5?"":"locked"}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#06B6D4"},children:" Dron Medio de Reciclado (DMR)"}),a.jsxs("p",{children:[" Produccin: +",E(5)," chatarra/segundo"]}),a.jsxs("p",{children:[" Consumo: ",E(3)," energa"]}),a.jsxs("p",{children:[" Coste: ",E(250)," chatarra"]}),a.jsxs("p",{children:[" Flota: ",t.medium," |  En cola: ",o.medium.queue]}),a.jsx("p",{children:" Requisitos: 5 Drones Bsicos"})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.medium,itemName:"medium",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"medium",onDismantle:w,droneCount:t.medium,buyAmount:m})]}),a.jsxs(oe,{onClick:l,disabled:e<250||t.basic<5,tooltipText:Y([{amount:250,current:e,text:"Chatarra"},{amount:5,current:t.basic,text:"Drones Bsicos"}]),className:`build-button ${e>=250&&t.basic>=5?"unlocked":""}`,children:["Encargar Dron Medio ",m==="max"&&`(${ve})`]}),t.basic<5&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 5 Drones Bsicos para desbloquear"})]}),a.jsxs("div",{className:`drone-item ${e>=1500&&t.medium>=3?"unlocked":""} ${t.medium>=3?"":"locked"}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#22C55E"},children:" Dron Avanzado de Reciclado (DAR)"}),a.jsxs("p",{children:[" Produccin: +",E(20)," chatarra/segundo"]}),a.jsxs("p",{children:[" Consumo: ",E(5)," energa"]}),a.jsxs("p",{children:[" Coste: ",E(1500)," chatarra"]}),a.jsxs("p",{children:[" Flota: ",t.advanced," |  En cola: ",o.advanced.queue]}),a.jsx("p",{children:" Requisitos: 3 Drones Medios"})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.advanced,itemName:"advanced",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"advanced",onDismantle:w,droneCount:t.advanced,buyAmount:m})]}),a.jsxs(oe,{onClick:c,disabled:e<1500||t.medium<3,tooltipText:Y([{amount:1500,current:e,text:"Chatarra"},{amount:3,current:t.medium,text:"Drones Medios"}]),className:`build-button ${e>=1500&&t.medium>=3?"unlocked":""}`,children:["Encargar Dron Avanzado ",m==="max"&&`(${D})`]}),t.medium<3&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Drones Medios para desbloquear"})]})]}),a.jsxs("div",{className:"drone-category",style:{borderColor:"#10B981"},children:[a.jsx("h3",{style:{color:"#10B981"},children:" DRONES DE EXPEDICIN"}),a.jsxs("div",{className:`drone-item ${e>=I.scrap&&n>=I.metal&&t.advanced>=2?"unlocked":""} ${t.advanced>=2?"":"locked"}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#10B981"},children:" Dron de Expedicin (DE-1)"}),a.jsx("p",{children:" Funcin: Realiza expediciones para obtener recursos especiales"}),a.jsxs("p",{children:[" Consumo: ",E(2)," energa (en expediciones)"]}),a.jsxs("p",{children:[" Coste: ",E(I.scrap)," chatarra, ",E(I.metal)," metal refinado"]}),a.jsx("p",{children:" Requisitos: 2 Drones Avanzados"}),a.jsxs("p",{children:[" Flota: ",t.expeditionDrone," |  En cola: ",o.expeditionDrone.queue]})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.expeditionDrone,itemName:"expedition",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"expedition",onDismantle:w,droneCount:t.expeditionDrone,buyAmount:m})]}),a.jsxs(oe,{onClick:y,disabled:e<I.scrap||n<I.metal||t.advanced<2,tooltipText:Y([{amount:I.scrap,current:e,text:"Chatarra"},{amount:I.metal,current:n,text:"Metal Refinado"},{amount:2,current:t.advanced,text:"Drones Avanzados"}]),className:`build-button ${e>=I.scrap&&n>=I.metal&&t.advanced>=2?"unlocked":""}`,children:["Encargar Dron de Expedicin ",m==="max"&&`(${U})`]}),t.advanced<2&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 2 Drones Avanzados para desbloquear"})]}),a.jsxs("div",{className:`drone-item ${e>=B.scrap&&n>=B.metal&&t.expeditionDrone>=5?"unlocked":""} ${t.expeditionDrone>=5?"":"locked"}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#059669"},children:" Dron de Expedicin v2 (DE-2)"}),a.jsx("p",{children:" Funcin: Realiza expediciones avanzadas para obtener recursos raros"}),a.jsxs("p",{children:[" Consumo: ",E(5)," energa (en expediciones)"]}),a.jsxs("p",{children:[" Coste: ",E(B.scrap)," chatarra, ",E(B.metal)," metal refinado"]}),a.jsx("p",{children:" Requisitos: 5 Drones de Expedicin"}),a.jsxs("p",{children:[" Flota: ",t.expeditionV2Drone," |  En cola: ",o.expeditionV2Drone.queue]})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.expeditionV2Drone,itemName:"expeditionV2",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"expeditionV2",onDismantle:w,droneCount:t.expeditionV2Drone,buyAmount:m})]}),a.jsxs(oe,{onClick:x,disabled:e<B.scrap||n<B.metal||t.expeditionDrone<5,tooltipText:Y([{amount:B.scrap,current:e,text:"Chatarra"},{amount:B.metal,current:n,text:"Metal Refinado"},{amount:5,current:t.expeditionDrone,text:"Drones de Expedicin"}]),className:`build-button ${e>=B.scrap&&n>=B.metal&&t.expeditionDrone>=5?"unlocked":""}`,children:["Encargar Dron de Expedicin v2 ",m==="max"&&`(${Ne})`]}),t.expeditionDrone<5&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 5 Drones de Expedicin para desbloquear"})]})]}),(s.reinforcedBasicDrones>0||s.reinforcedMediumDrones>0||s.reinforcedAdvancedDrones>0)&&a.jsxs("div",{className:"drone-category",style:{borderColor:"#8B5CF6"},children:[a.jsx("h3",{style:{color:"#8B5CF6"},children:" DRONES REFORZADOS"}),s.reinforcedBasicDrones>0&&a.jsxs("div",{className:`drone-item ${e>=j.scrap&&n>=j.metal?"unlocked":""}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#A78BFA"},children:" Dron Bsico Reforzado (DBR-F)"}),a.jsxs("p",{children:[" Produccin: +",E(8)," chatarra/segundo"]}),a.jsxs("p",{children:[" Consumo: ",E(3)," energa"]}),a.jsxs("p",{children:[" Coste: ",E(j.scrap)," chatarra, ",E(j.metal)," metal refinado"]}),a.jsxs("p",{children:[" Flota: ",t.reinforcedBasic," |  En cola: ",o.reinforcedBasic.queue]})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.reinforcedBasic,itemName:"reinforcedBasic",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"reinforcedBasic",onDismantle:w,droneCount:t.reinforcedBasic,buyAmount:m})]}),a.jsxs(oe,{onClick:u,disabled:e<j.scrap||n<j.metal,tooltipText:Y([{amount:j.scrap,current:e,text:"Chatarra"},{amount:j.metal,current:n,text:"Metal Refinado"}]),className:`build-button ${e>=j.scrap&&n>=j.metal?"unlocked":""}`,children:["Encargar Dron Bsico Reforzado ",m==="max"&&`(${b})`]})]}),s.reinforcedMediumDrones>0&&a.jsxs("div",{className:`drone-item ${e>=P.scrap&&n>=P.metal?"unlocked":""}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#A78BFA"},children:" Dron Medio Reforzado (DMR-F)"}),a.jsxs("p",{children:[" Produccin: +",E(25)," chatarra/segundo"]}),a.jsxs("p",{children:[" Consumo: ",E(6)," energa"]}),a.jsxs("p",{children:[" Coste: ",E(P.scrap)," chatarra, ",E(P.metal)," metal refinado"]}),a.jsxs("p",{children:[" Flota: ",t.reinforcedMedium," |  En cola: ",o.reinforcedMedium.queue]})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.reinforcedMedium,itemName:"reinforcedMedium",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"reinforcedMedium",onDismantle:w,droneCount:t.reinforcedMedium,buyAmount:m})]}),a.jsxs(oe,{onClick:d,disabled:e<P.scrap||n<P.metal,tooltipText:Y([{amount:P.scrap,current:e,text:"Chatarra"},{amount:P.metal,current:n,text:"Metal Refinado"}]),className:`build-button ${e>=P.scrap&&n>=P.metal?"unlocked":""}`,children:["Encargar Dron Medio Reforzado ",m==="max"&&`(${T})`]})]}),s.reinforcedAdvancedDrones>0&&a.jsxs("div",{className:`drone-item ${e>=M.scrap&&n>=M.metal?"unlocked":""}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#A78BFA"},children:" Dron Avanzado Reforzado (DAR-F)"}),a.jsxs("p",{children:[" Produccin: +",E(80)," chatarra/segundo"]}),a.jsxs("p",{children:[" Consumo: ",E(12)," energa"]}),a.jsxs("p",{children:[" Coste: ",E(M.scrap)," chatarra, ",E(M.metal)," metal refinado"]}),a.jsxs("p",{children:[" Flota: ",t.reinforcedAdvanced," |  En cola: ",o.reinforcedAdvanced.queue]})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.reinforcedAdvanced,itemName:"reinforcedAdvanced",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"reinforcedAdvanced",onDismantle:w,droneCount:t.reinforcedAdvanced,buyAmount:m})]}),a.jsxs(oe,{onClick:f,disabled:e<M.scrap||n<M.metal,tooltipText:Y([{amount:M.scrap,current:e,text:"Chatarra"},{amount:M.metal,current:n,text:"Metal Refinado"}]),className:`build-button ${e>=M.scrap&&n>=M.metal?"unlocked":""}`,children:["Encargar Dron Avanzado Reforzado ",m==="max"&&`(${H})`]})]})]}),(s.golemChassis>0||s.wyrm>0)&&a.jsxs("div",{className:"drone-category",style:{borderColor:"#F43F5E"},children:[a.jsx("h3",{style:{color:"#F43F5E"},children:" DRONES DE LITE"}),s.golemChassis>0&&a.jsxs("div",{className:`drone-item ${e>=L.scrap&&r>=L.steel&&t.reinforcedAdvanced>=5?"unlocked":""} ${t.reinforcedAdvanced>=5?"":"locked"}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#F43F5E"},children:" Dron Golem (DG-1)"}),a.jsxs("p",{children:[" Produccin: +",E(500)," chatarra/segundo"]}),a.jsxs("p",{children:[" Consumo: ",E(50)," energa"]}),a.jsxs("p",{children:[" Coste: ",E(L.scrap)," chatarra, ",E(L.steel)," acero estructural"]}),a.jsx("p",{children:" Requisitos: 5 Drones Avanzados Reforzados"}),a.jsxs("p",{children:[" Flota: ",t.golem," |  En cola: ",o.golem.queue]})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.golem,itemName:"golem",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"golem",onDismantle:w,droneCount:t.golem,buyAmount:m})]}),a.jsxs(oe,{onClick:h,disabled:e<L.scrap||r<L.steel||t.reinforcedAdvanced<5,tooltipText:Y([{amount:L.scrap,current:e,text:"Chatarra"},{amount:L.steel,current:r,text:"Acero Estructural"},{amount:5,current:t.reinforcedAdvanced,text:"Drones Avanzados Reforzados"}]),className:`build-button ${e>=L.scrap&&r>=L.steel&&t.reinforcedAdvanced>=5?"unlocked":""}`,children:["Encargar Dron Golem ",m==="max"&&`(${fe})`]})]})]}),s.golemChassis>0&&t.golem>=1&&a.jsxs("div",{className:`drone-item ${e>=z.scrap&&r>=z.steel&&t.golem>=1?"unlocked":""} ${t.golem>=1?"":"locked"}`,children:[a.jsxs("div",{className:"drone-info",children:[a.jsx("h4",{style:{color:"#F43F5E"},children:" Dron Wyrm (DW-1)"}),a.jsxs("p",{children:[" Produccin: +",E(1)," metal refinado/s, +",E(.1)," acero/s"]}),a.jsxs("p",{children:[" Consumo: ",E(200)," energa"]}),a.jsxs("p",{children:[" Coste: ",E(z.scrap)," chatarra, ",E(z.steel)," acero"]}),a.jsx("p",{children:" Requisitos: 1 Dron Golem"}),a.jsxs("p",{children:[" Flota: ",t.wyrm," |  En cola: ",o.wyrm.queue]})]}),a.jsxs("div",{className:"controls-container",children:[a.jsx(ue,{queue:o.wyrm,itemName:"wyrm",onCancel:g}),a.jsx(cn,{upgrades:s,droneType:"wyrm",onDismantle:w,droneCount:t.wyrm,buyAmount:m})]}),a.jsxs(oe,{onClick:C,disabled:e<z.scrap||r<z.steel||t.golem<1,tooltipText:Y([{amount:z.scrap,current:e,text:"Chatarra"},{amount:z.steel,current:r,text:"Acero"},{amount:1,current:t.golem,text:"Drones Golem"}]),className:`build-button ${e>=z.scrap&&r>=z.steel&&t.golem>=1?"unlocked":""}`,children:["Encargar Dron Wyrm ",m==="max"&&`(${xe})`]})]})]})}),cn=({upgrades:e,droneType:n,droneCount:r,buyAmount:t,onDismantle:o})=>e.reassignProtocols?a.jsx("button",{onClick:()=>o(n,t),disabled:r<=0,style:{padding:"0.5rem",backgroundColor:r>0?"#EF4444":"#374151",color:"white",border:"none",borderRadius:"4px",cursor:r>0?"pointer":"not-allowed",fontSize:"0.8rem",width:"100px"},children:"Desmantelar"}):null;const pf=sn.memo(({scrap:e,currentEnergy:n,maxEnergy:r,energyConsumption:t,solarPanels:o,mediumSolarPanels:s,advancedSolar:i,energyCores:l,fusionReactors:c,solarPanelsQueue:u,mediumSolarPanelsQueue:d,advancedSolarQueue:f,energyCoresQueue:h,fusionReactorQueue:y,onBuildSolarPanel:x,onBuildMediumSolar:C,onBuildAdvancedSolar:w,onBuildEnergyCore:m,onBuildFusionReactor:p,buyAmount:v,onSetBuyAmount:g,onClose:S,onCancel:_,upgrades:R,energyCoresCount:j,metalRefinado:P})=>{const M=Ne=>{const fe=Ne.filter(xe=>xe.current<xe.amount);return fe.length===0?"":"Requiere: "+fe.map(xe=>`${xe.text} (${E(xe.amount)})`).join(", ")},F={scrap:1e4,metalRefinado:25},le=Ne=>Math.floor(e/Ne),ve=le(50),D=le(200),b=le(500),T=le(2e3),H=Math.min(Math.floor(e/F.scrap),Math.floor(P/F.metalRefinado)),U=o*3+s*10+i*30+l*50+c*250;return a.jsxs("div",{className:"energy-view-container",children:[a.jsxs("div",{className:"energy-view-header",children:[a.jsx("h2",{children:" MDULO DE ENERGA"}),a.jsx("button",{onClick:S,className:"close-button",children:"Cerrar"})]}),a.jsxs("div",{className:"energy-summary",children:[a.jsx("h3",{style:{color:"#06B6D4"},children:" RESUMEN ENERGTICO"}),a.jsxs("div",{className:"energy-summary-content",children:[a.jsxs("span",{children:[" ",E(n)," / ",E(r)]}),a.jsxs("span",{children:[" +",E(U),"/s"]}),a.jsxs("span",{children:[" ",E(t),"/s"]}),a.jsxs("span",{style:{color:U>=t?"#22C55E":"#EF4444"},children:[" ",(U-t).toFixed(1),"/s"]})]})]}),a.jsx(sa,{buyAmount:v,onSetBuyAmount:g}),a.jsxs("div",{className:`energy-item ${e>=50?"unlocked":""}`,children:[a.jsx("h3",{style:{color:"#F59E0B"},children:" Panel Solar Bsico"}),a.jsxs("p",{children:[" Produccin: +",E(3)," energa/segundo"]}),a.jsxs("p",{children:[" Coste: ",E(50)," chatarra"]}),a.jsxs("p",{children:[" Instalados: ",o," |  En cola: ",u.queue]}),a.jsx(ue,{queue:u,itemName:"solarPanels",onCancel:_}),a.jsxs(oe,{onClick:x,disabled:e<50,tooltipText:M([{amount:50,current:e,text:"Chatarra"}]),className:`build-button ${e>=50?"unlocked":""}`,children:["Encargar Panel Solar ",v==="max"&&`(${ve})`]})]}),a.jsxs("div",{className:`energy-item ${e>=200&&o>=5?"unlocked":""} ${o>=5?"":"locked"}`,children:[a.jsx("h3",{style:{color:"#F59E0B"},children:" Panel Solar Medio"}),a.jsxs("p",{children:[" Produccin: +",E(10)," energa/segundo"]}),a.jsxs("p",{children:[" Coste: ",E(200)," chatarra"]}),a.jsxs("p",{children:[" Instalados: ",s," |  En cola: ",d.queue]}),a.jsx(ue,{queue:d,itemName:"mediumSolarPanels",onCancel:_}),a.jsx("p",{children:" Requisitos: 5 Paneles Solares Bsicos"}),a.jsxs(oe,{onClick:C,disabled:e<200||o<5,tooltipText:M([{amount:200,current:e,text:"Chatarra"},{amount:5,current:o,text:"Paneles Solares Bsicos"}]),className:`build-button ${e>=200&&o>=5?"unlocked":""}`,children:["Encargar Panel Medio ",v==="max"&&`(${D})`]}),o<5&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 5 Paneles Solares Bsicos"})]}),a.jsxs("div",{className:`energy-item ${e>=500&&s>=1?"unlocked":""} ${s>=1?"":"locked"}`,children:[a.jsx("h3",{style:{color:"#06B6D4"},children:" Panel Solar Avanzado"}),a.jsxs("p",{children:[" Produccin: +",E(30)," energa/segundo"]}),a.jsxs("p",{children:[" Coste: ",E(500)," chatarra"]}),a.jsxs("p",{children:[" Instalados: ",i," |  En cola: ",f.queue]}),a.jsx(ue,{queue:f,itemName:"advancedSolar",onCancel:_}),a.jsx("p",{children:" Requisitos: 1 Panel Solar Medio"}),a.jsxs(oe,{onClick:w,disabled:e<500||s<1,tooltipText:M([{amount:500,current:e,text:"Chatarra"},{amount:1,current:s,text:"Paneles Solares Medios"}]),className:`build-button ${e>=500&&s>=1?"unlocked":""}`,children:["Encargar Panel Avanzado ",v==="max"&&`(${b})`]}),s<1&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 1 Panel Solar Medio"})]}),a.jsxs("div",{className:`energy-item ${e>=2e3&&i>=3?"unlocked":""} ${i>=3?"":"locked"}`,children:[a.jsx("h3",{style:{color:"#22C55E"},children:" Ncleo Energtico"}),a.jsxs("p",{children:[" Produccin: +",E(50)," energa/segundo"]}),a.jsxs("p",{children:[" Capacidad: +",E(100)," energa mxima"]}),a.jsxs("p",{children:[" Coste: ",E(2e3)," chatarra"]}),a.jsxs("p",{children:[" Instalados: ",l," |  En cola: ",h.queue]}),a.jsx(ue,{queue:h,itemName:"energyCores",onCancel:_}),a.jsx("p",{children:" Requisitos: 3 Paneles Solares Avanzados"}),a.jsxs(oe,{onClick:m,disabled:e<2e3||i<3,tooltipText:M([{amount:2e3,current:e,text:"Chatarra"},{amount:3,current:i,text:"Paneles Solares Avanzados"}]),className:`build-button ${e>=2e3&&i>=3?"unlocked":""}`,children:["Encargar Ncleo Energtico ",v==="max"&&`(${T})`]}),i<3&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Paneles Solares Avanzados"})]}),R.fusionTech>0&&a.jsxs("div",{className:`energy-item ${e>=F.scrap&&P>=F.metalRefinado&&j>=10?"unlocked":""} ${j>=10?"":"locked"}`,children:[a.jsx("h3",{style:{color:"#8B5CF6"},children:" Reactor de Fusin"}),a.jsxs("p",{children:[" Produccin: +",E(250)," energa/segundo"]}),a.jsxs("p",{children:[" Capacidad: +",E(1e3)," energa mxima"]}),a.jsxs("p",{children:[" Coste: ",E(F.scrap)," Chatarra + ",E(F.metalRefinado)," Metal Refinado"]}),a.jsxs("p",{children:[" Construidos: ",c," |  En cola: ",y.queue]}),a.jsx(ue,{queue:y,itemName:"fusionReactor",onCancel:_}),a.jsx("p",{children:" Requisitos: 10 Ncleos Energticos"}),a.jsxs(oe,{onClick:p,disabled:e<F.scrap||P<F.metalRefinado||j<10,tooltipText:M([{amount:F.scrap,current:e,text:"Chatarra"},{amount:F.metalRefinado,current:P,text:"Metal Refinado"},{amount:10,current:j,text:"Ncleos Energticos"}]),className:`build-button ${e>=F.scrap&&P>=F.metalRefinado&&j>=10?"unlocked":""}`,children:["Encargar Reactor de Fusin ",v==="max"&&`(${H})`]}),j<10&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 10 Ncleos Energticos"})]})]})});const Yn=({progress:e,time:n})=>a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar",style:{width:`${e/n*100}%`}})}),ff=sn.memo(({scrap:e,metalRefinado:n,basicStorage:r,mediumStorage:t,advancedStorage:o,quantumHoardUnit:s,lithiumIonBattery:i,plasmaAccumulator:l,harmonicContainmentField:c,basicStorageQueue:u,mediumStorageQueue:d,advancedStorageQueue:f,quantumHoardUnitQueue:h,lithiumIonBatteryQueue:y,plasmaAccumulatorQueue:x,harmonicContainmentFieldQueue:C,energyCores:w,onBuildBasicStorage:m,onBuildMediumStorage:p,onBuildAdvancedStorage:v,onBuildQuantumHoardUnit:g,onBuildLithiumIonBattery:S,onBuildPlasmaAccumulator:_,onBuildHarmonicContainmentField:R,buyAmount:j,onSetBuyAmount:P,onClose:M,onCancel:I})=>{const B=G=>{const fn=G.filter(Ce=>Ce.current<Ce.amount);return fn.length===0?"":"Requiere: "+fn.map(Ce=>`${Ce.text} (${E(Ce.amount)})`).join(", ")},U=G=>{if(typeof G=="number")return Math.floor(e/G);const fn=G.scrap>0?Math.floor(e/G.scrap):1/0,Ce=G.metal>0?Math.floor(n/G.metal):1/0;return Math.min(fn,Ce)},Ne=U(100),fe=U(1e3),xe=U(1e4),Y=U({scrap:75e3,metal:50}),te=U(150),ce=U(750),he=U({scrap:3e3,metal:10});return a.jsxs("div",{className:"storage-view-container",children:[a.jsxs("div",{className:"storage-view-header",children:[a.jsx("h2",{children:" MDULO DE ALMACN"}),a.jsx("button",{onClick:M,className:"close-button",children:"Cerrar"})]}),a.jsx(sa,{buyAmount:j,onSetBuyAmount:P}),a.jsxs("div",{className:`storage-item ${e>=100?"unlocked":""}`,children:[a.jsx("h3",{style:{color:"#F59E0B"},children:" Almacn Bsico"}),a.jsxs("p",{children:[" Capacidad: +",E(50)," chatarra mxima"]}),a.jsxs("p",{children:[" Coste: ",E(100)," chatarra"]}),a.jsxs("p",{children:[" Construidos: ",r," |  En cola: ",u.queue]}),u.queue>0&&a.jsxs("div",{className:"queue-controls",children:[a.jsx("button",{onClick:()=>I("basicStorage",1),children:"Cancelar 1"}),a.jsx("button",{onClick:()=>I("basicStorage","all"),children:"Cancelar Todo"})]}),a.jsxs("p",{children:[" T/U: ",u.time,"s"]}),u.queue>0&&a.jsx(Yn,{progress:u.progress,time:u.time}),a.jsxs(oe,{onClick:m,disabled:e<100,tooltipText:B([{amount:100,current:e,text:"Chatarra"}]),className:`build-button ${e>=100?"unlocked":""}`,children:["Encargar Almacn Bsico ",j==="max"&&`(${Ne})`]})]}),a.jsxs("div",{className:`storage-item ${e>=1e3&&r>=3?"unlocked":""} ${r>=3?"":"locked"}`,children:[a.jsx("h3",{style:{color:"#22C55E"},children:"- Almacn Medio"}),a.jsxs("p",{children:[" Capacidad: +",E(500)," chatarra mxima"]}),a.jsxs("p",{children:[" Coste: ",E(1e3)," chatarra"]}),a.jsxs("p",{children:[" Construidos: ",t," |  En cola: ",d.queue]}),d.queue>0&&a.jsxs("div",{className:"queue-controls",children:[a.jsx("button",{onClick:()=>I("mediumStorage",1),children:"Cancelar 1"}),a.jsx("button",{onClick:()=>I("mediumStorage","all"),children:"Cancelar Todo"})]}),a.jsxs("p",{children:[" T/U: ",d.time,"s"]}),a.jsx("p",{children:" Requisitos: 3 Almacenes Bsicos"}),d.queue>0&&a.jsx(Yn,{progress:d.progress,time:d.time}),a.jsxs(oe,{onClick:p,disabled:e<1e3||r<3,tooltipText:B([{amount:1e3,current:e,text:"Chatarra"},{amount:3,current:r,text:"Almacenes Bsicos"}]),className:`build-button ${e>=1e3&&r>=3?"unlocked":""}`,children:["Encargar Almacn Medio ",j==="max"&&`(${fe})`]}),r<3&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Almacenes Bsicos"})]}),a.jsxs("div",{className:`storage-item ${e>=1e4&&t>=1?"unlocked":""} ${t>=1?"":"locked"}`,children:[a.jsx("h3",{style:{color:"#D946EF"},children:" Almacn Avanzado"}),a.jsxs("p",{children:[" Capacidad: +",E(5e3)," chatarra mxima"]}),a.jsxs("p",{children:[" Coste: ",E(1e4)," chatarra"]}),a.jsxs("p",{children:[" Construidos: ",o," |  En cola: ",f.queue]}),f.queue>0&&a.jsxs("div",{className:"queue-controls",children:[a.jsx("button",{onClick:()=>I("advancedStorage",1),children:"Cancelar 1"}),a.jsx("button",{onClick:()=>I("advancedStorage","all"),children:"Cancelar Todo"})]}),a.jsxs("p",{children:[" T/U: ",f.time,"s"]}),a.jsx("p",{children:" Requisitos: 1 Almacn Medio"}),f.queue>0&&a.jsx(Yn,{progress:f.progress,time:f.time}),a.jsxs(oe,{onClick:v,disabled:e<1e4||t<1,tooltipText:B([{amount:1e4,current:e,text:"Chatarra"},{amount:1,current:t,text:"Almacenes Medios"}]),className:`build-button ${e>=1e4&&t>=1?"unlocked":""}`,style:{backgroundColor:e>=1e4&&t>=1?"#D946EF":"#9CA3AF"},children:["Encargar Almacn Avanzado ",j==="max"&&`(${xe})`]}),t<1&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 1 Almacn Medio"})]}),a.jsxs("div",{className:`storage-item ${e>=75e3&&n>=50&&o>=3?"unlocked":""} ${o>=3?"":"locked"}`,children:[a.jsx("h3",{style:{color:"#D946EF"},children:" Unidad de Acopio Cuntico"}),a.jsxs("p",{children:[" Capacidad: +",E(5e4)," chatarra mxima"]}),a.jsxs("p",{children:[" Coste: ",E(75e3)," chatarra y ",E(50)," metal refinado"]}),a.jsxs("p",{children:[" Construidos: ",s," |  En cola: ",h.queue]}),h.queue>0&&a.jsxs("div",{className:"queue-controls",children:[a.jsx("button",{onClick:()=>I("quantumHoardUnit",1),children:"Cancelar 1"}),a.jsx("button",{onClick:()=>I("quantumHoardUnit","all"),children:"Cancelar Todo"})]}),a.jsxs("p",{children:[" T/U: ",h.time,"s"]}),a.jsx("p",{children:" Requisitos: 3 Almacenes Avanzados"}),h.queue>0&&a.jsx(Yn,{progress:h.progress,time:h.time}),a.jsxs(oe,{onClick:g,disabled:e<75e3||n<50||o<3,tooltipText:B([{amount:75e3,current:e,text:"Chatarra"},{amount:50,current:n,text:"Metal Refinado"},{amount:3,current:o,text:"Almacenes Avanzados"}]),className:`build-button ${e>=75e3&&n>=50&&o>=3?"unlocked":""}`,style:{backgroundColor:e>=75e3&&n>=50&&o>=3?"#D946EF":"#9CA3AF"},children:["Encargar Acopio Cuntico ",j==="max"&&`(${Y})`]}),o<3&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Almacenes Avanzados"})]}),a.jsx("h3",{style:{borderBottom:"2px solid #06B6D4",paddingBottom:"0.5rem",marginTop:"3rem"},children:"Almacenamiento de Energa"}),a.jsxs("div",{className:`storage-item ${e>=150?"unlocked":""}`,children:[a.jsx("h3",{style:{color:"#06B6D4"},children:" Batera de Iones de Litio"}),a.jsxs("p",{children:[" Capacidad: +",E(50)," energa mxima"]}),a.jsxs("p",{children:[" Coste: ",E(150)," chatarra"]}),a.jsxs("p",{children:[" Construidos: ",i," |  En cola: ",y.queue]}),y.queue>0&&a.jsxs("div",{className:"queue-controls",children:[a.jsx("button",{onClick:()=>I("lithiumIonBattery",1),children:"Cancelar 1"}),a.jsx("button",{onClick:()=>I("lithiumIonBattery","all"),children:"Cancelar Todo"})]}),a.jsxs("p",{children:[" T/U: ",y.time,"s"]}),y.queue>0&&a.jsx(Yn,{progress:y.progress,time:y.time}),a.jsxs(oe,{onClick:S,disabled:e<150,tooltipText:B([{amount:150,current:e,text:"Chatarra"}]),className:`build-button ${e>=150?"unlocked":""}`,children:["Encargar Batera ",j==="max"&&`(${te})`]})]}),a.jsxs("div",{className:`storage-item ${e>=750&&i>=5?"unlocked":""} ${i>=5?"":"locked"}`,children:[a.jsx("h3",{style:{color:"#06B6D4"},children:" Acumulador de Plasma"}),a.jsxs("p",{children:[" Capacidad: +",E(250)," energa mxima"]}),a.jsxs("p",{children:[" Coste: ",E(750)," chatarra"]}),a.jsxs("p",{children:[" Construidos: ",l," |  En cola: ",x.queue]}),x.queue>0&&a.jsxs("div",{className:"queue-controls",children:[a.jsx("button",{onClick:()=>I("plasmaAccumulator",1),children:"Cancelar 1"}),a.jsx("button",{onClick:()=>I("plasmaAccumulator","all"),children:"Cancelar Todo"})]}),a.jsxs("p",{children:[" T/U: ",x.time,"s"]}),a.jsx("p",{children:" Requisitos: 5 Bateras de Iones de Litio"}),x.queue>0&&a.jsx(Yn,{progress:x.progress,time:x.time}),a.jsxs(oe,{onClick:_,disabled:e<750||i<5,tooltipText:B([{amount:750,current:e,text:"Chatarra"},{amount:5,current:i,text:"Bateras de Iones de Litio"}]),className:`build-button ${e>=750&&i>=5?"unlocked":""}`,children:["Encargar Acumulador ",j==="max"&&`(${ce})`]}),i<5&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 5 Bateras de Iones de Litio"})]}),a.jsxs("div",{className:`storage-item ${e>=3e3&&n>=10&&l>=3?"unlocked":""} ${l>=3?"":"locked"}`,children:[a.jsx("h3",{style:{color:"#D946EF"},children:" Campo de Contencin Armnico"}),a.jsxs("p",{children:[" Capacidad: +",E(1200)," energa mxima"]}),a.jsxs("p",{children:[" Coste: ",E(3e3)," chatarra y ",E(10)," metal refinado"]}),a.jsxs("p",{children:[" Construidos: ",c," |  En cola: ",C.queue]}),C.queue>0&&a.jsxs("div",{className:"queue-controls",children:[a.jsx("button",{onClick:()=>I("harmonicContainmentField",1),children:"Cancelar 1"}),a.jsx("button",{onClick:()=>I("harmonicContainmentField","all"),children:"Cancelar Todo"})]}),a.jsxs("p",{children:[" T/U: ",C.time,"s"]}),a.jsx("p",{children:" Requisitos: 3 Acumuladores de Plasma"}),C.queue>0&&a.jsx(Yn,{progress:C.progress,time:C.time}),a.jsxs(oe,{onClick:R,disabled:e<3e3||n<10||l<3,tooltipText:B([{amount:3e3,current:e,text:"Chatarra"},{amount:10,current:n,text:"Metal Refinado"},{amount:3,current:l,text:"Acumuladores de Plasma"}]),className:`build-button ${e>=3e3&&n>=10&&l>=3?"unlocked":""}`,style:{backgroundColor:e>=3e3&&n>=10&&l>=3?"#D946EF":"#9CA3AF"},children:["Encargar Campo de Contencin ",j==="max"&&`(${he})`]}),l<3&&a.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Acumuladores de Plasma"})]})]})});const hf=sn.memo(({activeMissions:e,completedMissions:n,currentScrap:r,maxScrap:t,currentEnergy:o,maxEnergy:s,onClaimReward:i,onClose:l})=>{const c=x=>Math.min(x.current/x.target*100,100),u=x=>{switch(x.type){case"scrap":return`+${x.value} Chatarra`;case"energy":return`+${x.value} Energa`;case"drone":return"Dron Bsico";case"unlock":return`Desbloqueo de ${x.value}`;default:return"Recompensa"}},d=x=>{if(x.completed)return!1;switch(x.reward.type){case"scrap":return r+x.reward.value<=t;case"energy":return o+x.reward.value<=s;case"drone":case"unlock":return!0;default:return!0}},f=e.filter(x=>x.isMain&&!x.completed),h=e.filter(x=>!x.isMain&&!x.completed),y=(x,C)=>{const w=c(x),m=w>=100&&d(x),p=w>=100&&!m;return a.jsxs("div",{className:`mission-item ${C?"main":"secondary"} ${w>=100?"completed":""}`,children:[a.jsxs("div",{className:"mission-header",children:[a.jsxs("h4",{className:"mission-title",style:{color:C?"#D946EF":w>=100?"#22C55E":"#F59E0B"},children:[C&&" "," ",x.title]}),a.jsx("span",{className:"mission-reward",children:u(x.reward)})]}),a.jsx("p",{className:"mission-description",children:x.description}),a.jsxs("div",{className:"progress-info",children:[a.jsxs("div",{className:"progress-text",children:[a.jsxs("span",{children:["Progreso: ",x.current,"/",x.target]}),a.jsxs("span",{children:[Math.round(w),"%"]})]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar",style:{width:`${w}%`,backgroundColor:w>=100?"#22C55E":"#06B6D4"}})})]}),a.jsxs("div",{className:"mission-objective",children:["Objetivo: ",x.objective]}),w>=100&&a.jsxs("div",{className:"claim-section",children:[p&&a.jsx("span",{className:"claim-warning",children:" Espacio insuficiente"}),a.jsx("button",{onClick:()=>i(x.id),disabled:!m,className:`claim-button ${m?"can-claim":""}`,children:m?" Reclamar":p?"Completar":" Esperando"})]})]})};return a.jsxs("div",{className:"missions-panel-container",children:[a.jsxs("div",{className:"missions-panel-header",children:[a.jsx("h2",{children:" SISTEMA DE MISIONES"}),a.jsx("button",{onClick:l,className:"close-button",children:"Cerrar"})]}),f.length>0&&a.jsxs("div",{className:"mission-category",children:[a.jsx("h3",{style:{color:"#D946EF",borderBottom:"1px solid #D946EF"},children:" MISIN PRINCIPAL"}),f.map(x=>y(x,!0))]}),a.jsxs("div",{className:"mission-category",children:[a.jsx("h3",{style:{color:"#F59E0B"},children:"MISIONES SECUNDARIAS"}),h.length===0&&f.length===0?a.jsx("div",{className:"no-missions",children:"No hay misiones activas. Excelente trabajo, tcnico!"}):h.map(x=>y(x,!1))]}),n.length>0&&a.jsxs("div",{children:[a.jsx("h3",{style:{color:"#22C55E"},children:"MISIONES COMPLETADAS"}),a.jsxs("div",{className:"completed-missions",children:[a.jsxs("div",{className:"completed-missions-title",children:[" ",n.length," misin(es) completada(s)"]}),a.jsx("div",{className:"completed-missions-text",children:"Contina expandiendo la estacin para desbloquear nuevas misiones."})]})]})]})});const gf=({gameState:e,onResearchUpgrade:n,onClose:r})=>{const{techCenter:t,drones:o,resources:s}=e,{unlocked:i,researchPoints:l,upgrades:c}=t,[u,d]=N.useState(!1),f=.1*(1+(c.researchEfficiency||0)*.2),y=Object.values(o).reduce((g,S)=>g+S,0)*.01*(1+(c.advancedAnalysis||0)*.1),C=Math.max(0,s.energyProduction-s.energyConsumption)*.005*(1+(c.algorithmOptimization||0)*.15),w=(f+y+C)/(1-(c.quantumComputing||0)*.05),m=[{id:"collectionEfficiency",category:"Drones",title:"Recoleccin Mejorada",description:"Aumenta la chatarra recolectada por los drones.",effect:g=>`+${g*10}% Prod. Chatarra`,cost:100,maxLevel:5,requirements:[]},{id:"droneAssembly",category:"Drones",title:"Lnea de Ensamblaje",description:"Acelera la construccin de todo tipo de drones.",effect:g=>`-${g*5}% Tiempo Constr.`,cost:150,maxLevel:5,requirements:["collectionEfficiency"]},{id:"reinforcedBasicDrones",category:"Drones",title:"Drones Reforzados I",description:"Desbloquea drones bsicos reforzados.",effect:()=>"Desbloquea DBR-F",cost:250,maxLevel:1,requirements:["droneAssembly"]},{id:"reinforcedMediumDrones",category:"Drones",title:"Drones Reforzados II",description:"Desbloquea drones medios reforzados.",effect:()=>"Desbloquea DMR-F",cost:500,maxLevel:1,requirements:["reinforcedBasicDrones"]},{id:"reinforcedAdvancedDrones",category:"Drones",title:"Drones Reforzados III",description:"Desbloquea drones avanzados reforzados.",effect:()=>"Desbloquea DAR-F",cost:1e3,maxLevel:1,requirements:["reinforcedMediumDrones"]},{id:"golemChassis",category:"Drones",title:"Chasis Golem",description:"Desbloquea los poderosos Drones Golem.",effect:()=>"Desbloquea DG-1",cost:2500,maxLevel:1,requirements:["reinforcedAdvancedDrones"]},{id:"swarmAI",category:"Drones",title:"IA de Enjambre",description:"Por cada 50 drones, +1% a la produccin global de chatarra (mx 10%).",effect:g=>`Actualmente: +${g}%`,cost:5e3,maxLevel:10,requirements:["golemChassis"]},{id:"reassignProtocols",category:"Drones",title:"Protocolos de Reasignacin",description:"Desbloquea la capacidad de desmantelar drones en el Taller para recuperar el 75% de sus costes.",effect:()=>"Desbloquea Desmantelamiento",cost:1200,maxLevel:1,requirements:["swarmAI"]},{id:"geologicalScanners",category:"Drones",title:"Scanners Geolgicos",description:"Los drones tienen una pequea probabilidad de encontrar recursos raros al recolectar chatarra.",effect:g=>`+${g*.01}% Prob. Recursos Raros`,cost:3e3,maxLevel:5,requirements:["reaasignProtocols"]},{id:"powerOptimization",category:"Energia",title:"Optimizacin Energtica",description:"Reduce el consumo de energa de los drones.",effect:g=>`-${g*5}% Consumo Energa`,cost:120,maxLevel:5,requirements:[]},{id:"energyCalibration",category:"Energia",title:"Calibracin de Componentes",description:"Acelera la construccin de unidades de energa.",effect:g=>`-${g*5}% Tiempo Constr.`,cost:180,maxLevel:5,requirements:["powerOptimization"]},{id:"energyEfficiency",category:"Energia",title:"Eficiencia de Paneles",description:"Aumenta la produccin de los paneles solares.",effect:g=>`+${g*10}% Prod. Paneles`,cost:200,maxLevel:4,requirements:["energyCalibration"]},{id:"powerGrid",category:"Energia",title:"Red Elctrica Mejorada",description:"Aumenta la produccin de todas las fuentes de energa.",effect:g=>`+${g*5}% Prod. Global`,cost:400,maxLevel:5,requirements:["energyEfficiency"]},{id:"batteryTech",category:"Energia",title:"Tecnologa de Bateras",description:"Aumenta la capacidad mxima de energa.",effect:g=>`+${g*15}% Cap. Energa`,cost:300,maxLevel:5,requirements:["powerGrid"]},{id:"coreEfficiency",category:"Energia",title:"Eficiencia de Ncleos",description:"Aumenta la produccin de los Ncleos Energticos.",effect:g=>`+${g*10}% Prod. Ncleos`,cost:800,maxLevel:3,requirements:["batteryTech"]},{id:"geothermalEnergy",category:"Energia",title:"Energa Geotrmica",description:"Desbloquea el Generador Geotrmico (Prximamente).",effect:()=>"Desbloqueo",cost:3e3,maxLevel:1,requirements:["coreEfficiency"]},{id:"fusionTech",category:"Energia",title:"Reactores de Fusin",description:"Desbloquea el Reactor de Fusin, una fuente de energa masiva.",effect:()=>"Desbloquea Reactor",cost:5e3,maxLevel:1,requirements:["geothermalEnergy"]},{id:"poweredFabricators",category:"Energia",title:"Fabricadores Potenciados",description:"Si la energa est por encima del 90%, la construccin y crafteo es un 10% ms rpida.",effect:g=>`+${g*10}% Velocidad (Bono)`,cost:2e3,maxLevel:3,requirements:["fusionTech"]},{id:"researchEfficiency",category:"Investigacion",title:"Protocolos de Datos",description:"Aumenta la generacin base de Puntos de Investigacin (RP).",effect:g=>`+${g*20}% RP Base`,cost:150,maxLevel:5,requirements:[]},{id:"advancedAnalysis",category:"Investigacion",title:"Anlisis de Flota",description:"Los drones generan ms RP.",effect:g=>`+${g*10}% RP por Dron`,cost:300,maxLevel:4,requirements:["researchEfficiency"]},{id:"algorithmOptimization",category:"Investigacion",title:"Algoritmos Predictivos",description:"La energa sobrante genera ms RP.",effect:g=>`+${g*15}% RP por Energa Excedente`,cost:450,maxLevel:4,requirements:["advancedAnalysis"]},{id:"constructionEfficiency",category:"Investigacion",title:"Eficiencia de Construccin",description:"Reduce el tiempo de construccin de todas las unidades.",effect:g=>`-${g*5}% Tiempo de Construccin`,cost:600,maxLevel:5,requirements:["algorithmOptimization"]},{id:"quantumComputing",category:"Investigacion",title:"Computacin Cuntica",description:"Reduce el coste de todas las investigaciones.",effect:g=>`-${g*5}% Coste Investigacin`,cost:1500,maxLevel:3,requirements:["constructionEfficiency"]},{id:"singularity",category:"Investigacion",title:"Singularidad (Prximamente)",description:"Trascendencia tecnolgica.",effect:()=>"Prximamente",cost:1e4,maxLevel:1,requirements:["quantumComputing"]},{id:"globalEfficiency",category:"Investigacion",title:"Eficiencia Global (Infinita)",description:"Aumenta permanentemente toda la produccin de chatarra.",effect:g=>`+${g}% Prod. Chatarra`,cost:1e4,maxLevel:1/0,requirements:[],isInfinite:!0},{id:"storageOptimization",category:"Almacenamiento",title:"Logstica Mejorada",description:"Aumenta la capacidad de almacenamiento de chatarra.",effect:g=>`+${g*15}% Cap. Chatarra`,cost:80,maxLevel:5,requirements:[]},{id:"storageConstruction",category:"Almacenamiento",title:"Logstica Eficiente",description:"Acelera la construccin de unidades de almacenamiento.",effect:g=>`-${g*5}% Tiempo Constr.`,cost:130,maxLevel:5,requirements:["storageOptimization"]},{id:"cargoDrones",category:"Almacenamiento",title:"Drones de Carga",description:"Aumenta la capacidad de las unidades de almacenamiento.",effect:g=>`+${g*10}% Bono Almacenamiento`,cost:220,maxLevel:4,requirements:["storageConstruction"]},{id:"energyStorage",category:"Almacenamiento",title:"Almacenamiento Energtico",description:"Aumenta la capacidad de las bateras.",effect:g=>`+${g*10}% Bono Bateras`,cost:350,maxLevel:4,requirements:["cargoDrones"]},{id:"matterCompression",category:"Almacenamiento",title:"Compresin de Materia",description:"Reduce el coste de construccin de unidades de almacenamiento.",effect:g=>`-${g*5}% Coste Almacenamiento`,cost:1200,maxLevel:3,requirements:["energyStorage"]},{id:"pocketDimension",category:"Almacenamiento",title:"Dimensin de Bolsillo (Prximamente)",description:"Almacenamiento casi infinito.",effect:()=>"Prximamente",cost:6e3,maxLevel:1,requirements:["matterCompression"]},{id:"foundryProtocols",category:"Fundicion",title:"Protocolos de Fundicin",description:"Desbloquea la Fundicin para crear Metal Refinado.",effect:()=>"Desbloquea la Fundicin",cost:50,maxLevel:1,requirements:[]},{id:"metalSmeltingSpeed",category:"Fundicion",title:"Fundicin Eficiente",description:"Reduce el tiempo de crafteo del Metal Refinado.",effect:g=>`-${g*5}% Tiempo Crafteo`,cost:200,maxLevel:5,requirements:["foundryProtocols"]},{id:"steelProductionSpeed",category:"Fundicion",title:"Produccin de Acero",description:"Reduce el tiempo de crafteo del Acero Estructural.",effect:g=>`-${g*5}% Tiempo Crafteo`,cost:400,maxLevel:5,requirements:["metalSmeltingSpeed"]},{id:"hullPlateProduction",category:"Fundicion",title:"Produccin de Placas",description:"Reduce el tiempo de crafteo de las Placas de Casco.",effect:g=>`-${g*5}% Tiempo Crafteo`,cost:600,maxLevel:5,requirements:["steelProductionSpeed"]},{id:"wiringProduction",category:"Fundicion",title:"Cableado Avanzado",description:"Reduce el tiempo de crafteo del Cableado Superconductor.",effect:g=>`-${g*5}% Tiempo Crafteo`,cost:800,maxLevel:5,requirements:["hullPlateProduction"]},{id:"fuelRodProduction",category:"Fundicion",title:"Sntesis de Combustible",description:"Reduce el tiempo de crafteo de las Barras de Combustible.",effect:g=>`-${g*5}% Tiempo Crafteo`,cost:1e3,maxLevel:5,requirements:["wiringProduction"]},{id:"automatedFabrication",category:"Fundicion",title:"Fabricacin Automatizada",description:"Desbloquea la automatizacin en la Fundicin (Prximamente).",effect:()=>"Desbloqueo",cost:2e3,maxLevel:1,requirements:["fuelRodProduction"]},{id:"smeltingEfficiency",category:"Fundicion",title:"Eficiencia de Costes I",description:"Reduce el coste de chatarra para crear Metal Refinado.",effect:g=>`-${g*5}% Coste Chatarra`,cost:400,maxLevel:4,requirements:["foundryProtocols"]},{id:"foundryEnergy",category:"Fundicion",title:"Eficiencia de Costes II",description:"Reduce el coste de energa para crear Metal Refinado.",effect:g=>`-${g*5}% Coste Energa`,cost:400,maxLevel:4,requirements:["smeltingEfficiency"]},{id:"alloyCreation",category:"Fundicion",title:"Creacin de Aleaciones (Prximamente)",description:"Permite crear nuevos materiales.",effect:()=>"Prximamente",cost:1800,maxLevel:1,requirements:["foundryEnergy"]},{id:"selfReplication",category:"Fundicion",title:"Auto-Replicacin (Prximamente)",description:"La fundicin genera sus propios recursos.",effect:()=>"Prximamente",cost:7500,maxLevel:1,requirements:["alloyCreation"]},{id:"scrapPurification",category:"Fundicion",title:"Purificacin de Chatarra",description:"Desbloquea una receta ineficiente para convertir chatarra en Metal Refinado.",effect:()=>"Desbloquea Receta",cost:1e3,maxLevel:1,requirements:["selfReplication"]}],p=["Drones","Energia","Investigacion","Almacenamiento","Fundicion"],v=g=>g.requirements.length===0?!0:g.requirements.every(S=>{const _=m.find(j=>j.id===S);return _?c[S]>=_.maxLevel:!1});return i?a.jsxs("div",{className:"tech-center-container",children:[a.jsxs("div",{className:"tech-center-header",children:[a.jsx("h2",{children:" LABORATORIO"}),a.jsx("button",{onClick:r,className:"close-button",children:"Cerrar"})]}),a.jsxs("div",{className:"research-points-summary",children:[a.jsxs("h3",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[a.jsxs("span",{children:[" Puntos de Investigacin: ",E(l)]}),a.jsx("span",{className:"info-icon",children:""})]}),u&&a.jsx(yf,{base:f,fromDrones:y,fromEnergy:C,total:w,quantumComputingLevel:c.quantumComputing||0})]}),a.jsx("div",{className:"tech-tree-container",children:p.map(g=>a.jsxs("div",{className:"tech-category",children:[a.jsx("h3",{children:g.toUpperCase()}),a.jsx("div",{className:"tech-cards-container",children:m.filter(S=>S.category===g).map(S=>a.jsx(vf,{tech:S,researchPoints:l,upgrades:c,onResearchUpgrade:n,isAvailable:v(S)},S.id))})]},g))})]}):a.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[a.jsx("h2",{children:" LABORATORIO"}),a.jsx("button",{onClick:r,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),a.jsxs("div",{style:{padding:"2rem",backgroundColor:"#1F2737",borderRadius:"4px",textAlign:"center",border:"2px solid #F59E0B"},children:[a.jsx("h3",{style:{color:"#F59E0B"},children:" LABORATORIO BLOQUEADO"}),a.jsx("p",{children:"Para desbloquear el Laboratorio, necesitas:"}),a.jsxs("ul",{style:{textAlign:"left",display:"inline-block",margin:"1rem 0"},children:[a.jsx("li",{children:" 3 Drones Medios"}),a.jsx("li",{children:" 1 Generador Solar Avanzado"}),a.jsx("li",{children:" 1000 Chatarra"})]})]})]})},yf=({base:e,fromDrones:n,fromEnergy:r,total:t,quantumComputingLevel:o})=>a.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#111827",border:"1px solid #374151",borderRadius:"8px",padding:"1rem",width:"300px",textAlign:"left",fontSize:"0.9rem",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",zIndex:10},children:[a.jsx("h4",{style:{margin:0,color:"#06B6D4"},children:"Generacin de Investigacin"}),a.jsx("hr",{style:{borderColor:"#374151",margin:"0.5rem 0"}}),a.jsxs("p",{style:{margin:"0.5rem 0"},children:["Tasa Base: ",a.jsxs("strong",{children:["+",e.toFixed(2)," /s"]})]}),a.jsxs("p",{style:{margin:"0.5rem 0"},children:["Anlisis de Drones: ",a.jsxs("strong",{children:["+",n.toFixed(2)," /s"]})]}),a.jsxs("p",{style:{margin:"0.5rem 0"},children:["Supervit Energtico: ",a.jsxs("strong",{children:["+",r.toFixed(2)," /s"]})]}),o>0&&a.jsxs("p",{style:{margin:"0.5rem 0",color:"#22C55E"},children:["Multiplicador Cuntico: ",a.jsxs("strong",{children:["x",(1/(1-o*.05)).toFixed(2)]})]}),a.jsx("hr",{style:{borderColor:"#374151",margin:"0.5rem 0"}}),a.jsxs("p",{style:{margin:"0.5rem 0",fontWeight:"bold"},children:["Total: ",a.jsxs("strong",{children:["+",t.toFixed(2)," /s"]})]})]}),vf=({tech:e,researchPoints:n,upgrades:r,onResearchUpgrade:t,isAvailable:o})=>{const s=r[e.id]||0,i=o&&n>=e.cost&&s<e.maxLevel,l=typeof e.effect=="function"?e.effect(s):e.effect,c=`tech-card ${o?i?"available":s>0?"researched":"":"locked"}`;return a.jsxs("div",{className:c,children:[a.jsx("h4",{children:e.title}),a.jsx("p",{className:"tech-card-description",children:e.description}),a.jsx("p",{className:"tech-card-effect",children:l}),a.jsxs("div",{className:"tech-card-footer",children:[a.jsxs("span",{children:["Nivel: ",s,"/",e.maxLevel]}),a.jsxs("button",{onClick:()=>t(e.id,e.cost),disabled:!i,className:`research-button ${i?"can-research":""}`,children:[s>0?"Mejorar":"Investigar"," (",e.cost," RP)"]})]})]})},xf=sn.memo(gf);const Cf=sn.memo(({scrap:e,energy:n,metalRefinado:r,aceroEstructural:t,fragmentosPlaca:o,circuitosDaados:s,placasCasco:i,cableadoSuperconductor:l,barraCombustible:c,metalRefinadoQueue:u,aceroEstructuralQueue:d,placasCascoQueue:f,cableadoSuperconductorQueue:h,barraCombustibleQueue:y,onCraftRefinedMetal:x,onCraftStructuralSteel:C,onCraftHullPlate:w,onCraftSuperconductorWiring:m,onCraftFuelRod:p,onCraftPurifiedMetal:v,upgrades:g,buyAmount:S,onSetBuyAmount:_,onClose:R,onCancel:j})=>{const P={scrap:1e3,energy:100},M={scrap:1e3,metal:10,energy:250},I={fragmentos:10,acero:5,energy:500},B={circuitos:10,metal:25,energy:1e3},L={metal:10,acero:5,energy:1500},z={scrap:5e3,energy:500},F=Math.min(Math.floor(e/P.scrap),Math.floor(n/P.energy)),le=Math.min(Math.floor(e/M.scrap),Math.floor(r/M.metal),Math.floor(n/M.energy)),ve=Math.min(Math.floor(o/I.fragmentos),Math.floor(t/I.acero),Math.floor(n/I.energy)),D=Math.min(Math.floor(s/B.circuitos),Math.floor(r/B.metal),Math.floor(n/B.energy)),b=Math.min(Math.floor(r/L.metal),Math.floor(t/L.acero),Math.floor(n/L.energy)),T=Math.min(Math.floor(e/z.scrap),Math.floor(n/z.energy));return a.jsxs("div",{className:"foundry-view-container",children:[a.jsxs("div",{className:"foundry-view-header",children:[a.jsx("h2",{children:" FUNDICIN"}),a.jsx("button",{onClick:R,className:"close-button",children:"Cerrar"})]}),a.jsx(sa,{buyAmount:S,onSetBuyAmount:_}),a.jsxs("div",{className:`crafting-item ${F>0?"available":""}`,children:[a.jsx("h4",{style:{color:"#F59E0B"},children:" Metal Refinado"}),a.jsxs("p",{children:[" Coste: ",E(P.scrap)," Chatarra + ",E(P.energy)," Energa"]}),a.jsxs("p",{children:[" En Posesin: ",E(r)]}),a.jsxs("p",{children:[" En cola: ",u.queue]}),a.jsx(ue,{queue:u,itemName:"metalRefinado",onCancel:j}),a.jsxs("button",{onClick:x,disabled:F<=0,className:`craft-button ${F>0?"available":""}`,children:["Encargar Metal ",S==="max"&&`(${F})`]})]}),a.jsxs("div",{className:`crafting-item ${le>0?"available":""}`,children:[a.jsx("h4",{style:{color:"#06B6D4"},children:" Acero Estructural"}),a.jsxs("p",{children:[" Coste: ",E(M.scrap)," Chatarra + ",M.metal," Metal + ",M.energy," Energa"]}),a.jsxs("p",{children:[" En Posesin: ",E(t)]}),a.jsxs("p",{children:[" En cola: ",d.queue]}),a.jsx(ue,{queue:d,itemName:"aceroEstructural",onCancel:j}),a.jsxs("button",{onClick:C,disabled:le<=0,className:`craft-button ${le>0?"available":""}`,children:["Encargar Acero ",S==="max"&&`(${le})`]})]}),a.jsx("h3",{className:"section-title",children:"Componentes de Nave"}),a.jsxs("div",{className:`crafting-item ${ve>0?"available":""}`,children:[a.jsx("h4",{style:{color:"#F59E0B"},children:" Placa de Casco Reforzado"}),a.jsxs("p",{children:[" Coste: ",I.fragmentos," Fragmentos de Placa + ",I.acero," Acero + ",I.energy," Energa"]}),a.jsxs("p",{children:[" Fragmentos: ",E(o)]}),a.jsxs("p",{children:[" En Posesin: ",E(i)]}),a.jsxs("p",{children:[" En cola: ",f.queue]}),a.jsx(ue,{queue:f,itemName:"placasCasco",onCancel:j}),a.jsxs("button",{onClick:w,disabled:ve<=0,className:`craft-button ${ve>0?"available":""}`,children:["Encargar Placa ",S==="max"&&`(${ve})`]})]}),a.jsxs("div",{className:`crafting-item ${D>0?"available":""}`,children:[a.jsx("h4",{style:{color:"#06B6D4"},children:" Cableado de Superconductores"}),a.jsxs("p",{children:[" Coste: ",B.circuitos," Circuitos Daados + ",B.metal," Metal + ",B.energy," Energa"]}),a.jsxs("p",{children:[" Circuitos: ",E(s)]}),a.jsxs("p",{children:[" En Posesin: ",E(l)]}),a.jsxs("p",{children:[" En cola: ",h.queue]}),a.jsx(ue,{queue:h,itemName:"cableadoSuperconductor",onCancel:j}),a.jsxs("button",{onClick:m,disabled:D<=0,className:`craft-button ${D>0?"available":""}`,children:["Encargar Cableado ",S==="max"&&`(${D})`]})]}),a.jsxs("div",{className:`crafting-item ${b>0?"available":""}`,children:[a.jsx("h4",{style:{color:"#FCD34D"},children:" Barra de Combustible"}),a.jsxs("p",{children:[" Coste: ",L.metal," Metal + ",L.acero," Acero + ",L.energy," Energa"]}),a.jsxs("p",{children:[" En Posesin: ",E(c)]}),a.jsxs("p",{children:[" En cola: ",y.queue]}),a.jsx(ue,{queue:y,itemName:"barraCombustible",onCancel:j}),a.jsxs("button",{onClick:p,disabled:b<=0,className:`craft-button ${b>0?"available":""}`,children:["Encargar Barra ",S==="max"&&`(${b})`]})]}),g.scrapPurification>0&&a.jsxs("div",{className:`crafting-item ${T>0?"available":""}`,style:{borderColor:T>0?"#A855F7":""},children:[a.jsx("h4",{style:{color:"#A855F7"},children:" Purificacin de Chatarra"}),a.jsx("p",{children:"Convierte una gran cantidad de recursos bsicos en Metal Refinado. Es ineficiente, pero til en emergencias."}),a.jsxs("p",{children:[" Coste: ",E(z.scrap)," Chatarra + ",E(z.energy)," Energa"]}),a.jsxs("button",{onClick:v,disabled:T<=0,className:`craft-button ${T>0?"available":""}`,style:{backgroundColor:T>0?"#A855F7":"",color:T>0?"white":""},children:["Purificar Chatarra ",S==="max"&&`(${T})`]})]})]})});const Ef=({shipyardProgress:e,shipyardCosts:n,placasCasco:r,cableadoSuperconductor:t,nucleoSingularidad:o,researchPoints:s,dispatch:i,onClose:l})=>{const c={placasCasco:r,cableadoSuperconductor:t,nucleoSingularidad:o,researchPoints:s},u={placasCasco:"Placas de Casco",cableadoSuperconductor:"Cableado de Superconductores",nucleoSingularidad:"Ncleo de Singularidad",researchPoints:"Puntos de Investigacin"},d=(y,x)=>{c[x]>=1&&i({type:"DONATE_TO_SHIPYARD",payload:{component:y,resource:x,amount:1}})},f=(y,x)=>{const C=c[x];C>0&&i({type:"DONATE_TO_SHIPYARD",payload:{component:y,resource:x,amount:C}})},h=(y,x)=>{const C=e[x],w=n[x],m=Object.keys(w).every(p=>C[p]>=w[p]);return a.jsxs("div",{className:`component-progress ${m?"completed":""}`,children:[a.jsxs("h3",{className:"component-title",children:[y," ",m&&""]}),Object.keys(w).map(p=>{const v=p,g=u[v]||v,S=C[v],_=w[v];return a.jsxs("div",{className:"resource-progress",children:[a.jsxs("p",{children:[g,": ",E(S)," / ",E(_)]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar",style:{width:`${Math.min(S/_*100,100)}%`}})}),!m&&a.jsxs("div",{className:"donation-buttons",children:[a.jsx("button",{onClick:()=>d(x,v),disabled:c[v]<1,className:"donate-button",children:"Donar 1"}),a.jsxs("button",{onClick:()=>f(x,v),disabled:c[v]<=0,className:"donate-max-button",children:["Donar MAX (",E(c[v]),")"]})]})]},v)})]})};return a.jsxs("div",{className:"shipyard-view-container",children:[a.jsxs("div",{className:"shipyard-view-header",children:[a.jsx("h2",{children:' ASTILLERO - PROYECTO "VINDICATOR"'}),a.jsx("button",{onClick:l,className:"close-button",children:"Cerrar"})]}),a.jsx("div",{className:"shipyard-intro",children:a.jsx("p",{children:`Aurora: "Reconstruir el acorazado 'Vindicator' es nuestra nica opcin. Los componentes clave solo se pueden recuperar de los restos de antiguas batallas. Enva expediciones para encontrarlos."`})}),h("Estructura del Casco","hull"),h("Ncleo de Energa","powerCore"),h("Sistemas de Puntera","targetingSystem"),h("Motor de Curvatura","warpDrive")]})},Sf=sn.memo(Ef);const jf=({completionTimestamp:e})=>{const[n,r]=N.useState(e-Date.now());N.useEffect(()=>{const s=setInterval(()=>{r(i=>Math.max(0,i-1e3))},1e3);return()=>clearInterval(s)},[]);const t=Math.floor(n/6e4),o=Math.floor(n%6e4/1e3);return a.jsxs("span",{children:[t,"m ",o,"s"]})},bl={scrap:{name:"Chatarra",icon:""},metalRefinado:{name:"Metal Refinado",icon:""},aceroEstructural:{name:"Acero Estructural",icon:""},fragmentosPlaca:{name:"Fragmentos de Placa",icon:""},circuitosDaados:{name:"Circuitos Daados",icon:""},aleacionReforzada:{name:"Aleacin Reforzada",icon:""},neuroChipCorrupto:{name:"Neuro-Chip Corrupto",icon:""}},wf=sn.memo(({resources:e,drones:n,activeExpeditions:r,onStartExpedition:t,onClaimReward:o,onClose:s})=>{const i={expeditionDrone:r.filter(c=>{var u;return((u=nr.find(d=>d.id===c.id))==null?void 0:u.droneType)==="expeditionDrone"}).reduce((c,u)=>c+u.dronesSent,0),expeditionV2Drone:r.filter(c=>{var u;return((u=nr.find(d=>d.id===c.id))==null?void 0:u.droneType)==="expeditionV2Drone"}).reduce((c,u)=>c+u.dronesSent,0)},l={expeditionDrone:n.expeditionDrone-i.expeditionDrone,expeditionV2Drone:n.expeditionV2Drone-i.expeditionV2Drone};return a.jsxs("div",{className:"expedition-view-container",children:[a.jsxs("div",{className:"expedition-view-header",children:[a.jsx("h2",{children:" MDULO DE EXPEDICIONES"}),a.jsx("button",{onClick:s,className:"close-button",children:"Cerrar"})]}),a.jsxs("div",{className:"fleet-status",children:[a.jsx("h3",{children:"Estado de la Flota de Expedicin"}),a.jsxs("p",{children:["Drones de Expedicin (DE-1) Disponibles: ",a.jsx("strong",{style:{color:"#22C55E"},children:l.expeditionDrone})," / ",n.expeditionDrone]}),a.jsxs("p",{children:["Drones de Expedicin (DE-2) Disponibles: ",a.jsx("strong",{style:{color:"#10B981"},children:l.expeditionV2Drone})," / ",n.expeditionV2Drone]})]}),r.length>0&&a.jsxs("div",{className:"active-expeditions",children:[a.jsx("h3",{className:"section-title",children:"Expediciones en Curso"}),r.map(c=>{const u=nr.find(f=>f.id===c.id);if(!u)return null;const d=c.completionTimestamp<=Date.now();return a.jsxs("div",{className:"expedition-item",children:[a.jsx("h4",{children:u.title}),a.jsxs("p",{children:[c.dronesSent," ",u.droneType==="expeditionV2Drone"?"Drones (DE-2)":"Drones (DE-1)"," enviados."]}),d?a.jsxs("div",{children:[a.jsx("p",{style:{color:"#22C55E"},children:"Expedicin Completada!"}),a.jsx("button",{onClick:()=>o(c),className:"claim-button",children:"Reclamar Recompensa"})]}):a.jsxs("p",{children:["Tiempo Restante: ",a.jsx(jf,{completionTimestamp:c.completionTimestamp})]})]},c.id)})]}),a.jsxs("div",{className:"available-expeditions",children:[a.jsx("h3",{className:"section-title",children:"Destinos Disponibles"}),nr.map(c=>{if(r.some(x=>x.id===c.id))return null;const d=c.droneType,f=c.costs.drones,h=l[d];let y=h>=f;for(const[x,C]of Object.entries(c.costs))if(x!=="drones"&&e[x]<C){y=!1;break}return a.jsxs("div",{className:`expedition-item ${y?"":"unavailable"}`,children:[a.jsx("h4",{children:c.title}),a.jsx("p",{children:c.description}),a.jsxs("p",{children:[a.jsx("strong",{children:"Duracin:"})," ",c.duration/60," minutos"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Requisitos:"}),a.jsxs("ul",{children:[a.jsxs("li",{className:h>=f?"requirement met":"requirement unmet",children:[d==="expeditionV2Drone"?"Drones (DE-2):":"Drones (DE-1):"," ",f]}),Object.entries(c.costs).map(([x,C])=>{if(x==="drones")return null;const w=e[x]>=C,m=bl[x]||{name:x,icon:""};return a.jsxs("li",{className:w?"requirement met":"requirement unmet",children:[m.icon," ",m.name,": ",E(C)]},x)})]})]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Posibles Recompensas:"}),a.jsx("ul",{children:Object.entries(c.rewards).map(([x,C])=>{const w=bl[x];if(!w)return null;const[m,p]=C;return a.jsxs("li",{children:[w.icon," ",w.name,": ",E(m)," - ",E(p)]},x)})})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Riesgo:"})," ",c.risk.chance*100,"% de posibilidad de perder el dron."]}),a.jsxs("button",{onClick:()=>t(c.id),disabled:!y,className:"send-button",children:["Enviar ",f," ",d==="expeditionV2Drone"?"Dron (DE-2)":"Dron (DE-1)"]})]},c.id)})]})]})});const nd=()=>{const{gameState:e,dispatch:n}=Wn(),[r,t]=N.useState(!1),{volume:o}=e.settings,s=d=>{n({type:"SET_VOLUME",payload:d})},i=()=>{const d=new CustomEvent("debugUnlockTechCenter");window.dispatchEvent(d),t(!1)},l=()=>{if(window.confirm("Ests seguro de que quieres reiniciar todo el progreso? Esta accin no se puede deshacer.")){const d=new CustomEvent("resetGame");window.dispatchEvent(d),t(!1)}},c=()=>{const d=new CustomEvent("debugCompleteVindicator");window.dispatchEvent(d),t(!1)},u=()=>{const d=new CustomEvent("debugFinishExpeditions");window.dispatchEvent(d),t(!1)};return a.jsxs("div",{className:"settings-menu-container",children:[r&&a.jsxs("div",{className:"settings-menu-content",children:[a.jsx("strong",{className:"settings-section-title",children:"AJUSTES"}),a.jsxs("div",{className:"volume-control",children:[a.jsxs("label",{htmlFor:"volume-slider",children:["Volumen: ",o,"%"]}),a.jsx("input",{id:"volume-slider",type:"range",min:"0",max:"100",value:o,onChange:d=>s(Number(d.target.value))})]}),a.jsx("button",{onClick:()=>{alert("Crditos: Prximamente..."),t(!1)},className:"settings-button credits-button",children:"Crditos"}),a.jsx("hr",{style:{border:"none",borderBottom:"1px solid #374151",marginBottom:"1rem"}}),a.jsx("strong",{className:"dev-section-title",children:"AJUSTES DE DESARROLLO"}),a.jsx("button",{onClick:i,className:"dev-button unlock-button",children:"Desbloquear Mdulos"}),a.jsx("button",{onClick:c,className:"dev-button complete-vindicator-button",children:"Completar Vindicator"}),a.jsx("button",{onClick:u,className:"dev-button finish-expeditions-button",children:"Finalizar Expediciones"}),a.jsx("button",{onClick:l,className:"dev-button reset-button",children:"Reiniciar Juego"}),a.jsx("button",{onClick:()=>{window.confirm("Ests seguro de que quieres salir del juego?")&&window.close()},className:"dev-button exit-button",children:"Salir"})]}),a.jsx("button",{onClick:()=>t(!r),title:"Ajustes",className:"settings-toggle-button",children:""})]})};const Nf=({notification:e,onDismiss:n})=>{const[r,t]=N.useState(!1);N.useEffect(()=>{if(e){t(!0);const s=setTimeout(()=>{o()},6e3);return()=>clearTimeout(s)}else t(!1)},[e]);const o=()=>{t(!1),setTimeout(()=>{n()},300)};return e?a.jsxs("div",{className:`notification-toast ${r?"visible":""}`,onClick:o,children:[a.jsx("h2",{className:"notification-title",children:e.title}),a.jsx("p",{className:"notification-message",children:e.message})]}):null};const kf=()=>{const[e,n]=N.useState([]),r=N.useCallback((t,o)=>{const s={id:Date.now(),text:o,x:t.clientX,y:t.clientY};n(i=>[...i,s])},[]);return N.useEffect(()=>{const t=o=>{r(o.detail.originalEvent,o.detail.text)};return document.addEventListener("showFloatingText",t),()=>{document.removeEventListener("showFloatingText",t)}},[r]),N.useEffect(()=>{const t=setInterval(()=>{n(o=>o.filter(s=>Date.now()-s.id<3e3))},500);return()=>clearInterval(t)},[]),Dp.createPortal(a.jsx(a.Fragment,{children:e.map(t=>a.jsx("span",{className:"floating-text",style:{left:t.x,top:t.y},children:t.text},t.id))}),document.body)},_f=()=>{const e=aa(),n=ed(),r=N.useRef(null);N.useEffect(()=>{r.current&&(r.current.volume=e.settings.volume/100)},[e.settings.volume]),N.useEffect(()=>{const $=r.current;$&&$.play().catch(()=>console.log("La reproduccin automtica fue bloqueada. Se requiere interaccin del usuario."))},[]);const{currentView:t,workshopBuyAmount:o,energyBuyAmount:s,storageBuyAmount:i,foundryBuyAmount:l,modules:c,resources:u,workshop:d,energy:f,techCenter:h,storage:y,activeExpeditions:x,shipyard:C,foundry:w,rates:m,notificationQueue:p,phase2Unlocked:v,currentBackground:g}=e,{drones:S,queues:_}=d,R=N.useCallback(()=>{n({type:"DISMISS_NOTIFICATION"})},[n]),j=N.useCallback($=>{n($==="goToPhase2"?{type:"GO_TO_PHASE_2"}:{type:"SET_CURRENT_VIEW",payload:$})},[n]),P=N.useCallback(()=>n({type:"CLOSE_CURRENT_VIEW"}),[n]),M=N.useCallback(()=>n({type:"BUILD_BASIC_DRONE"}),[n]),I=N.useCallback(()=>n({type:"BUILD_MEDIUM_DRONE"}),[n]),B=N.useCallback(()=>n({type:"BUILD_ADVANCED_DRONE"}),[n]),L=N.useCallback(()=>n({type:"BUILD_REINFORCED_BASIC"}),[n]),z=N.useCallback(()=>n({type:"BUILD_REINFORCED_MEDIUM"}),[n]),F=N.useCallback(()=>n({type:"BUILD_REINFORCED_ADVANCED"}),[n]),le=N.useCallback(()=>n({type:"BUILD_GOLEM_DRONE"}),[n]),ve=N.useCallback(()=>n({type:"BUILD_EXPEDITION_DRONE"}),[n]),D=N.useCallback(()=>n({type:"BUILD_EXPEDITION_V2_DRONE"}),[n]),b=N.useCallback(()=>n({type:"BUILD_WYRM"}),[n]),T=N.useCallback($=>n({type:"SET_WORKSHOP_BUY_AMOUNT",payload:$}),[n]),H=N.useCallback(($,ze)=>{n({type:"CANCEL_QUEUE_ITEM",payload:{category:"workshop",itemName:$,amount:ze}})},[n]),U=N.useCallback(($,ze)=>{n({type:"DISMANTLE_DRONE",payload:{droneType:$,amount:ze}})},[n]),Ne=N.useCallback(()=>n({type:"BUILD_SOLAR_PANEL"}),[n]),fe=N.useCallback(()=>n({type:"BUILD_MEDIUM_SOLAR"}),[n]),xe=N.useCallback(()=>n({type:"BUILD_ADVANCED_SOLAR"}),[n]),Y=N.useCallback(()=>n({type:"BUILD_ENERGY_CORE"}),[n]),te=N.useCallback(()=>n({type:"BUILD_FUSION_REACTOR"}),[n]),ce=N.useCallback($=>n({type:"SET_ENERGY_BUY_AMOUNT",payload:$}),[n]),he=N.useCallback(($,ze)=>{n({type:"CANCEL_QUEUE_ITEM",payload:{category:"energy",itemName:$,amount:ze}})},[n]),G=N.useCallback(()=>n({type:"BUILD_BASIC_STORAGE"}),[n]),fn=N.useCallback(()=>n({type:"BUILD_MEDIUM_STORAGE"}),[n]),Ce=N.useCallback(()=>n({type:"BUILD_ADVANCED_STORAGE"}),[n]),Qn=N.useCallback(()=>n({type:"BUILD_QUANTUM_HOARD_UNIT"}),[n]),hn=N.useCallback(()=>n({type:"BUILD_LITHIUM_ION_BATTERY"}),[n]),Vr=N.useCallback(()=>n({type:"BUILD_PLASMA_ACCUMULATOR"}),[n]),ia=N.useCallback(()=>n({type:"BUILD_HARMONIC_CONTAINMENT_FIELD"}),[n]),la=N.useCallback($=>n({type:"SET_STORAGE_BUY_AMOUNT",payload:$}),[n]),mr=N.useCallback(($,ze)=>{n({type:"CANCEL_QUEUE_ITEM",payload:{category:"storage",itemName:$,amount:ze}})},[n]),pr=N.useCallback($=>n({type:"CLAIM_REWARD",payload:$}),[n]),zt=N.useCallback(()=>n({type:"CLOSE_CURRENT_VIEW"}),[n]),Hr=N.useCallback($=>{n({type:"START_EXPEDITION",payload:{expeditionId:$}})},[n]),ca=N.useCallback($=>{n({type:"CLAIM_EXPEDITION_REWARDS",payload:$})},[n]),Ft=N.useCallback(()=>n({type:"CRAFT_REFINED_METAL"}),[n]),Ge=N.useCallback(()=>n({type:"CRAFT_STRUCTURAL_STEEL"}),[n]),Gr=N.useCallback(()=>n({type:"CRAFT_HULL_PLATE"}),[n]),Wr=N.useCallback(()=>n({type:"CRAFT_SUPERCONDUCTOR_WIRING"}),[n]),Ee=N.useCallback(()=>n({type:"CRAFT_FUEL_ROD"}),[n]),Qr=N.useCallback($=>n({type:"SET_FOUNDRY_BUY_AMOUNT",payload:$}),[n]),ua=N.useCallback(($,ze)=>{n({type:"CANCEL_QUEUE_ITEM",payload:{category:"foundry",itemName:$,amount:ze}})},[n]),fr=N.useCallback(()=>n({type:"CRAFT_PURIFIED_METAL"}),[n]),Yr=()=>new URL(Object.assign({"../assets/Phase0-background.png":Hp,"../assets/Phase1-background.png":Gp,"../assets/Phase3-background.png":Wp,"../assets/Phase4-background.png":Qp})[`../assets/Phase${g-1}-background.png`],self.location).href,kn=()=>{switch(t){case"workshop":return a.jsx(mf,{scrap:u.scrap,metalRefinado:u.metalRefinado,aceroEstructural:u.aceroEstructural,drones:S,queues:_,upgrades:h.upgrades,onBuildBasicDrone:M,onBuildMediumDrone:I,onBuildAdvancedDrone:B,onBuildReinforcedBasic:L,onBuildReinforcedMedium:z,onBuildReinforcedAdvanced:F,onBuildGolemDrone:le,onBuildExpeditionDrone:ve,onBuildExpeditionV2Drone:D,onBuildWyrm:b,onDismantle:U,buyAmount:o,onSetBuyAmount:T,onClose:P,onCancel:H});case"energy":return a.jsx(pf,{scrap:u.scrap,currentEnergy:u.energy,maxEnergy:u.maxEnergy,energyConsumption:u.energyConsumption,solarPanels:f.solarPanels,mediumSolarPanels:f.mediumSolarPanels,advancedSolar:f.advancedSolar,energyCores:f.energyCores,solarPanelsQueue:f.queues.solarPanels,mediumSolarPanelsQueue:f.queues.mediumSolarPanels,advancedSolarQueue:f.queues.advancedSolar,energyCoresQueue:f.queues.energyCores,fusionReactorQueue:f.queues.fusionReactor,onBuildSolarPanel:Ne,onBuildMediumSolar:fe,onBuildAdvancedSolar:xe,onBuildEnergyCore:Y,onBuildFusionReactor:te,buyAmount:s,onSetBuyAmount:ce,onClose:P,onCancel:he,upgrades:h.upgrades,energyCoresCount:f.energyCores,metalRefinado:u.metalRefinado,fusionReactors:f.fusionReactor});case"storage":return a.jsx(ff,{scrap:u.scrap,metalRefinado:u.metalRefinado,basicStorage:y.basicStorage,mediumStorage:y.mediumStorage,advancedStorage:y.advancedStorage,quantumHoardUnit:y.quantumHoardUnit,lithiumIonBattery:y.lithiumIonBattery,plasmaAccumulator:y.plasmaAccumulator,harmonicContainmentField:y.harmonicContainmentField,basicStorageQueue:y.queues.basicStorage,mediumStorageQueue:y.queues.mediumStorage,advancedStorageQueue:y.queues.advancedStorage,quantumHoardUnitQueue:y.queues.quantumHoardUnit,lithiumIonBatteryQueue:y.queues.lithiumIonBattery,plasmaAccumulatorQueue:y.queues.plasmaAccumulator,harmonicContainmentFieldQueue:y.queues.harmonicContainmentField,energyCores:f.energyCores,onBuildBasicStorage:G,onBuildMediumStorage:fn,onBuildAdvancedStorage:Ce,onBuildQuantumHoardUnit:Qn,onBuildLithiumIonBattery:hn,onBuildPlasmaAccumulator:Vr,onBuildHarmonicContainmentField:ia,buyAmount:i,onSetBuyAmount:la,onClose:P,onCancel:mr});case"missions":return a.jsx(hf,{activeMissions:e.missions.activeMissions,completedMissions:e.missions.completedMissions,currentScrap:e.resources.scrap,maxScrap:e.resources.maxScrap,currentEnergy:e.resources.energy,maxEnergy:e.resources.maxEnergy,onClaimReward:pr,onClose:zt});case"laboratory":return a.jsx(xf,{gameState:e,onResearchUpgrade:($,ze)=>n({type:"RESEARCH_UPGRADE",payload:{upgradeName:$,cost:ze}}),onClose:()=>n({type:"CLOSE_CURRENT_VIEW"})});case"foundry":return a.jsx(Cf,{scrap:u.scrap,energy:u.energy,metalRefinado:u.metalRefinado,aceroEstructural:u.aceroEstructural,fragmentosPlaca:u.fragmentosPlaca,circuitosDaados:u.circuitosDaados,placasCasco:u.placasCasco,cableadoSuperconductor:u.cableadoSuperconductor,barraCombustible:u.barraCombustible,metalRefinadoQueue:w.queues.metalRefinado,aceroEstructuralQueue:w.queues.aceroEstructural,placasCascoQueue:w.queues.placasCasco,cableadoSuperconductorQueue:w.queues.cableadoSuperconductor,barraCombustibleQueue:w.queues.barraCombustible,onCraftRefinedMetal:Ft,onCraftStructuralSteel:Ge,onCraftHullPlate:Gr,onCraftSuperconductorWiring:Wr,onCraftFuelRod:Ee,onCraftPurifiedMetal:fr,upgrades:h.upgrades,buyAmount:l,onSetBuyAmount:Qr,onClose:P,onCancel:ua});case"expeditions":return a.jsx(wf,{resources:u,drones:S,activeExpeditions:x,onStartExpedition:Hr,onClaimReward:ca,onClose:P});case"shipyard":return a.jsx(Sf,{shipyardProgress:C.progress,shipyardCosts:C.costs,placasCasco:u.placasCasco,cableadoSuperconductor:u.cableadoSuperconductor,nucleoSingularidad:u.nucleoSingularidad,researchPoints:h.researchPoints,dispatch:n,onClose:()=>n({type:"CLOSE_CURRENT_VIEW"})});case"":default:return a.jsx("div",{className:"collection-button-container",children:a.jsx(Jp,{onCollectScrap:()=>n({type:"COLLECT_SCRAP"}),scrapPerClick:m.scrapPerClick})})}};return a.jsxs("div",{className:"game-scene-container",style:{backgroundImage:`url(${Yr()})`},children:[a.jsx(Xp,{}),u.energy<=0&&u.energyProduction<u.energyConsumption&&a.jsxs("div",{className:"energy-warning",children:[a.jsx("strong",{children:"Advertencia:"})," Balance energtico negativo. La produccin de recursos est detenida."]}),a.jsxs("div",{className:"main-content",children:[a.jsx("div",{className:"module-container",children:kn()}),a.jsx(uf,{workshopUnlocked:u.scrap>=75,energyUnlocked:c.energy,storageUnlocked:c.storage,laboratoryUnlocked:c.techCenter,foundryUnlocked:c.foundry,expeditionsUnlocked:c.expeditions,shipyardUnlocked:c.shipyard,phase2Unlocked:v,currentView:t,onModuleSelect:j,scrapForUnlock:u.scrap,mediumDronesForUnlock:S.medium,advancedSolarForUnlock:f.advancedSolar,foundryProtocolsUpgrade:h.upgrades.foundryProtocols})]}),a.jsx(nd,{}),a.jsx(Nf,{notification:p&&p.length>0?p[0]:null,onDismiss:R}),a.jsx(kf,{}),a.jsx("audio",{ref:r,src:Yp,loop:!0})]})},Rf=({message:e,onClose:n,autoHide:r=!0})=>{const[t,o]=N.useState(!1);N.useEffect(()=>{o(!0)},[]),N.useEffect(()=>{if(r){const i=setTimeout(()=>{s()},5e3);return()=>clearTimeout(i)}},[r,n]);const s=()=>{o(!1),setTimeout(n,300)};return a.jsx("div",{style:{maxWidth:"40rem",backgroundColor:"#111827",color:"#E5E7EB",padding:"1.6rem",borderRadius:"0.8rem",border:"2px solid #06B6D4",boxShadow:"0 0.4rem 1.2rem rgba(0,0,0,0.5)",transform:t?"translateX(0)":"translateX(100%)",opacity:t?1:0,transition:"all 0.3s ease-in-out",fontFamily:"Inter, sans-serif"},children:a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1.2rem"},children:[a.jsx("div",{style:{width:"3.2rem",height:"3.2rem",backgroundColor:"#06B6D4",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:"1.8rem",fontWeight:"bold"},children:"A"}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.8rem"},children:[a.jsx("strong",{style:{color:"#06B6D4"},children:"AURORA"}),a.jsx("button",{onClick:s,style:{background:"none",border:"none",color:"#9CA3AF",cursor:"pointer",fontSize:"2rem",padding:"0 0.4rem",marginLeft:"1.6rem"},children:""})]}),a.jsx("p",{style:{margin:0,lineHeight:"1.4",fontSize:"1.4rem"},children:e})]})]})})},Df=e=>{const n=N.useRef(null),r=1e3;N.useEffect(()=>{let t;const o=s=>{n.current===null&&(n.current=s);const i=s-n.current;if(i>=r){const l=Math.floor(i/r);n.current=s-i%r;for(let c=0;c<l;c++)e({type:"GAME_TICK"})}t=requestAnimationFrame(o)};return t=requestAnimationFrame(o),()=>cancelAnimationFrame(t)},[e])},Mf=()=>{const{gameState:e,dispatch:n}=Wn();return Df(n),N.useEffect(()=>{try{const r={...e,lastSaveTimestamp:Date.now(),aurora:{...e.aurora,shownMessages:Array.from(e.aurora.shownMessages)}};localStorage.setItem("mekadron-savegame",JSON.stringify(r))}catch(r){console.error("No se pudo guardar la partida:",r)}},[e]),N.useEffect(()=>{const r=()=>{n({type:"DEBUG_UNLOCK_TECH_CENTER"}),n({type:"ADD_AURORA_MESSAGE",payload:{message:"Modo desarrollo activado. Centro Tcnico y Fundicin desbloqueados.",messageKey:"debug_unlock"}})};window.addEventListener("debugUnlockTechCenter",r);const t=()=>{n({type:"DEBUG_COMPLETE_VINDICATOR"}),n({type:"ADD_AURORA_MESSAGE",payload:{message:"Modo desarrollo: 'Vindicator' completado.",messageKey:"debug_vindicator"}})},o=()=>{n({type:"DEBUG_FINISH_EXPEDITIONS"}),n({type:"ADD_AURORA_MESSAGE",payload:{message:"Modo desarrollo: Expediciones en curso finalizadas.",messageKey:"debug_expeditions"}})};return window.addEventListener("debugCompleteVindicator",t),window.addEventListener("debugFinishExpeditions",o),()=>{window.removeEventListener("debugUnlockTechCenter",r),window.removeEventListener("debugCompleteVindicator",t),window.removeEventListener("debugFinishExpeditions",o)}},[n]),N.useEffect(()=>{const r=setInterval(()=>{e.aurora.pendingMessages.length>0&&e.aurora.activeMessages.length<3&&n({type:"PROCESS_AURORA_QUEUE"})},1e3);return()=>clearInterval(r)},[e.aurora.pendingMessages.length,e.aurora.activeMessages.length,n]),a.jsxs(a.Fragment,{children:[a.jsx(_f,{}),a.jsx("div",{style:{position:"fixed",bottom:"2rem",right:"2rem",zIndex:1e3},children:e.aurora.activeMessages.map((r,t)=>a.jsx("div",{style:{marginBottom:t>0?"1.6rem":"0"},children:a.jsx(Rf,{message:r.text,onClose:()=>n({type:"REMOVE_AURORA_MESSAGE",payload:{messageId:r.id}})})},r.id))})]})};const Af=({onComplete:e})=>{const n="Vindicator activo. La Fase 2 comienza.",[r,t]=N.useState(""),[o,s]=N.useState(!1);return N.useEffect(()=>{let i=0;const l=setInterval(()=>{i++,t(n.substring(0,i)),i>=n.length&&(clearInterval(l),s(!0))},100);return()=>clearInterval(l)},[n]),a.jsxs("div",{className:"phase2-intro-container",children:[a.jsx("div",{className:"text-box",children:a.jsxs("p",{className:"intro-text",children:[r,a.jsx("span",{className:"blinking-cursor",children:"_"})]})}),o&&a.jsx("button",{onClick:e,className:"continue-button",children:"[ CONTINUAR ]"})]})};const Pf="/Mekadron-idle/assets/Vindicator-background-72fdf11f.png";const If=({metalRefinado:e,aceroEstructural:n,placasCasco:r,cableadoSuperconductor:t,aleacionReforzada:o,neuroChipCorrupto:s,barraCombustible:i})=>{const{gameState:l}=Wn(),{vindicator:c}=l;return a.jsxs("div",{className:"phase2-resource-bar",children:[a.jsxs("div",{className:"resource-group",children:[a.jsxs("div",{className:"resource-item",title:"Metal Refinado",children:[a.jsx("span",{className:"icon",style:{color:"#F59E0B"},children:""}),a.jsx("span",{children:E(e)})]}),a.jsxs("div",{className:"resource-item",title:"Acero Estructural",children:[a.jsx("span",{className:"icon",style:{color:"#94A3B8"},children:""}),a.jsx("span",{children:E(n)})]}),a.jsxs("div",{className:"resource-item",title:"Placas de Casco",children:[a.jsx("span",{className:"icon",children:""}),a.jsx("span",{children:E(r)})]}),a.jsxs("div",{className:"resource-item",title:"Cableado Superconductor",children:[a.jsx("span",{className:"icon",children:""}),a.jsx("span",{children:E(t)})]}),a.jsx("div",{className:"separator"}),a.jsxs("div",{className:"resource-item",title:"Aleacin Reforzada",children:[a.jsx("span",{className:"icon",children:""}),a.jsx("span",{children:E(o)})]}),a.jsxs("div",{className:"resource-item",title:"Neuro-Chip Corrupto",children:[a.jsx("span",{className:"icon",children:""}),a.jsx("span",{children:E(s)})]}),a.jsxs("div",{className:"resource-item",title:"Barras de Combustible",children:[a.jsx("span",{className:"icon",children:""}),a.jsx("span",{children:E(i)})]})]}),a.jsxs("div",{className:"vindicator-stats",children:[a.jsxs("div",{className:"stat-item",title:"Salud",children:[a.jsx("span",{className:"icon",style:{color:"#EF4444"},children:""}),a.jsxs("span",{className:"value",children:[E(c.currentHealth),"/",E(c.maxHealth)]})]}),a.jsxs("div",{className:"stat-item",title:"Escudo",children:[a.jsx("span",{className:"icon",style:{color:"#3B82F6"},children:""}),a.jsxs("span",{className:"value",children:[E(c.currentShield),"/",E(c.maxShield)]})]}),a.jsxs("div",{className:"stat-item",title:"Dao",children:[a.jsx("span",{className:"icon",style:{color:"#F59E0B"},children:""}),a.jsx("span",{className:"value",children:E(c.damage)})]})]})]})};const Tf=({onClose:e})=>{const{gameState:n,dispatch:r}=Wn(),t=i=>{r({type:"SELECT_BATTLE_DESTINATION",payload:i})},o=()=>{r({type:"START_BATTLE"})},s=n.battleRoom.selectedDestination;return a.jsxs("div",{className:"battle-view",children:[a.jsxs("div",{className:"battle-view-header",children:[a.jsx("h2",{children:" SALA DE BATALLA - Captulo 1"}),a.jsx("button",{onClick:e,className:"close-button",children:"Cerrar"})]}),a.jsxs("div",{className:"vindicator-status",children:[a.jsx("h3",{children:"Estado del Vindicator"}),a.jsxs("div",{className:"status-bars",children:[a.jsxs("div",{className:"status-bar",children:[a.jsxs("span",{children:["Vida: ",Math.round(n.vindicator.currentHealth)," / ",Math.round(n.vindicator.maxHealth)]}),a.jsx("div",{className:"bar-container",children:a.jsx("div",{className:"health-fill",style:{width:`${n.vindicator.currentHealth/n.vindicator.maxHealth*100}%`}})})]}),a.jsxs("div",{className:"status-bar",children:[a.jsxs("span",{children:["Escudo: ",Math.round(n.vindicator.currentShield)," / ",Math.round(n.vindicator.maxShield)]}),a.jsx("div",{className:"bar-container",children:a.jsx("div",{className:"shield-fill",style:{width:`${n.vindicator.currentShield/n.vindicator.maxShield*100}%`}})})]})]}),a.jsx("div",{className:"vindicator-stats",children:a.jsxs("span",{children:["Dao: ",n.vindicator.damage]})})]}),a.jsxs("div",{className:"battle-room-content",children:[a.jsx("div",{className:"destination-list",children:rr.map((i,l)=>{const c=n.battleRoom.battlesCompleted[l||0],u=i.battles.length,d=c>=u;let f=!1;if(l>0){const h=rr[l-1],y=n.battleRoom.battlesCompleted[l-1||0];!i.isBoss&&y<h.battles.length&&(f=!0),i.isBoss&&l===5&&(rr.slice(0,5).every((C,w)=>(n.battleRoom.battlesCompleted[w]||0)>=C.battles.length)||(f=!0))}return a.jsxs("button",{onClick:()=>t(l),disabled:f,className:`destination-list-item ${s===l?"active":""} ${d?"completed":""} ${f?"locked":""} ${i.isBoss?"boss-destination":""}`,children:[f&&a.jsx("span",{className:"lock-icon",children:""}),i.isBoss&&a.jsx("span",{className:"boss-icon",children:""}),i.name,!f&&a.jsxs("span",{className:"battle-progress",children:["Progreso: ",c," / ",u]})]},i.name)})}),a.jsx("div",{className:"destination-details",children:s!==null?(()=>{const i=rr[s],l=n.battleRoom.battlesCompleted[s]||0,c=i.battles.length;if(l>=c)return a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:i.isBoss?"boss-title":"",children:i.name}),a.jsx("p",{children:i.description}),a.jsx("p",{className:"completed-message",children:i.isBoss?"Jefe final derrotado! Captulo completado.":"Destino completado!"}),i.isBoss&&a.jsxs("div",{className:"chapter-rewards",children:[a.jsx("h4",{children:" Has completado el Captulo 1!"}),a.jsx("p",{children:"Recompensas desbloqueadas:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Vindicator Mk.II disponible"}),a.jsx("li",{children:"Tecnologa Avanzada x1"}),a.jsx("li",{children:"Ncleo de Singularidad x5"})]})]})]});const u=i.battles[l];return a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:i.isBoss?"boss-title":"",children:i.name}),a.jsx("p",{children:i.description}),a.jsxs("div",{className:"next-battle-info",children:[a.jsxs("h4",{children:["Prxima Batalla: ",u.enemyName]}),a.jsxs("div",{className:"enemy-stats",children:[a.jsxs("p",{children:["Vida: ",E(u.health)]}),a.jsxs("p",{children:["Escudo: ",E(u.shield)]}),a.jsxs("p",{children:["Dao: ",E(u.damage)]})]}),a.jsxs("div",{className:"battle-rewards",children:[a.jsx("h5",{children:" Recompensas de Victoria:"}),a.jsxs("div",{className:"rewards-list",children:[a.jsxs("div",{className:"reward-item",children:[a.jsx("span",{className:"reward-icon",children:""}),a.jsx("span",{className:"reward-amount",children:E(u.reward.scrap)}),a.jsx("span",{className:"reward-name",children:"Chatarra"})]}),a.jsxs("div",{className:"reward-item",children:[a.jsx("span",{className:"reward-icon",children:""}),a.jsx("span",{className:"reward-amount",children:E(u.reward.aleacionReforzada)}),a.jsx("span",{className:"reward-name",children:"Aleacin Reforzada"})]}),a.jsxs("div",{className:"reward-item",children:[a.jsx("span",{className:"reward-icon",children:""}),a.jsx("span",{className:"reward-amount",children:E(u.reward.neuroChipCorrupto)}),a.jsx("span",{className:"reward-name",children:"Neuro-Chip Corrupto"})]})]})]}),a.jsxs("div",{className:"fuel-cost",children:[a.jsx("span",{className:"fuel-icon",children:""}),"Coste: 1 Barra de Combustible"]}),a.jsxs("div",{className:"battle-warning",children:[a.jsx("p",{children:" Advertencia: El Vindicator mantendr el dao entre batallas."}),a.jsx("p",{children:"Si pierdes, el progreso de este destino se reiniciar."})]}),a.jsxs("button",{className:`start-battle-btn ${i.isBoss?"boss-battle-btn":""}`,onClick:o,disabled:n.resources.barraCombustible<1,children:[i.isBoss?" ":"","Iniciar Combate ",l>0?`(${l+1}/${c})`:"",i.isBoss?" ":""]}),n.resources.barraCombustible<1&&a.jsx("p",{className:"fuel-warning",children:"No tienes suficiente combustible. Fabrica ms en la Fundicin."})]})]})})():a.jsx("p",{children:"Selecciona un destino para ver los detalles."})})]})]})};const bf=({onClose:e})=>{const{gameState:n,dispatch:r}=Wn(),{vindicator:t,resources:o,vindicatorUpgrades:s,blueprints:i,vindicatorLevel:l}=n,c=100,u=.2,d=()=>{const g=t.maxHealth-t.currentHealth;return Math.floor(g*c)},f=()=>{const g=t.maxShield-t.currentShield;return Math.floor(g*u*10)/10},h=()=>{const g=t.maxHealth-t.currentHealth,S=d();g>0&&o.scrap>=S&&r({type:"REPAIR_VINDICATOR_HEALTH",payload:{healthAmount:g,scrapCost:S}})},y=()=>{const g=t.maxShield-t.currentShield,S=f();g>0&&o.barraCombustible>=S&&r({type:"REPAIR_VINDICATOR_SHIELD",payload:{shieldAmount:g,fuelCost:S}})},x=t.maxHealth-t.currentHealth,C=t.maxShield-t.currentShield,w=d(),m=f(),p=x>0&&o.scrap>=w,v=C>0&&o.barraCombustible>=m;return a.jsxs("div",{className:"armory-view",children:[a.jsxs("div",{className:"armory-view-header",children:[a.jsx("h2",{children:" ARMERA - VINDICATOR"}),a.jsx("button",{onClick:e,className:"close-button",children:"Cerrar"})]}),a.jsxs("div",{className:"armory-content",children:[a.jsxs("div",{className:"vindicator-status",children:[a.jsx("h3",{children:"Estado Actual"}),a.jsxs("div",{className:"status-bars",children:[a.jsxs("div",{className:"status-bar",children:[a.jsxs("span",{children:["Vida: ",E(t.currentHealth)," / ",E(t.maxHealth)]}),a.jsx("div",{className:"bar-container",children:a.jsx("div",{className:"health-fill",style:{width:`${t.currentHealth/t.maxHealth*100}%`}})})]}),a.jsxs("div",{className:"status-bar",children:[a.jsxs("span",{children:["Escudo: ",E(t.currentShield)," / ",E(t.maxShield)]}),a.jsx("div",{className:"bar-container",children:a.jsx("div",{className:"shield-fill",style:{width:`${t.currentShield/t.maxShield*100}%`}})})]})]})]}),a.jsxs("div",{className:"repair-section",children:[a.jsx("h3",{children:" SISTEMA DE REPARACIN"}),a.jsxs("div",{className:"repair-option",children:[a.jsxs("div",{className:"repair-info",children:[a.jsx("h4",{children:"Reparar Vida"}),a.jsxs("p",{children:["Repara ",E(x)," puntos de vida faltantes"]}),a.jsxs("div",{className:"repair-cost",children:[a.jsx("span",{className:"cost-icon",children:""}),a.jsx("span",{className:"cost-amount",children:E(w)}),a.jsx("span",{className:"cost-name",children:"Chatarra"})]})]}),a.jsx("button",{className:`repair-button ${p?"":"disabled"}`,onClick:h,disabled:!p,children:p?" REPARAR VIDA":" NO HAY SUFICIENTE CHATARRA"})]}),a.jsxs("div",{className:"repair-option",children:[a.jsxs("div",{className:"repair-info",children:[a.jsx("h4",{children:"Reparar Escudo"}),a.jsxs("p",{children:["Repara ",E(C)," puntos de escudo faltantes"]}),a.jsxs("div",{className:"repair-cost",children:[a.jsx("span",{className:"cost-icon",children:""}),a.jsx("span",{className:"cost-amount",children:m.toFixed(1)}),a.jsx("span",{className:"cost-name",children:"Barras de Combustible"})]})]}),a.jsx("button",{className:`repair-button ${v?"":"disabled"}`,onClick:y,disabled:!v,children:v?" REPARAR ESCUDO":" NO HAY SUFICIENTE COMBUSTIBLE"})]})]}),a.jsxs("div",{className:"resources-info",children:[a.jsx("h4",{children:"Recursos Disponibles"}),a.jsxs("div",{className:"resources-list",children:[a.jsxs("div",{className:"resource-item",children:[a.jsx("span",{className:"resource-icon",children:""}),a.jsx("span",{className:"resource-name",children:"Chatarra:"}),a.jsx("span",{className:"resource-amount",children:E(o.scrap)})]}),a.jsxs("div",{className:"resource-item",children:[a.jsx("span",{className:"resource-icon",children:""}),a.jsx("span",{className:"resource-name",children:"Combustible:"}),a.jsx("span",{className:"resource-amount",children:E(o.barraCombustible)})]}),a.jsxs("div",{className:"resource-item",children:[a.jsx("span",{className:"resource-icon",children:""}),a.jsx("span",{className:"resource-name",children:"Planos:"}),a.jsx("span",{className:"resource-amount",children:E(i)})]})]})]}),a.jsxs("div",{className:"vindicator-level-up-section",children:[a.jsx("h3",{children:" NIVEL DEL VINDICATOR"}),a.jsxs("div",{className:"level-up-card",children:[a.jsxs("div",{className:"level-display",children:["NIVEL ACTUAL: ",a.jsx("span",{children:l})]}),(()=>{const g=Ku.find(R=>R.level===l+1);if(!g)return a.jsx("p",{className:"max-level",children:"MXIMO NIVEL ALCANZADO"});const S=i>=g.blueprintCost,_=()=>{S&&r({type:"LEVEL_UP_VINDICATOR"})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"level-up-bonus",children:[a.jsx("h5",{children:"BONIFICACIN AL SUBIR DE NIVEL:"}),a.jsxs("ul",{children:[a.jsxs("li",{children:["+",g.statBonus.health," Vida Mxima"]}),a.jsxs("li",{children:["+",g.statBonus.shield," Escudo Mximo"]}),a.jsxs("li",{children:["+",g.statBonus.damage," Dao"]})]})]}),a.jsxs("div",{className:"upgrade-cost",children:[a.jsxs("h5",{children:["COSTE PARA NIVEL ",g.level,":"]}),a.jsx("ul",{children:a.jsxs("li",{className:S?"has-enough":"not-enough",children:["Planos: ",E(i)," / ",E(g.blueprintCost)]})})]}),a.jsx("button",{className:`level-up-button ${S?"":"disabled"}`,onClick:_,disabled:!S,children:S?" SUBIR DE NIVEL":"PLANOS INSUFICIENTES"})]})})()]})]}),a.jsxs("div",{className:"upgrades-section",children:[a.jsx("h3",{children:" MEJORAS DE COMPONENTES"}),Object.entries(s).map(([g,S])=>{if(!S)return null;const{phase1Resources:_,phase2Resources:R}=S.costPerStar,j=Object.entries(_).every(([L,z])=>o[L]>=z),P=Object.entries(R).every(([L,z])=>o[L]>=z),M=S.currentStars>=S.maxStars,I=j&&P&&!M,B=()=>{I&&r({type:"UPGRADE_VINDICATOR_STAR",payload:{upgradeId:g}})};return a.jsxs("div",{className:"upgrade-card",children:[a.jsxs("div",{className:"upgrade-card-header",children:[a.jsx("h4",{children:S.name}),a.jsxs("div",{className:"stars-container",children:["".repeat(S.currentStars),a.jsx("span",{style:{color:"#555"},children:"".repeat(S.maxStars-S.currentStars)})]})]}),a.jsx("p",{children:S.description}),M?a.jsx("p",{className:"max-level",children:"NIVEL MXIMO ALCANZADO"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"level-up-bonus",children:[a.jsx("h5",{children:"BONIFICACIN PRXIMA ESTRELLA:"}),a.jsxs("ul",{children:[S.statIncreasePerStar.health&&a.jsxs("li",{children:["+",S.statIncreasePerStar.health," Vida Mxima"]}),S.statIncreasePerStar.shield&&a.jsxs("li",{children:["+",S.statIncreasePerStar.shield," Escudo Mximo"]}),S.statIncreasePerStar.damage&&a.jsxs("li",{children:["+",S.statIncreasePerStar.damage," Dao"]})]})]}),a.jsxs("div",{className:"upgrade-cost",children:[a.jsx("h5",{children:"COSTE PRXIMA ESTRELLA:"}),a.jsxs("ul",{children:[Object.entries(_).map(([L,z])=>a.jsx("li",{className:o[L]>=z?"has-enough":"not-enough",children:`${L.charAt(0).toUpperCase()+L.slice(1)}: ${E(o[L])} / ${E(z)}`},L)),Object.entries(R).map(([L,z])=>a.jsx("li",{className:o[L]>=z?"has-enough":"not-enough",children:`${L.charAt(0).toUpperCase()+L.slice(1)}: ${E(o[L])} / ${E(z)}`},L))]})]}),a.jsx("button",{className:`upgrade-button ${I?"":"disabled"}`,onClick:B,disabled:!I,children:I?" MEJORAR":"RECURSOS INSUFICIENTES"})]})]},g)})]})]})]})},Lf="/Mekadron-idle/assets/battle-room-button-5898a2bc.png",Bf="/Mekadron-idle/assets/armory-button-f7b8255f.png",Of="/Mekadron-idle/assets/return-station-button-4839c309.png",zf=()=>{const{gameState:e,dispatch:n}=Wn(),{resources:r,currentView:t}=e,o=()=>{n({type:"CLOSE_CURRENT_VIEW"})};return a.jsxs("div",{className:"phase2-scene-container",style:{backgroundImage:`url(${Pf})`},children:[a.jsx(If,{metalRefinado:r.metalRefinado,aceroEstructural:r.aceroEstructural,placasCasco:r.placasCasco,cableadoSuperconductor:r.cableadoSuperconductor,aleacionReforzada:r.aleacionReforzada,neuroChipCorrupto:r.neuroChipCorrupto,barraCombustible:r.barraCombustible}),a.jsxs("div",{className:"main-content",children:[a.jsxs("div",{className:"content-area",children:[t==="battleRoom"&&a.jsx(Tf,{onClose:o}),t==="armory"&&a.jsx(bf,{onClose:o})]}),a.jsxs("div",{className:"modules-panel",children:[a.jsx("button",{onClick:()=>n({type:"SET_CURRENT_VIEW",payload:"battleRoom"}),className:`image-button ${t==="battleRoom"?"active":""}`,children:a.jsx("img",{src:Lf,alt:"Sala de Batalla",className:"button-image"})}),a.jsx("button",{onClick:()=>n({type:"SET_CURRENT_VIEW",payload:"armory"}),className:`image-button ${t==="armory"?"active":""}`,children:a.jsx("img",{src:Bf,alt:"Armera",className:"button-image"})}),a.jsx("button",{onClick:()=>n({type:"RETURN_TO_PHASE_1"}),className:"image-button",children:a.jsx("img",{src:Of,alt:"Volver a la Estacin",className:"button-image"})})]})]}),a.jsx(nd,{})]})};const Ff=()=>{const{gameState:e,dispatch:n}=Wn(),{vindicator:r,activeBattle:t}=e,[o,s]=N.useState("idle"),[i,l]=N.useState("normal"),[c,u]=N.useState(null);if(!t)return a.jsx("div",{children:"Cargando batalla..."});const d={slow:2e3,normal:1e3,fast:500},f=N.useCallback(()=>{n({type:"PLAYER_ATTACK"})},[n]),h=()=>{s("running");const m=setInterval(()=>{f()},d[i]);u(m)},y=()=>{s("paused"),c&&(clearInterval(c),u(null))},x=()=>{s("running");const m=setInterval(()=>{f()},d[i]);u(m)},C=()=>{s("finished"),c&&(clearInterval(c),u(null))},w=()=>{C(),n({type:"ESCAPE_COMBAT"})};return N.useEffect(()=>()=>{c&&clearInterval(c)},[c]),N.useEffect(()=>{!t&&o==="running"&&C()},[t,o,C]),a.jsxs("div",{className:"combat-scene",children:[a.jsx("div",{className:"combat-status",children:a.jsxs("span",{className:`status-indicator ${o}`,children:["Estado: ",o==="idle"?"Listo":o==="running"?"En combate":o==="paused"?"Pausado":"Finalizado"]})}),a.jsxs("div",{className:"combat-header",children:[a.jsxs("div",{className:"vindicator-header",children:[a.jsx("div",{className:"unit-name vindicator-name",children:"VINDICATOR"}),a.jsxs("div",{className:"health-display",children:[a.jsx("span",{className:"health-label",children:"VIDA:"}),a.jsx("div",{className:"health-bar-container",children:a.jsx("div",{className:"health-fill vindicator-health",style:{width:`${r.currentHealth/r.maxHealth*100}%`}})}),a.jsxs("span",{className:"health-value",children:[Math.round(r.currentHealth)," / ",Math.round(r.maxHealth)]})]}),a.jsxs("div",{className:"health-display",children:[a.jsx("span",{className:"health-label",children:"ESCUDO:"}),a.jsx("div",{className:"health-bar-container",children:a.jsx("div",{className:"shield-fill",style:{width:`${r.currentShield/r.maxShield*100}%`}})}),a.jsxs("span",{className:"health-value",children:[Math.round(r.currentShield)," / ",Math.round(r.maxShield)]})]})]}),a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",color:"#ecc94b",textShadow:"2px 2px 0px #000"},children:"VS"}),a.jsxs("div",{className:"enemy-header",children:[a.jsx("div",{className:"unit-name enemy-name",children:t.enemyName.toUpperCase()}),a.jsxs("div",{className:"health-display",children:[a.jsx("span",{className:"health-label",children:"VIDA:"}),a.jsx("div",{className:"health-bar-container",children:a.jsx("div",{className:"health-fill enemy-health",style:{width:`${t.enemyCurrentHealth/t.enemyMaxHealth*100}%`}})}),a.jsxs("span",{className:"health-value",children:[Math.round(t.enemyCurrentHealth)," / ",Math.round(t.enemyMaxHealth)]})]}),a.jsxs("div",{className:"health-display",children:[a.jsx("span",{className:"health-label",children:"ESCUDO:"}),a.jsx("div",{className:"health-bar-container",children:a.jsx("div",{className:"shield-fill",style:{width:`${t.enemyCurrentShield/t.enemyMaxShield*100}%`}})}),a.jsxs("span",{className:"health-value",children:[Math.round(t.enemyCurrentShield)," / ",Math.round(t.enemyMaxShield)]})]})]})]}),a.jsxs("div",{className:"combat-area",children:[a.jsxs("div",{className:"combatant vindicator-combatant",children:[a.jsx("div",{className:"unit-sprite",children:""}),a.jsxs("div",{className:"unit-stats",children:[a.jsxs("div",{className:"stat-item",children:["DAO: ",r.damage]}),a.jsx("div",{className:"stat-item",children:"TIPO: ASALTO"}),a.jsx("div",{className:"stat-item",children:"MOV: 6"}),a.jsx("div",{className:"stat-item",children:"RANGO: 1-2"})]})]}),a.jsxs("div",{className:"combatant enemy-combatant",children:[a.jsx("div",{className:"unit-sprite",children:""}),a.jsxs("div",{className:"unit-stats",children:[a.jsxs("div",{className:"stat-item",children:["DAO: ",t.enemyCurrentHealth>0?"???":"0"]}),a.jsx("div",{className:"stat-item",children:"TIPO: ENEMIGO"}),a.jsx("div",{className:"stat-item",children:"MOV: 4"}),a.jsx("div",{className:"stat-item",children:"RANGO: 1"})]})]})]}),a.jsxs("div",{className:"combat-controls-center",children:[o==="idle"&&a.jsx("button",{className:"central-action-button",onClick:h,children:" INICIAR COMBATE AUTOMTICO"}),o==="running"&&a.jsx("button",{className:"central-action-button",onClick:y,children:" PAUSAR COMBATE"}),o==="paused"&&a.jsx("button",{className:"central-action-button",onClick:x,children:" REANUDAR COMBATE"}),a.jsxs("div",{className:"speed-controls-center",children:[a.jsx("label",{children:"Velocidad:"}),a.jsxs("select",{value:i,onChange:m=>l(m.target.value),disabled:o==="running",children:[a.jsx("option",{value:"slow",children:"Lenta"}),a.jsx("option",{value:"normal",children:"Normal"}),a.jsx("option",{value:"fast",children:"Rpida"})]})]}),a.jsxs("div",{className:"secondary-actions",children:[(o==="paused"||o==="idle")&&a.jsx("button",{className:"secondary-button stop-button",onClick:C,children:" Detener"}),a.jsx("button",{className:"secondary-button escape-button",onClick:w,disabled:o==="running",children:" Escapar"})]})]})]})};class Uf extends N.Component{constructor(){super(...arguments);wi(this,"state",{hasError:!1,error:void 0})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,t){console.error("----------------------------------------"),console.error("--- ERROR ATRAPADO POR ERROR BOUNDARY ---"),console.error("----------------------------------------"),console.error("Error:",r),console.error("Component Stack:",t.componentStack),console.error("----------------------------------------")}render(){var r;return this.state.hasError?a.jsxs("div",{style:{backgroundColor:"#111827",color:"white",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2rem",fontFamily:"monospace"},children:[a.jsx("h1",{style:{color:"#EF4444"},children:"Algo ha salido muy mal."}),a.jsx("p",{children:"Ha ocurrido un error de renderizado que ha bloqueado la aplicacin."}),a.jsx("p",{children:"Por favor, recarga la pgina. Si el error persiste, informa de ello."}),a.jsxs("pre",{style:{backgroundColor:"#1F2937",padding:"1rem",borderRadius:"8px",border:"1px solid #374151",color:"#F3F4F6",maxWidth:"800px",overflow:"auto",whiteSpace:"pre-wrap",marginTop:"2rem"},children:[a.jsx("strong",{children:"Error:"})," ",(r=this.state.error)==null?void 0:r.toString()]})]}):this.props.children}}const qf=()=>{const{gameState:e,dispatch:n}=Wn();N.useEffect(()=>{const t=()=>{n({type:"RESET_GAME"})};return window.addEventListener("resetGame",t),()=>{window.removeEventListener("resetGame",t)}},[n]);const r=()=>{switch(e.currentScene){case"startMenu":return a.jsx(Tl,{onStartGame:()=>n({type:"START_GAME"})});case"introScene":return a.jsx(Vp,{onComplete:()=>n({type:"SHOW_MAIN_SCENE"})});case"main":return a.jsx(Mf,{});case"phase2Intro":return a.jsx(Af,{onComplete:()=>n({type:"GO_TO_PHASE_2"})});case"phase2Main":return a.jsx(zf,{});case"combatScene":return a.jsx(Ff,{},e.battleCount);default:return a.jsx(Tl,{onStartGame:()=>n({type:"START_GAME"})})}};return a.jsx("div",{className:"game-container",children:a.jsx(Uf,{children:r()})})};Ba.createRoot(document.getElementById("root")).render(a.jsx(sn.StrictMode,{children:a.jsx(Fp,{children:a.jsx(qf,{})})}));
