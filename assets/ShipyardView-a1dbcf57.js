import{R,c as M,q as k,j as a,t as z,f as d}from"./index-aaf6ca55.js";import{u as P}from"./useDragToScroll-18f6dfaf.js";const w=({shipyard:m,resources:j,researchPoints:v,blueprints:x,onClose:b})=>{const p=M(),A=P(),t=k[m.currentProjectIndex],g={...j,researchPoints:v,blueprints:x},C={hull:"Estructura del Casco",powerCore:"Núcleo de Energía",targetingSystem:"Sistemas de Puntería",warpDrive:"Motor de Curvatura",chasisReforzado:"Chasis Reforzado",nucleoSingularidad:"Núcleo de Singularidad Avanzado",sistemaArmamento:'Sistema de Armamento "Devastator"',ensamblajeFinal:"Ensamblaje Final",chasisDeSigilo:"Chasis de Sigilo",motorDeManiobraAvanzado:"Motor de Maniobra Avanzado",sistemaDeCamuflajeEspectral:"Sistema de Camuflaje Espectral",cascoDeEspectro:"Casco de Espectro",nucleoDelVacio:"Núcleo del Vacío",modulosDeCorrupcion:"Módulos de Corrupción",chasisEspectral:"Chasis Espectral",sincronizadorFantasmal:"Sincronizador Fantasmal",armamentoDeFase:"Armamento de Fase",blindajeDeCiudadela:"Blindaje de Ciudadela",matrizDeOverlord:"Matriz de Overlord",sistemasDeArmasDefinitivos:"Sistemas de Armas Definitivos"},N={vindicator_base:`Aurora: "Reconstruir el 'Vindicator' es nuestra única opción. Necesitaremos los materiales avanzados de las expediciones para ensamblar los componentes principales."`,vindicator_mk1:'Aurora: "Es hora de mejorar el Vindicator a la versión Mk.I. Necesitaremos los materiales que hemos conseguido en nuestras batallas para reforzarlo."',vindicator_mk2_interceptor:'Aurora: "Hemos conseguido los planos del Interceptor. Con esta tecnología de sigilo y maniobra, seremos imparables."',vindicator_mk7_wraith:`Aurora: "Esta tecnología es... diferente. Parece alimentarse del vacío mismo. El 'Wraith' será una leyenda, o nuestra perdición."`,vindicator_mk8_phantom:`Aurora: "Si el 'Wraith' caminaba por el vacío, el 'Phantom' es el vacío mismo. Esta nave podría ser la clave para acabar con las flotas fantasma."`,vindicator_mk9_apex:`Aurora: "Hemos llegado al final. La tecnología de la Ciudadela es nuestra. Con el 'Apex', reclamaremos el futuro. Por todos nosotros."`},y=(s,o)=>{p({type:"DONATE_TO_SHIPYARD",payload:{component:s,resource:o,amount:1}})},D=(s,o,r)=>{r>0&&p({type:"DONATE_TO_SHIPYARD",payload:{component:s,resource:o,amount:r}})},f=(s,o)=>{const r=m.progress[s]||{},i=Object.keys(o).every(e=>(r[e]||0)>=o[e]),S=C[s]||s.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());return a.jsxs("div",{className:`component-progress ${i?"completed":""}`,children:[a.jsxs("h3",{className:"component-title",children:[S," ",i&&"✅"]}),Object.keys(o).map(e=>{var h;const n=o[e],l=r[e]||0,c=g[e]||0,E=((h=z[e])==null?void 0:h.name)||e.replace(/([A-Z])/g," $1").replace(/^./,O=>O.toUpperCase()),_=n-l,u=Math.min(c,_);return a.jsxs("div",{className:"resource-progress",children:[a.jsxs("p",{children:[E,": ",d(l)," / ",d(n)]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar",style:{width:`${Math.min(l/n*100,100)}%`}})}),!i&&a.jsxs("div",{className:"donation-buttons",children:[a.jsx("button",{onClick:()=>y(s,e),disabled:c<1,className:"donate-button",children:"Donar 1"}),a.jsxs("button",{onClick:()=>D(s,e,u),disabled:c<=0,className:"donate-max-button",children:["Donar MAX (",d(u),")"]})]})]},e)})]},s)};return a.jsx("div",{className:"shipyard-view-container",children:a.jsxs("div",{className:"shipyard-content-area",ref:A,children:[a.jsx("button",{onClick:b,className:"close-button",children:"×"}),t?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"shipyard-intro",children:[a.jsxs("h2",{className:"shipyard-project-title",children:['ASTILLERO - PROYECTO "',t.name.toUpperCase(),'"']}),a.jsx("p",{children:N[t.id]||"Iniciando nuevo proyecto..."})]}),Object.entries(t.costs).map(([s,o])=>f(s,o))]}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"shipyard-intro",children:[a.jsx("h2",{className:"shipyard-project-title",children:"ASTILLERO"}),a.jsx("p",{children:"¡Todos los proyectos del astillero han sido completados!"})]})})]})})},V=R.memo(w);export{V as default};
