var nS=Object.defineProperty;var tS=(e,n,r)=>n in e?nS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var ph=(e,n,r)=>(tS(e,typeof n!="symbol"?n+"":n,r),r);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kg={exports:{}},Kl={},bg={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=Symbol.for("react.element"),rS=Symbol.for("react.portal"),iS=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),oS=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),lS=Symbol.for("react.context"),uS=Symbol.for("react.forward_ref"),cS=Symbol.for("react.suspense"),dS=Symbol.for("react.memo"),fS=Symbol.for("react.lazy"),mh=Symbol.iterator;function pS(e){return e===null||typeof e!="object"?null:(e=mh&&e[mh]||e["@@iterator"],typeof e=="function"?e:null)}var Mg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pg=Object.assign,Dg={};function La(e,n,r){this.props=e,this.context=n,this.refs=Dg,this.updater=r||Mg}La.prototype.isReactComponent={};La.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};La.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tg(){}Tg.prototype=La.prototype;function Qd(e,n,r){this.props=e,this.context=n,this.refs=Dg,this.updater=r||Mg}var Yd=Qd.prototype=new Tg;Yd.constructor=Qd;Pg(Yd,La.prototype);Yd.isPureReactComponent=!0;var hh=Array.isArray,Ig=Object.prototype.hasOwnProperty,Zd={current:null},Og={key:!0,ref:!0,__self:!0,__source:!0};function Lg(e,n,r){var a,o={},u=null,c=null;if(n!=null)for(a in n.ref!==void 0&&(c=n.ref),n.key!==void 0&&(u=""+n.key),n)Ig.call(n,a)&&!Og.hasOwnProperty(a)&&(o[a]=n[a]);var f=arguments.length-2;if(f===1)o.children=r;else if(1<f){for(var p=Array(f),v=0;v<f;v++)p[v]=arguments[v+2];o.children=p}if(e&&e.defaultProps)for(a in f=e.defaultProps,f)o[a]===void 0&&(o[a]=f[a]);return{$$typeof:Go,type:e,key:u,ref:c,props:o,_owner:Zd.current}}function mS(e,n){return{$$typeof:Go,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Jd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Go}function hS(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return n[r]})}var gh=/\/+/g;function jc(e,n){return typeof e=="object"&&e!==null&&e.key!=null?hS(""+e.key):n.toString(36)}function cl(e,n,r,a,o){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Go:case rS:c=!0}}if(c)return c=e,o=o(c),e=a===""?"."+jc(c,0):a,hh(o)?(r="",e!=null&&(r=e.replace(gh,"$&/")+"/"),cl(o,n,r,"",function(v){return v})):o!=null&&(Jd(o)&&(o=mS(o,r+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(gh,"$&/")+"/")+e)),n.push(o)),1;if(c=0,a=a===""?".":a+":",hh(e))for(var f=0;f<e.length;f++){u=e[f];var p=a+jc(u,f);c+=cl(u,n,r,p,o)}else if(p=pS(e),typeof p=="function")for(e=p.call(e),f=0;!(u=e.next()).done;)u=u.value,p=a+jc(u,f++),c+=cl(u,n,r,p,o);else if(u==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}function Ws(e,n,r){if(e==null)return e;var a=[],o=0;return cl(e,a,"","",function(u){return n.call(r,u,o++)}),a}function gS(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},dl={transition:null},vS={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:dl,ReactCurrentOwner:Zd};function Bg(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Ws,forEach:function(e,n,r){Ws(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return Ws(e,function(){n++}),n},toArray:function(e){return Ws(e,function(n){return n})||[]},only:function(e){if(!Jd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=La;Re.Fragment=iS;Re.Profiler=oS;Re.PureComponent=Qd;Re.StrictMode=aS;Re.Suspense=cS;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vS;Re.act=Bg;Re.cloneElement=function(e,n,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Pg({},e.props),o=e.key,u=e.ref,c=e._owner;if(n!=null){if(n.ref!==void 0&&(u=n.ref,c=Zd.current),n.key!==void 0&&(o=""+n.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in n)Ig.call(n,p)&&!Og.hasOwnProperty(p)&&(a[p]=n[p]===void 0&&f!==void 0?f[p]:n[p])}var p=arguments.length-2;if(p===1)a.children=r;else if(1<p){f=Array(p);for(var v=0;v<p;v++)f[v]=arguments[v+2];a.children=f}return{$$typeof:Go,type:e.type,key:o,ref:u,props:a,_owner:c}};Re.createContext=function(e){return e={$$typeof:lS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sS,_context:e},e.Consumer=e};Re.createElement=Lg;Re.createFactory=function(e){var n=Lg.bind(null,e);return n.type=e,n};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:uS,render:e}};Re.isValidElement=Jd;Re.lazy=function(e){return{$$typeof:fS,_payload:{_status:-1,_result:e},_init:gS}};Re.memo=function(e,n){return{$$typeof:dS,type:e,compare:n===void 0?null:n}};Re.startTransition=function(e){var n=dl.transition;dl.transition={};try{e()}finally{dl.transition=n}};Re.unstable_act=Bg;Re.useCallback=function(e,n){return at.current.useCallback(e,n)};Re.useContext=function(e){return at.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return at.current.useDeferredValue(e)};Re.useEffect=function(e,n){return at.current.useEffect(e,n)};Re.useId=function(){return at.current.useId()};Re.useImperativeHandle=function(e,n,r){return at.current.useImperativeHandle(e,n,r)};Re.useInsertionEffect=function(e,n){return at.current.useInsertionEffect(e,n)};Re.useLayoutEffect=function(e,n){return at.current.useLayoutEffect(e,n)};Re.useMemo=function(e,n){return at.current.useMemo(e,n)};Re.useReducer=function(e,n,r){return at.current.useReducer(e,n,r)};Re.useRef=function(e){return at.current.useRef(e)};Re.useState=function(e){return at.current.useState(e)};Re.useSyncExternalStore=function(e,n,r){return at.current.useSyncExternalStore(e,n,r)};Re.useTransition=function(){return at.current.useTransition()};Re.version="18.3.1";bg.exports=Re;var K=bg.exports;const mr=Xd(K);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS=K,xS=Symbol.for("react.element"),_S=Symbol.for("react.fragment"),CS=Object.prototype.hasOwnProperty,ES=yS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wS={key:!0,ref:!0,__self:!0,__source:!0};function zg(e,n,r){var a,o={},u=null,c=null;r!==void 0&&(u=""+r),n.key!==void 0&&(u=""+n.key),n.ref!==void 0&&(c=n.ref);for(a in n)CS.call(n,a)&&!wS.hasOwnProperty(a)&&(o[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)o[a]===void 0&&(o[a]=n[a]);return{$$typeof:xS,type:e,key:u,ref:c,props:o,_owner:ES.current}}Kl.Fragment=_S;Kl.jsx=zg;Kl.jsxs=zg;kg.exports=Kl;var s=kg.exports,td={},Fg={exports:{}},Tt={},Ug={exports:{}},qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(V,Q){var J=V.length;V.push(Q);e:for(;0<J;){var de=J-1>>>1,ve=V[de];if(0<o(ve,Q))V[de]=Q,V[J]=ve,J=de;else break e}}function r(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var Q=V[0],J=V.pop();if(J!==Q){V[0]=J;e:for(var de=0,ve=V.length,ze=ve>>>1;de<ze;){var Ke=2*(de+1)-1,Xe=V[Ke],je=Ke+1,we=V[je];if(0>o(Xe,J))je<ve&&0>o(we,Xe)?(V[de]=we,V[je]=J,de=je):(V[de]=Xe,V[Ke]=J,de=Ke);else if(je<ve&&0>o(we,J))V[de]=we,V[je]=J,de=je;else break e}}return Q}function o(V,Q){var J=V.sortIndex-Q.sortIndex;return J!==0?J:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],v=[],h=1,C=null,A=3,w=!1,N=!1,j=!1,D=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(V){for(var Q=r(v);Q!==null;){if(Q.callback===null)a(v);else if(Q.startTime<=V)a(v),Q.sortIndex=Q.expirationTime,n(p,Q);else break;Q=r(v)}}function S(V){if(j=!1,E(V),!N)if(r(p)!==null)N=!0,Be(k);else{var Q=r(v);Q!==null&&ke(S,Q.startTime-V)}}function k(V,Q){N=!1,j&&(j=!1,_(T),T=-1),w=!0;var J=A;try{for(E(Q),C=r(p);C!==null&&(!(C.expirationTime>Q)||V&&!Z());){var de=C.callback;if(typeof de=="function"){C.callback=null,A=C.priorityLevel;var ve=de(C.expirationTime<=Q);Q=e.unstable_now(),typeof ve=="function"?C.callback=ve:C===r(p)&&a(p),E(Q)}else a(p);C=r(p)}if(C!==null)var ze=!0;else{var Ke=r(v);Ke!==null&&ke(S,Ke.startTime-Q),ze=!1}return ze}finally{C=null,A=J,w=!1}}var I=!1,L=null,T=-1,q=5,U=-1;function Z(){return!(e.unstable_now()-U<q)}function te(){if(L!==null){var V=e.unstable_now();U=V;var Q=!0;try{Q=L(!0,V)}finally{Q?oe():(I=!1,L=null)}}else I=!1}var oe;if(typeof g=="function")oe=function(){g(te)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,fe=ce.port2;ce.port1.onmessage=te,oe=function(){fe.postMessage(null)}}else oe=function(){D(te,0)};function Be(V){L=V,I||(I=!0,oe())}function ke(V,Q){T=D(function(){V(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){N||w||(N=!0,Be(k))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(V){switch(A){case 1:case 2:case 3:var Q=3;break;default:Q=A}var J=A;A=Q;try{return V()}finally{A=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=A;A=V;try{return Q()}finally{A=J}},e.unstable_scheduleCallback=function(V,Q,J){var de=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?de+J:de):J=de,V){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=J+ve,V={id:h++,callback:Q,priorityLevel:V,startTime:J,expirationTime:ve,sortIndex:-1},J>de?(V.sortIndex=J,n(v,V),r(p)===null&&V===r(v)&&(j?(_(T),T=-1):j=!0,ke(S,J-de))):(V.sortIndex=ve,n(p,V),N||w||(N=!0,Be(k))),V},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(V){var Q=A;return function(){var J=A;A=Q;try{return V.apply(this,arguments)}finally{A=J}}}})(qg);Ug.exports=qg;var SS=Ug.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=K,Dt=SS;function X(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $g=new Set,bo={};function Wi(e,n){ba(e,n),ba(e+"Capture",n)}function ba(e,n){for(bo[e]=n,e=0;e<n.length;e++)$g.add(n[e])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rd=Object.prototype.hasOwnProperty,NS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vh={},yh={};function AS(e){return rd.call(yh,e)?!0:rd.call(vh,e)?!1:NS.test(e)?yh[e]=!0:(vh[e]=!0,!1)}function RS(e,n,r,a){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kS(e,n,r,a){if(n===null||typeof n>"u"||RS(e,n,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ot(e,n,r,a,o,u,c){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=u,this.removeEmptyString=c}var On={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){On[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];On[n]=new ot(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){On[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){On[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){On[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){On[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){On[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){On[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){On[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var ef=/[\-:]([a-z])/g;function nf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ef,nf);On[n]=new ot(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ef,nf);On[n]=new ot(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ef,nf);On[n]=new ot(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){On[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});On.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){On[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function tf(e,n,r,a){var o=On.hasOwnProperty(n)?On[n]:null;(o!==null?o.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(kS(n,r,o,a)&&(r=null),a||o===null?AS(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(n=o.attributeName,a=o.attributeNamespace,r===null?e.removeAttribute(n):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,a?e.setAttributeNS(a,n,r):e.setAttribute(n,r))))}var Hr=jS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),da=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),rf=Symbol.for("react.strict_mode"),id=Symbol.for("react.profiler"),Hg=Symbol.for("react.provider"),Vg=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),ad=Symbol.for("react.suspense"),od=Symbol.for("react.suspense_list"),of=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),Wg=Symbol.for("react.offscreen"),xh=Symbol.iterator;function ao(e){return e===null||typeof e!="object"?null:(e=xh&&e[xh]||e["@@iterator"],typeof e=="function"?e:null)}var fn=Object.assign,Nc;function mo(e){if(Nc===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Nc=n&&n[1]||""}return`
`+Nc+e}var Ac=!1;function Rc(e,n){if(!e||Ac)return"";Ac=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(v){var a=v}Reflect.construct(e,[],n)}else{try{n.call()}catch(v){a=v}e.call(n.prototype)}else{try{throw Error()}catch(v){a=v}e()}}catch(v){if(v&&a&&typeof v.stack=="string"){for(var o=v.stack.split(`
`),u=a.stack.split(`
`),c=o.length-1,f=u.length-1;1<=c&&0<=f&&o[c]!==u[f];)f--;for(;1<=c&&0<=f;c--,f--)if(o[c]!==u[f]){if(c!==1||f!==1)do if(c--,f--,0>f||o[c]!==u[f]){var p=`
`+o[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=f);break}}}finally{Ac=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?mo(e):""}function bS(e){switch(e.tag){case 5:return mo(e.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return e=Rc(e.type,!1),e;case 11:return e=Rc(e.type.render,!1),e;case 1:return e=Rc(e.type,!0),e;default:return""}}function sd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fa:return"Fragment";case da:return"Portal";case id:return"Profiler";case rf:return"StrictMode";case ad:return"Suspense";case od:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vg:return(e.displayName||"Context")+".Consumer";case Hg:return(e._context.displayName||"Context")+".Provider";case af:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case of:return n=e.displayName||null,n!==null?n:sd(e.type)||"Memo";case ti:n=e._payload,e=e._init;try{return sd(e(n))}catch{}}return null}function MS(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sd(n);case 8:return n===rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function gi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gg(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function PS(e){var n=Gg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(c){a=""+c,u.call(this,c)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ks(e){e._valueTracker||(e._valueTracker=PS(e))}function Kg(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),a="";return e&&(a=Gg(e)?e.checked?"true":"false":e.value),e=a,e!==r?(n.setValue(e),!0):!1}function Sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ld(e,n){var r=n.checked;return fn({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _h(e,n){var r=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;r=gi(n.value!=null?n.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xg(e,n){n=n.checked,n!=null&&tf(e,"checked",n,!1)}function ud(e,n){Xg(e,n);var r=gi(n.value),a=n.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?cd(e,n.type,r):n.hasOwnProperty("defaultValue")&&cd(e,n.type,gi(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ch(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cd(e,n,r){(n!=="number"||Sl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ho=Array.isArray;function Sa(e,n,r,a){if(e=e.options,n){n={};for(var o=0;o<r.length;o++)n["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=n.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&a&&(e[r].defaultSelected=!0)}else{for(r=""+gi(r),n=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}n!==null||e[o].disabled||(n=e[o])}n!==null&&(n.selected=!0)}}function dd(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(X(91));return fn({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eh(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(X(92));if(ho(r)){if(1<r.length)throw Error(X(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:gi(r)}}function Qg(e,n){var r=gi(n.value),a=gi(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function wh(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Yg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fd(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Yg(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xs,Zg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,a,o){MSApp.execUnsafeLocalFunction(function(){return e(n,r,a,o)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Xs=Xs||document.createElement("div"),Xs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Mo(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var _o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DS=["Webkit","ms","Moz","O"];Object.keys(_o).forEach(function(e){DS.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),_o[n]=_o[e]})});function Jg(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||_o.hasOwnProperty(e)&&_o[e]?(""+n).trim():n+"px"}function e0(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var a=r.indexOf("--")===0,o=Jg(r,n[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,o):e[r]=o}}var TS=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pd(e,n){if(n){if(TS[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(X(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(X(61))}if(n.style!=null&&typeof n.style!="object")throw Error(X(62))}}function md(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hd=null;function sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gd=null,ja=null,Na=null;function Sh(e){if(e=Qo(e)){if(typeof gd!="function")throw Error(X(280));var n=e.stateNode;n&&(n=Jl(n),gd(e.stateNode,e.type,n))}}function n0(e){ja?Na?Na.push(e):Na=[e]:ja=e}function t0(){if(ja){var e=ja,n=Na;if(Na=ja=null,Sh(e),n)for(e=0;e<n.length;e++)Sh(n[e])}}function r0(e,n){return e(n)}function i0(){}var kc=!1;function a0(e,n,r){if(kc)return e(n,r);kc=!0;try{return r0(e,n,r)}finally{kc=!1,(ja!==null||Na!==null)&&(i0(),t0())}}function Po(e,n){var r=e.stateNode;if(r===null)return null;var a=Jl(r);if(a===null)return null;r=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,n,typeof r));return r}var vd=!1;if(Fr)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){vd=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{vd=!1}function IS(e,n,r,a,o,u,c,f,p){var v=Array.prototype.slice.call(arguments,3);try{n.apply(r,v)}catch(h){this.onError(h)}}var Co=!1,jl=null,Nl=!1,yd=null,OS={onError:function(e){Co=!0,jl=e}};function LS(e,n,r,a,o,u,c,f,p){Co=!1,jl=null,IS.apply(OS,arguments)}function BS(e,n,r,a,o,u,c,f,p){if(LS.apply(this,arguments),Co){if(Co){var v=jl;Co=!1,jl=null}else throw Error(X(198));Nl||(Nl=!0,yd=v)}}function Gi(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function o0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function jh(e){if(Gi(e)!==e)throw Error(X(188))}function zS(e){var n=e.alternate;if(!n){if(n=Gi(e),n===null)throw Error(X(188));return n!==e?null:e}for(var r=e,a=n;;){var o=r.return;if(o===null)break;var u=o.alternate;if(u===null){if(a=o.return,a!==null){r=a;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===r)return jh(o),e;if(u===a)return jh(o),n;u=u.sibling}throw Error(X(188))}if(r.return!==a.return)r=o,a=u;else{for(var c=!1,f=o.child;f;){if(f===r){c=!0,r=o,a=u;break}if(f===a){c=!0,a=o,r=u;break}f=f.sibling}if(!c){for(f=u.child;f;){if(f===r){c=!0,r=u,a=o;break}if(f===a){c=!0,a=u,r=o;break}f=f.sibling}if(!c)throw Error(X(189))}}if(r.alternate!==a)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:n}function s0(e){return e=zS(e),e!==null?l0(e):null}function l0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=l0(e);if(n!==null)return n;e=e.sibling}return null}var u0=Dt.unstable_scheduleCallback,Nh=Dt.unstable_cancelCallback,FS=Dt.unstable_shouldYield,US=Dt.unstable_requestPaint,_n=Dt.unstable_now,qS=Dt.unstable_getCurrentPriorityLevel,lf=Dt.unstable_ImmediatePriority,c0=Dt.unstable_UserBlockingPriority,Al=Dt.unstable_NormalPriority,$S=Dt.unstable_LowPriority,d0=Dt.unstable_IdlePriority,Xl=null,Sr=null;function HS(e){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Xl,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:GS,VS=Math.log,WS=Math.LN2;function GS(e){return e>>>=0,e===0?32:31-(VS(e)/WS|0)|0}var Qs=64,Ys=4194304;function go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rl(e,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,o=e.suspendedLanes,u=e.pingedLanes,c=r&268435455;if(c!==0){var f=c&~o;f!==0?a=go(f):(u&=c,u!==0&&(a=go(u)))}else c=r&~o,c!==0?a=go(c):u!==0&&(a=go(u));if(a===0)return 0;if(n!==0&&n!==a&&!(n&o)&&(o=a&-a,u=n&-n,o>=u||o===16&&(u&4194240)!==0))return n;if(a&4&&(a|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)r=31-dr(n),o=1<<r,a|=e[r],n&=~o;return a}function KS(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XS(e,n){for(var r=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var c=31-dr(u),f=1<<c,p=o[c];p===-1?(!(f&r)||f&a)&&(o[c]=KS(f,n)):p<=n&&(e.expiredLanes|=f),u&=~f}}function xd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f0(){var e=Qs;return Qs<<=1,!(Qs&4194240)&&(Qs=64),e}function bc(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Ko(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-dr(n),e[n]=r}function QS(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-dr(r),u=1<<o;n[o]=0,a[o]=-1,e[o]=-1,r&=~u}}function uf(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var a=31-dr(r),o=1<<a;o&n|e[a]&n&&(e[a]|=n),r&=~o}}var $e=0;function p0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m0,cf,h0,g0,v0,_d=!1,Zs=[],li=null,ui=null,ci=null,Do=new Map,To=new Map,ii=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ah(e,n){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Do.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(n.pointerId)}}function so(e,n,r,a,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:r,eventSystemFlags:a,nativeEvent:u,targetContainers:[o]},n!==null&&(n=Qo(n),n!==null&&cf(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),e)}function ZS(e,n,r,a,o){switch(n){case"focusin":return li=so(li,e,n,r,a,o),!0;case"dragenter":return ui=so(ui,e,n,r,a,o),!0;case"mouseover":return ci=so(ci,e,n,r,a,o),!0;case"pointerover":var u=o.pointerId;return Do.set(u,so(Do.get(u)||null,e,n,r,a,o)),!0;case"gotpointercapture":return u=o.pointerId,To.set(u,so(To.get(u)||null,e,n,r,a,o)),!0}return!1}function y0(e){var n=Ii(e.target);if(n!==null){var r=Gi(n);if(r!==null){if(n=r.tag,n===13){if(n=o0(r),n!==null){e.blockedOn=n,v0(e.priority,function(){h0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Cd(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);hd=a,r.target.dispatchEvent(a),hd=null}else return n=Qo(r),n!==null&&cf(n),e.blockedOn=r,!1;n.shift()}return!0}function Rh(e,n,r){fl(e)&&r.delete(n)}function JS(){_d=!1,li!==null&&fl(li)&&(li=null),ui!==null&&fl(ui)&&(ui=null),ci!==null&&fl(ci)&&(ci=null),Do.forEach(Rh),To.forEach(Rh)}function lo(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,JS)))}function Io(e){function n(o){return lo(o,e)}if(0<Zs.length){lo(Zs[0],e);for(var r=1;r<Zs.length;r++){var a=Zs[r];a.blockedOn===e&&(a.blockedOn=null)}}for(li!==null&&lo(li,e),ui!==null&&lo(ui,e),ci!==null&&lo(ci,e),Do.forEach(n),To.forEach(n),r=0;r<ii.length;r++)a=ii[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<ii.length&&(r=ii[0],r.blockedOn===null);)y0(r),r.blockedOn===null&&ii.shift()}var Aa=Hr.ReactCurrentBatchConfig,kl=!0;function ej(e,n,r,a){var o=$e,u=Aa.transition;Aa.transition=null;try{$e=1,df(e,n,r,a)}finally{$e=o,Aa.transition=u}}function nj(e,n,r,a){var o=$e,u=Aa.transition;Aa.transition=null;try{$e=4,df(e,n,r,a)}finally{$e=o,Aa.transition=u}}function df(e,n,r,a){if(kl){var o=Cd(e,n,r,a);if(o===null)Fc(e,n,a,bl,r),Ah(e,a);else if(ZS(o,e,n,r,a))a.stopPropagation();else if(Ah(e,a),n&4&&-1<YS.indexOf(e)){for(;o!==null;){var u=Qo(o);if(u!==null&&m0(u),u=Cd(e,n,r,a),u===null&&Fc(e,n,a,bl,r),u===o)break;o=u}o!==null&&a.stopPropagation()}else Fc(e,n,a,null,r)}}var bl=null;function Cd(e,n,r,a){if(bl=null,e=sf(a),e=Ii(e),e!==null)if(n=Gi(e),n===null)e=null;else if(r=n.tag,r===13){if(e=o0(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return bl=e,null}function x0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qS()){case lf:return 1;case c0:return 4;case Al:case $S:return 16;case d0:return 536870912;default:return 16}default:return 16}}var oi=null,ff=null,pl=null;function _0(){if(pl)return pl;var e,n=ff,r=n.length,a,o="value"in oi?oi.value:oi.textContent,u=o.length;for(e=0;e<r&&n[e]===o[e];e++);var c=r-e;for(a=1;a<=c&&n[r-a]===o[u-a];a++);return pl=o.slice(e,1<a?1-a:void 0)}function ml(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Js(){return!0}function kh(){return!1}function It(e){function n(r,a,o,u,c){this._reactName=r,this._targetInst=o,this.type=a,this.nativeEvent=u,this.target=c,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(r=e[f],this[f]=r?r(u):u[f]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Js:kh,this.isPropagationStopped=kh,this}return fn(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),n}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=It(Ba),Xo=fn({},Ba,{view:0,detail:0}),tj=It(Xo),Mc,Pc,uo,Ql=fn({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(Mc=e.screenX-uo.screenX,Pc=e.screenY-uo.screenY):Pc=Mc=0,uo=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Pc}}),bh=It(Ql),rj=fn({},Ql,{dataTransfer:0}),ij=It(rj),aj=fn({},Xo,{relatedTarget:0}),Dc=It(aj),oj=fn({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),sj=It(oj),lj=fn({},Ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uj=It(lj),cj=fn({},Ba,{data:0}),Mh=It(cj),dj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mj(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pj[e])?!!n[e]:!1}function mf(){return mj}var hj=fn({},Xo,{key:function(e){if(e.key){var n=dj[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mf,charCode:function(e){return e.type==="keypress"?ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gj=It(hj),vj=fn({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ph=It(vj),yj=fn({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mf}),xj=It(yj),_j=fn({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cj=It(_j),Ej=fn({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wj=It(Ej),Sj=[9,13,27,32],hf=Fr&&"CompositionEvent"in window,Eo=null;Fr&&"documentMode"in document&&(Eo=document.documentMode);var jj=Fr&&"TextEvent"in window&&!Eo,C0=Fr&&(!hf||Eo&&8<Eo&&11>=Eo),Dh=String.fromCharCode(32),Th=!1;function E0(e,n){switch(e){case"keyup":return Sj.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function Nj(e,n){switch(e){case"compositionend":return w0(n);case"keypress":return n.which!==32?null:(Th=!0,Dh);case"textInput":return e=n.data,e===Dh&&Th?null:e;default:return null}}function Aj(e,n){if(pa)return e==="compositionend"||!hf&&E0(e,n)?(e=_0(),pl=ff=oi=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return C0&&n.locale!=="ko"?null:n.data;default:return null}}var Rj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Rj[e.type]:n==="textarea"}function S0(e,n,r,a){n0(a),n=Ml(n,"onChange"),0<n.length&&(r=new pf("onChange","change",null,r,a),e.push({event:r,listeners:n}))}var wo=null,Oo=null;function kj(e){I0(e,0)}function Yl(e){var n=ga(e);if(Kg(n))return e}function bj(e,n){if(e==="change")return n}var j0=!1;if(Fr){var Tc;if(Fr){var Ic="oninput"in document;if(!Ic){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),Ic=typeof Oh.oninput=="function"}Tc=Ic}else Tc=!1;j0=Tc&&(!document.documentMode||9<document.documentMode)}function Lh(){wo&&(wo.detachEvent("onpropertychange",N0),Oo=wo=null)}function N0(e){if(e.propertyName==="value"&&Yl(Oo)){var n=[];S0(n,Oo,e,sf(e)),a0(kj,n)}}function Mj(e,n,r){e==="focusin"?(Lh(),wo=n,Oo=r,wo.attachEvent("onpropertychange",N0)):e==="focusout"&&Lh()}function Pj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(Oo)}function Dj(e,n){if(e==="click")return Yl(n)}function Tj(e,n){if(e==="input"||e==="change")return Yl(n)}function Ij(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pr=typeof Object.is=="function"?Object.is:Ij;function Lo(e,n){if(pr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),a=Object.keys(n);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var o=r[a];if(!rd.call(n,o)||!pr(e[o],n[o]))return!1}return!0}function Bh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zh(e,n){var r=Bh(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=n&&a>=n)return{node:r,offset:n-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bh(r)}}function A0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?A0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function R0(){for(var e=window,n=Sl();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Sl(e.document)}return n}function gf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Oj(e){var n=R0(),r=e.focusedElem,a=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&A0(r.ownerDocument.documentElement,r)){if(a!==null&&gf(r)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,u=Math.min(a.start,o);a=a.end===void 0?u:Math.min(a.end,o),!e.extend&&u>a&&(o=a,a=u,u=o),o=zh(r,u);var c=zh(r,a);o&&c&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(n=n.createRange(),n.setStart(o.node,o.offset),e.removeAllRanges(),u>a?(e.addRange(n),e.extend(c.node,c.offset)):(n.setEnd(c.node,c.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lj=Fr&&"documentMode"in document&&11>=document.documentMode,ma=null,Ed=null,So=null,wd=!1;function Fh(e,n,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wd||ma==null||ma!==Sl(a)||(a=ma,"selectionStart"in a&&gf(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),So&&Lo(So,a)||(So=a,a=Ml(Ed,"onSelect"),0<a.length&&(n=new pf("onSelect","select",null,n,r),e.push({event:n,listeners:a}),n.target=ma)))}function el(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ha={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},Oc={},k0={};Fr&&(k0=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Zl(e){if(Oc[e])return Oc[e];if(!ha[e])return e;var n=ha[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in k0)return Oc[e]=n[r];return e}var b0=Zl("animationend"),M0=Zl("animationiteration"),P0=Zl("animationstart"),D0=Zl("transitionend"),T0=new Map,Uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(e,n){T0.set(e,n),Wi(n,[e])}for(var Lc=0;Lc<Uh.length;Lc++){var Bc=Uh[Lc],Bj=Bc.toLowerCase(),zj=Bc[0].toUpperCase()+Bc.slice(1);yi(Bj,"on"+zj)}yi(b0,"onAnimationEnd");yi(M0,"onAnimationIteration");yi(P0,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(D0,"onTransitionEnd");ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fj=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function qh(e,n,r){var a=e.type||"unknown-event";e.currentTarget=r,BS(a,n,void 0,e),e.currentTarget=null}function I0(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],o=a.event;a=a.listeners;e:{var u=void 0;if(n)for(var c=a.length-1;0<=c;c--){var f=a[c],p=f.instance,v=f.currentTarget;if(f=f.listener,p!==u&&o.isPropagationStopped())break e;qh(o,f,v),u=p}else for(c=0;c<a.length;c++){if(f=a[c],p=f.instance,v=f.currentTarget,f=f.listener,p!==u&&o.isPropagationStopped())break e;qh(o,f,v),u=p}}}if(Nl)throw e=yd,Nl=!1,yd=null,e}function en(e,n){var r=n[Rd];r===void 0&&(r=n[Rd]=new Set);var a=e+"__bubble";r.has(a)||(O0(n,e,2,!1),r.add(a))}function zc(e,n,r){var a=0;n&&(a|=4),O0(r,e,a,n)}var nl="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[nl]){e[nl]=!0,$g.forEach(function(r){r!=="selectionchange"&&(Fj.has(r)||zc(r,!1,e),zc(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nl]||(n[nl]=!0,zc("selectionchange",!1,n))}}function O0(e,n,r,a){switch(x0(n)){case 1:var o=ej;break;case 4:o=nj;break;default:o=df}r=o.bind(null,n,r,e),o=void 0,!vd||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(n,r,{capture:!0,passive:o}):e.addEventListener(n,r,!0):o!==void 0?e.addEventListener(n,r,{passive:o}):e.addEventListener(n,r,!1)}function Fc(e,n,r,a,o){var u=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var f=a.stateNode.containerInfo;if(f===o||f.nodeType===8&&f.parentNode===o)break;if(c===4)for(c=a.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===o||p.nodeType===8&&p.parentNode===o))return;c=c.return}for(;f!==null;){if(c=Ii(f),c===null)return;if(p=c.tag,p===5||p===6){a=u=c;continue e}f=f.parentNode}}a=a.return}a0(function(){var v=u,h=sf(r),C=[];e:{var A=T0.get(e);if(A!==void 0){var w=pf,N=e;switch(e){case"keypress":if(ml(r)===0)break e;case"keydown":case"keyup":w=gj;break;case"focusin":N="focus",w=Dc;break;case"focusout":N="blur",w=Dc;break;case"beforeblur":case"afterblur":w=Dc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ij;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=xj;break;case b0:case M0:case P0:w=sj;break;case D0:w=Cj;break;case"scroll":w=tj;break;case"wheel":w=wj;break;case"copy":case"cut":case"paste":w=uj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Ph}var j=(n&4)!==0,D=!j&&e==="scroll",_=j?A!==null?A+"Capture":null:A;j=[];for(var g=v,E;g!==null;){E=g;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,_!==null&&(S=Po(g,_),S!=null&&j.push(zo(g,S,E)))),D)break;g=g.return}0<j.length&&(A=new w(A,N,null,r,h),C.push({event:A,listeners:j}))}}if(!(n&7)){e:{if(A=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",A&&r!==hd&&(N=r.relatedTarget||r.fromElement)&&(Ii(N)||N[Ur]))break e;if((w||A)&&(A=h.window===h?h:(A=h.ownerDocument)?A.defaultView||A.parentWindow:window,w?(N=r.relatedTarget||r.toElement,w=v,N=N?Ii(N):null,N!==null&&(D=Gi(N),N!==D||N.tag!==5&&N.tag!==6)&&(N=null)):(w=null,N=v),w!==N)){if(j=bh,S="onMouseLeave",_="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(j=Ph,S="onPointerLeave",_="onPointerEnter",g="pointer"),D=w==null?A:ga(w),E=N==null?A:ga(N),A=new j(S,g+"leave",w,r,h),A.target=D,A.relatedTarget=E,S=null,Ii(h)===v&&(j=new j(_,g+"enter",N,r,h),j.target=E,j.relatedTarget=D,S=j),D=S,w&&N)n:{for(j=w,_=N,g=0,E=j;E;E=ua(E))g++;for(E=0,S=_;S;S=ua(S))E++;for(;0<g-E;)j=ua(j),g--;for(;0<E-g;)_=ua(_),E--;for(;g--;){if(j===_||_!==null&&j===_.alternate)break n;j=ua(j),_=ua(_)}j=null}else j=null;w!==null&&$h(C,A,w,j,!1),N!==null&&D!==null&&$h(C,D,N,j,!0)}}e:{if(A=v?ga(v):window,w=A.nodeName&&A.nodeName.toLowerCase(),w==="select"||w==="input"&&A.type==="file")var k=bj;else if(Ih(A))if(j0)k=Tj;else{k=Pj;var I=Mj}else(w=A.nodeName)&&w.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(k=Dj);if(k&&(k=k(e,v))){S0(C,k,r,h);break e}I&&I(e,A,v),e==="focusout"&&(I=A._wrapperState)&&I.controlled&&A.type==="number"&&cd(A,"number",A.value)}switch(I=v?ga(v):window,e){case"focusin":(Ih(I)||I.contentEditable==="true")&&(ma=I,Ed=v,So=null);break;case"focusout":So=Ed=ma=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,Fh(C,r,h);break;case"selectionchange":if(Lj)break;case"keydown":case"keyup":Fh(C,r,h)}var L;if(hf)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else pa?E0(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(C0&&r.locale!=="ko"&&(pa||T!=="onCompositionStart"?T==="onCompositionEnd"&&pa&&(L=_0()):(oi=h,ff="value"in oi?oi.value:oi.textContent,pa=!0)),I=Ml(v,T),0<I.length&&(T=new Mh(T,e,null,r,h),C.push({event:T,listeners:I}),L?T.data=L:(L=w0(r),L!==null&&(T.data=L)))),(L=jj?Nj(e,r):Aj(e,r))&&(v=Ml(v,"onBeforeInput"),0<v.length&&(h=new Mh("onBeforeInput","beforeinput",null,r,h),C.push({event:h,listeners:v}),h.data=L))}I0(C,n)})}function zo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Ml(e,n){for(var r=n+"Capture",a=[];e!==null;){var o=e,u=o.stateNode;o.tag===5&&u!==null&&(o=u,u=Po(e,r),u!=null&&a.unshift(zo(e,u,o)),u=Po(e,n),u!=null&&a.push(zo(e,u,o))),e=e.return}return a}function ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $h(e,n,r,a,o){for(var u=n._reactName,c=[];r!==null&&r!==a;){var f=r,p=f.alternate,v=f.stateNode;if(p!==null&&p===a)break;f.tag===5&&v!==null&&(f=v,o?(p=Po(r,u),p!=null&&c.unshift(zo(r,p,f))):o||(p=Po(r,u),p!=null&&c.push(zo(r,p,f)))),r=r.return}c.length!==0&&e.push({event:n,listeners:c})}var Uj=/\r\n?/g,qj=/\u0000|\uFFFD/g;function Hh(e){return(typeof e=="string"?e:""+e).replace(Uj,`
`).replace(qj,"")}function tl(e,n,r){if(n=Hh(n),Hh(e)!==n&&r)throw Error(X(425))}function Pl(){}var Sd=null,jd=null;function Nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=typeof setTimeout=="function"?setTimeout:void 0,$j=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,Hj=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(e){return Vh.resolve(null).then(e).catch(Vj)}:Ad;function Vj(e){setTimeout(function(){throw e})}function Uc(e,n){var r=n,a=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(a===0){e.removeChild(o),Io(n);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=o}while(r);Io(n)}function di(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Wh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var za=Math.random().toString(36).slice(2),wr="__reactFiber$"+za,Fo="__reactProps$"+za,Ur="__reactContainer$"+za,Rd="__reactEvents$"+za,Wj="__reactListeners$"+za,Gj="__reactHandles$"+za;function Ii(e){var n=e[wr];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Ur]||r[wr]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Wh(e);e!==null;){if(r=e[wr])return r;e=Wh(e)}return n}e=r,r=e.parentNode}return null}function Qo(e){return e=e[wr]||e[Ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ga(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Jl(e){return e[Fo]||null}var kd=[],va=-1;function xi(e){return{current:e}}function nn(e){0>va||(e.current=kd[va],kd[va]=null,va--)}function Ye(e,n){va++,kd[va]=e.current,e.current=n}var vi={},Hn=xi(vi),yt=xi(!1),Ui=vi;function Ma(e,n){var r=e.type.contextTypes;if(!r)return vi;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in r)o[u]=n[u];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function xt(e){return e=e.childContextTypes,e!=null}function Dl(){nn(yt),nn(Hn)}function Gh(e,n,r){if(Hn.current!==vi)throw Error(X(168));Ye(Hn,n),Ye(yt,r)}function L0(e,n,r){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var o in a)if(!(o in n))throw Error(X(108,MS(e)||"Unknown",o));return fn({},r,a)}function Tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,Ui=Hn.current,Ye(Hn,e),Ye(yt,yt.current),!0}function Kh(e,n,r){var a=e.stateNode;if(!a)throw Error(X(169));r?(e=L0(e,n,Ui),a.__reactInternalMemoizedMergedChildContext=e,nn(yt),nn(Hn),Ye(Hn,e)):nn(yt),Ye(yt,r)}var Or=null,eu=!1,qc=!1;function B0(e){Or===null?Or=[e]:Or.push(e)}function Kj(e){eu=!0,B0(e)}function _i(){if(!qc&&Or!==null){qc=!0;var e=0,n=$e;try{var r=Or;for($e=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Or=null,eu=!1}catch(o){throw Or!==null&&(Or=Or.slice(e+1)),u0(lf,_i),o}finally{$e=n,qc=!1}}return null}var ya=[],xa=0,Il=null,Ol=0,Xt=[],Qt=0,qi=null,Lr=1,Br="";function Di(e,n){ya[xa++]=Ol,ya[xa++]=Il,Il=e,Ol=n}function z0(e,n,r){Xt[Qt++]=Lr,Xt[Qt++]=Br,Xt[Qt++]=qi,qi=e;var a=Lr;e=Br;var o=32-dr(a)-1;a&=~(1<<o),r+=1;var u=32-dr(n)+o;if(30<u){var c=o-o%5;u=(a&(1<<c)-1).toString(32),a>>=c,o-=c,Lr=1<<32-dr(n)+o|r<<o|a,Br=u+e}else Lr=1<<u|r<<o|a,Br=e}function vf(e){e.return!==null&&(Di(e,1),z0(e,1,0))}function yf(e){for(;e===Il;)Il=ya[--xa],ya[xa]=null,Ol=ya[--xa],ya[xa]=null;for(;e===qi;)qi=Xt[--Qt],Xt[Qt]=null,Br=Xt[--Qt],Xt[Qt]=null,Lr=Xt[--Qt],Xt[Qt]=null}var Pt=null,Mt=null,sn=!1,cr=null;function F0(e,n){var r=Yt(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function Xh(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Pt=e,Mt=di(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Pt=e,Mt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=qi!==null?{id:Lr,overflow:Br}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Yt(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,Pt=e,Mt=null,!0):!1;default:return!1}}function bd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Md(e){if(sn){var n=Mt;if(n){var r=n;if(!Xh(e,n)){if(bd(e))throw Error(X(418));n=di(r.nextSibling);var a=Pt;n&&Xh(e,n)?F0(a,r):(e.flags=e.flags&-4097|2,sn=!1,Pt=e)}}else{if(bd(e))throw Error(X(418));e.flags=e.flags&-4097|2,sn=!1,Pt=e}}}function Qh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function rl(e){if(e!==Pt)return!1;if(!sn)return Qh(e),sn=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Nd(e.type,e.memoizedProps)),n&&(n=Mt)){if(bd(e))throw U0(),Error(X(418));for(;n;)F0(e,n),n=di(n.nextSibling)}if(Qh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Mt=di(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Mt=null}}else Mt=Pt?di(e.stateNode.nextSibling):null;return!0}function U0(){for(var e=Mt;e;)e=di(e.nextSibling)}function Pa(){Mt=Pt=null,sn=!1}function xf(e){cr===null?cr=[e]:cr.push(e)}var Xj=Hr.ReactCurrentBatchConfig;function co(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var a=r.stateNode}if(!a)throw Error(X(147,e));var o=a,u=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===u?n.ref:(n=function(c){var f=o.refs;c===null?delete f[u]:f[u]=c},n._stringRef=u,n)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function il(e,n){throw e=Object.prototype.toString.call(n),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Yh(e){var n=e._init;return n(e._payload)}function q0(e){function n(_,g){if(e){var E=_.deletions;E===null?(_.deletions=[g],_.flags|=16):E.push(g)}}function r(_,g){if(!e)return null;for(;g!==null;)n(_,g),g=g.sibling;return null}function a(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function o(_,g){return _=hi(_,g),_.index=0,_.sibling=null,_}function u(_,g,E){return _.index=E,e?(E=_.alternate,E!==null?(E=E.index,E<g?(_.flags|=2,g):E):(_.flags|=2,g)):(_.flags|=1048576,g)}function c(_){return e&&_.alternate===null&&(_.flags|=2),_}function f(_,g,E,S){return g===null||g.tag!==6?(g=Xc(E,_.mode,S),g.return=_,g):(g=o(g,E),g.return=_,g)}function p(_,g,E,S){var k=E.type;return k===fa?h(_,g,E.props.children,S,E.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ti&&Yh(k)===g.type)?(S=o(g,E.props),S.ref=co(_,g,E),S.return=_,S):(S=Cl(E.type,E.key,E.props,null,_.mode,S),S.ref=co(_,g,E),S.return=_,S)}function v(_,g,E,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=Qc(E,_.mode,S),g.return=_,g):(g=o(g,E.children||[]),g.return=_,g)}function h(_,g,E,S,k){return g===null||g.tag!==7?(g=Fi(E,_.mode,S,k),g.return=_,g):(g=o(g,E),g.return=_,g)}function C(_,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Xc(""+g,_.mode,E),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gs:return E=Cl(g.type,g.key,g.props,null,_.mode,E),E.ref=co(_,null,g),E.return=_,E;case da:return g=Qc(g,_.mode,E),g.return=_,g;case ti:var S=g._init;return C(_,S(g._payload),E)}if(ho(g)||ao(g))return g=Fi(g,_.mode,E,null),g.return=_,g;il(_,g)}return null}function A(_,g,E,S){var k=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:f(_,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gs:return E.key===k?p(_,g,E,S):null;case da:return E.key===k?v(_,g,E,S):null;case ti:return k=E._init,A(_,g,k(E._payload),S)}if(ho(E)||ao(E))return k!==null?null:h(_,g,E,S,null);il(_,E)}return null}function w(_,g,E,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(E)||null,f(g,_,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gs:return _=_.get(S.key===null?E:S.key)||null,p(g,_,S,k);case da:return _=_.get(S.key===null?E:S.key)||null,v(g,_,S,k);case ti:var I=S._init;return w(_,g,E,I(S._payload),k)}if(ho(S)||ao(S))return _=_.get(E)||null,h(g,_,S,k,null);il(g,S)}return null}function N(_,g,E,S){for(var k=null,I=null,L=g,T=g=0,q=null;L!==null&&T<E.length;T++){L.index>T?(q=L,L=null):q=L.sibling;var U=A(_,L,E[T],S);if(U===null){L===null&&(L=q);break}e&&L&&U.alternate===null&&n(_,L),g=u(U,g,T),I===null?k=U:I.sibling=U,I=U,L=q}if(T===E.length)return r(_,L),sn&&Di(_,T),k;if(L===null){for(;T<E.length;T++)L=C(_,E[T],S),L!==null&&(g=u(L,g,T),I===null?k=L:I.sibling=L,I=L);return sn&&Di(_,T),k}for(L=a(_,L);T<E.length;T++)q=w(L,_,T,E[T],S),q!==null&&(e&&q.alternate!==null&&L.delete(q.key===null?T:q.key),g=u(q,g,T),I===null?k=q:I.sibling=q,I=q);return e&&L.forEach(function(Z){return n(_,Z)}),sn&&Di(_,T),k}function j(_,g,E,S){var k=ao(E);if(typeof k!="function")throw Error(X(150));if(E=k.call(E),E==null)throw Error(X(151));for(var I=k=null,L=g,T=g=0,q=null,U=E.next();L!==null&&!U.done;T++,U=E.next()){L.index>T?(q=L,L=null):q=L.sibling;var Z=A(_,L,U.value,S);if(Z===null){L===null&&(L=q);break}e&&L&&Z.alternate===null&&n(_,L),g=u(Z,g,T),I===null?k=Z:I.sibling=Z,I=Z,L=q}if(U.done)return r(_,L),sn&&Di(_,T),k;if(L===null){for(;!U.done;T++,U=E.next())U=C(_,U.value,S),U!==null&&(g=u(U,g,T),I===null?k=U:I.sibling=U,I=U);return sn&&Di(_,T),k}for(L=a(_,L);!U.done;T++,U=E.next())U=w(L,_,T,U.value,S),U!==null&&(e&&U.alternate!==null&&L.delete(U.key===null?T:U.key),g=u(U,g,T),I===null?k=U:I.sibling=U,I=U);return e&&L.forEach(function(te){return n(_,te)}),sn&&Di(_,T),k}function D(_,g,E,S){if(typeof E=="object"&&E!==null&&E.type===fa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Gs:e:{for(var k=E.key,I=g;I!==null;){if(I.key===k){if(k=E.type,k===fa){if(I.tag===7){r(_,I.sibling),g=o(I,E.props.children),g.return=_,_=g;break e}}else if(I.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ti&&Yh(k)===I.type){r(_,I.sibling),g=o(I,E.props),g.ref=co(_,I,E),g.return=_,_=g;break e}r(_,I);break}else n(_,I);I=I.sibling}E.type===fa?(g=Fi(E.props.children,_.mode,S,E.key),g.return=_,_=g):(S=Cl(E.type,E.key,E.props,null,_.mode,S),S.ref=co(_,g,E),S.return=_,_=S)}return c(_);case da:e:{for(I=E.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){r(_,g.sibling),g=o(g,E.children||[]),g.return=_,_=g;break e}else{r(_,g);break}else n(_,g);g=g.sibling}g=Qc(E,_.mode,S),g.return=_,_=g}return c(_);case ti:return I=E._init,D(_,g,I(E._payload),S)}if(ho(E))return N(_,g,E,S);if(ao(E))return j(_,g,E,S);il(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(r(_,g.sibling),g=o(g,E),g.return=_,_=g):(r(_,g),g=Xc(E,_.mode,S),g.return=_,_=g),c(_)):r(_,g)}return D}var Da=q0(!0),$0=q0(!1),Ll=xi(null),Bl=null,_a=null,_f=null;function Cf(){_f=_a=Bl=null}function Ef(e){var n=Ll.current;nn(Ll),e._currentValue=n}function Pd(e,n,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===r)break;e=e.return}}function Ra(e,n){Bl=e,_f=_a=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(vt=!0),e.firstContext=null)}function Jt(e){var n=e._currentValue;if(_f!==e)if(e={context:e,memoizedValue:n,next:null},_a===null){if(Bl===null)throw Error(X(308));_a=e,Bl.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return n}var Oi=null;function wf(e){Oi===null?Oi=[e]:Oi.push(e)}function H0(e,n,r,a){var o=n.interleaved;return o===null?(r.next=r,wf(n)):(r.next=o.next,o.next=r),n.interleaved=r,qr(e,a)}function qr(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ri=!1;function Sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V0(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function fi(e,n,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Oe&2){var o=a.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),a.pending=n,qr(e,r)}return o=a.interleaved,o===null?(n.next=n,wf(a)):(n.next=o.next,o.next=n),a.interleaved=n,qr(e,r)}function hl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,r|=a,n.lanes=r,uf(e,r)}}function Zh(e,n){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var o=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?o=u=c:u=u.next=c,r=r.next}while(r!==null);u===null?o=u=n:u=u.next=n}else o=u=n;r={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function zl(e,n,r,a){var o=e.updateQueue;ri=!1;var u=o.firstBaseUpdate,c=o.lastBaseUpdate,f=o.shared.pending;if(f!==null){o.shared.pending=null;var p=f,v=p.next;p.next=null,c===null?u=v:c.next=v,c=p;var h=e.alternate;h!==null&&(h=h.updateQueue,f=h.lastBaseUpdate,f!==c&&(f===null?h.firstBaseUpdate=v:f.next=v,h.lastBaseUpdate=p))}if(u!==null){var C=o.baseState;c=0,h=v=p=null,f=u;do{var A=f.lane,w=f.eventTime;if((a&A)===A){h!==null&&(h=h.next={eventTime:w,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var N=e,j=f;switch(A=n,w=r,j.tag){case 1:if(N=j.payload,typeof N=="function"){C=N.call(w,C,A);break e}C=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,A=typeof N=="function"?N.call(w,C,A):N,A==null)break e;C=fn({},C,A);break e;case 2:ri=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,A=o.effects,A===null?o.effects=[f]:A.push(f))}else w={eventTime:w,lane:A,tag:f.tag,payload:f.payload,callback:f.callback,next:null},h===null?(v=h=w,p=C):h=h.next=w,c|=A;if(f=f.next,f===null){if(f=o.shared.pending,f===null)break;A=f,f=A.next,A.next=null,o.lastBaseUpdate=A,o.shared.pending=null}}while(1);if(h===null&&(p=C),o.baseState=p,o.firstBaseUpdate=v,o.lastBaseUpdate=h,n=o.shared.interleaved,n!==null){o=n;do c|=o.lane,o=o.next;while(o!==n)}else u===null&&(o.shared.lanes=0);Hi|=c,e.lanes=c,e.memoizedState=C}}function Jh(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],o=a.callback;if(o!==null){if(a.callback=null,a=r,typeof o!="function")throw Error(X(191,o));o.call(a)}}}var Yo={},jr=xi(Yo),Uo=xi(Yo),qo=xi(Yo);function Li(e){if(e===Yo)throw Error(X(174));return e}function jf(e,n){switch(Ye(qo,n),Ye(Uo,e),Ye(jr,Yo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:fd(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=fd(n,e)}nn(jr),Ye(jr,n)}function Ta(){nn(jr),nn(Uo),nn(qo)}function W0(e){Li(qo.current);var n=Li(jr.current),r=fd(n,e.type);n!==r&&(Ye(Uo,e),Ye(jr,r))}function Nf(e){Uo.current===e&&(nn(jr),nn(Uo))}var cn=xi(0);function Fl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $c=[];function Af(){for(var e=0;e<$c.length;e++)$c[e]._workInProgressVersionPrimary=null;$c.length=0}var gl=Hr.ReactCurrentDispatcher,Hc=Hr.ReactCurrentBatchConfig,$i=0,dn=null,An=null,bn=null,Ul=!1,jo=!1,$o=0,Qj=0;function Un(){throw Error(X(321))}function Rf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!pr(e[r],n[r]))return!1;return!0}function kf(e,n,r,a,o,u){if($i=u,dn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,gl.current=e===null||e.memoizedState===null?eN:nN,e=r(a,o),jo){u=0;do{if(jo=!1,$o=0,25<=u)throw Error(X(301));u+=1,bn=An=null,n.updateQueue=null,gl.current=tN,e=r(a,o)}while(jo)}if(gl.current=ql,n=An!==null&&An.next!==null,$i=0,bn=An=dn=null,Ul=!1,n)throw Error(X(300));return e}function bf(){var e=$o!==0;return $o=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?dn.memoizedState=bn=e:bn=bn.next=e,bn}function er(){if(An===null){var e=dn.alternate;e=e!==null?e.memoizedState:null}else e=An.next;var n=bn===null?dn.memoizedState:bn.next;if(n!==null)bn=n,An=e;else{if(e===null)throw Error(X(310));An=e,e={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},bn===null?dn.memoizedState=bn=e:bn=bn.next=e}return bn}function Ho(e,n){return typeof n=="function"?n(e):n}function Vc(e){var n=er(),r=n.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var a=An,o=a.baseQueue,u=r.pending;if(u!==null){if(o!==null){var c=o.next;o.next=u.next,u.next=c}a.baseQueue=o=u,r.pending=null}if(o!==null){u=o.next,a=a.baseState;var f=c=null,p=null,v=u;do{var h=v.lane;if(($i&h)===h)p!==null&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),a=v.hasEagerState?v.eagerState:e(a,v.action);else{var C={lane:h,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};p===null?(f=p=C,c=a):p=p.next=C,dn.lanes|=h,Hi|=h}v=v.next}while(v!==null&&v!==u);p===null?c=a:p.next=f,pr(a,n.memoizedState)||(vt=!0),n.memoizedState=a,n.baseState=c,n.baseQueue=p,r.lastRenderedState=a}if(e=r.interleaved,e!==null){o=e;do u=o.lane,dn.lanes|=u,Hi|=u,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Wc(e){var n=er(),r=n.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var a=r.dispatch,o=r.pending,u=n.memoizedState;if(o!==null){r.pending=null;var c=o=o.next;do u=e(u,c.action),c=c.next;while(c!==o);pr(u,n.memoizedState)||(vt=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),r.lastRenderedState=u}return[u,a]}function G0(){}function K0(e,n){var r=dn,a=er(),o=n(),u=!pr(a.memoizedState,o);if(u&&(a.memoizedState=o,vt=!0),a=a.queue,Mf(Y0.bind(null,r,a,e),[e]),a.getSnapshot!==n||u||bn!==null&&bn.memoizedState.tag&1){if(r.flags|=2048,Vo(9,Q0.bind(null,r,a,o,n),void 0,null),Mn===null)throw Error(X(349));$i&30||X0(r,n,o)}return o}function X0(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=dn.updateQueue,n===null?(n={lastEffect:null,stores:null},dn.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Q0(e,n,r,a){n.value=r,n.getSnapshot=a,Z0(n)&&J0(e)}function Y0(e,n,r){return r(function(){Z0(n)&&J0(e)})}function Z0(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!pr(e,r)}catch{return!0}}function J0(e){var n=qr(e,1);n!==null&&fr(n,e,1,-1)}function eg(e){var n=Er();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},n.queue=e,e=e.dispatch=Jj.bind(null,dn,e),[n.memoizedState,e]}function Vo(e,n,r,a){return e={tag:e,create:n,destroy:r,deps:a,next:null},n=dn.updateQueue,n===null?(n={lastEffect:null,stores:null},dn.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,n.lastEffect=e)),e}function ev(){return er().memoizedState}function vl(e,n,r,a){var o=Er();dn.flags|=e,o.memoizedState=Vo(1|n,r,void 0,a===void 0?null:a)}function nu(e,n,r,a){var o=er();a=a===void 0?null:a;var u=void 0;if(An!==null){var c=An.memoizedState;if(u=c.destroy,a!==null&&Rf(a,c.deps)){o.memoizedState=Vo(n,r,u,a);return}}dn.flags|=e,o.memoizedState=Vo(1|n,r,u,a)}function ng(e,n){return vl(8390656,8,e,n)}function Mf(e,n){return nu(2048,8,e,n)}function nv(e,n){return nu(4,2,e,n)}function tv(e,n){return nu(4,4,e,n)}function rv(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function iv(e,n,r){return r=r!=null?r.concat([e]):null,nu(4,4,rv.bind(null,n,e),r)}function Pf(){}function av(e,n){var r=er();n=n===void 0?null:n;var a=r.memoizedState;return a!==null&&n!==null&&Rf(n,a[1])?a[0]:(r.memoizedState=[e,n],e)}function ov(e,n){var r=er();n=n===void 0?null:n;var a=r.memoizedState;return a!==null&&n!==null&&Rf(n,a[1])?a[0]:(e=e(),r.memoizedState=[e,n],e)}function sv(e,n,r){return $i&21?(pr(r,n)||(r=f0(),dn.lanes|=r,Hi|=r,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=r)}function Yj(e,n){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var a=Hc.transition;Hc.transition={};try{e(!1),n()}finally{$e=r,Hc.transition=a}}function lv(){return er().memoizedState}function Zj(e,n,r){var a=mi(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},uv(e))cv(n,r);else if(r=H0(e,n,r,a),r!==null){var o=it();fr(r,e,a,o),dv(r,n,a)}}function Jj(e,n,r){var a=mi(e),o={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(uv(e))cv(n,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var c=n.lastRenderedState,f=u(c,r);if(o.hasEagerState=!0,o.eagerState=f,pr(f,c)){var p=n.interleaved;p===null?(o.next=o,wf(n)):(o.next=p.next,p.next=o),n.interleaved=o;return}}catch{}finally{}r=H0(e,n,o,a),r!==null&&(o=it(),fr(r,e,a,o),dv(r,n,a))}}function uv(e){var n=e.alternate;return e===dn||n!==null&&n===dn}function cv(e,n){jo=Ul=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function dv(e,n,r){if(r&4194240){var a=n.lanes;a&=e.pendingLanes,r|=a,n.lanes=r,uf(e,r)}}var ql={readContext:Jt,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},eN={readContext:Jt,useCallback:function(e,n){return Er().memoizedState=[e,n===void 0?null:n],e},useContext:Jt,useEffect:ng,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,vl(4194308,4,rv.bind(null,n,e),r)},useLayoutEffect:function(e,n){return vl(4194308,4,e,n)},useInsertionEffect:function(e,n){return vl(4,2,e,n)},useMemo:function(e,n){var r=Er();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var a=Er();return n=r!==void 0?r(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Zj.bind(null,dn,e),[a.memoizedState,e]},useRef:function(e){var n=Er();return e={current:e},n.memoizedState=e},useState:eg,useDebugValue:Pf,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=eg(!1),n=e[0];return e=Yj.bind(null,e[1]),Er().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var a=dn,o=Er();if(sn){if(r===void 0)throw Error(X(407));r=r()}else{if(r=n(),Mn===null)throw Error(X(349));$i&30||X0(a,n,r)}o.memoizedState=r;var u={value:r,getSnapshot:n};return o.queue=u,ng(Y0.bind(null,a,u,e),[e]),a.flags|=2048,Vo(9,Q0.bind(null,a,u,r,n),void 0,null),r},useId:function(){var e=Er(),n=Mn.identifierPrefix;if(sn){var r=Br,a=Lr;r=(a&~(1<<32-dr(a)-1)).toString(32)+r,n=":"+n+"R"+r,r=$o++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Qj++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},nN={readContext:Jt,useCallback:av,useContext:Jt,useEffect:Mf,useImperativeHandle:iv,useInsertionEffect:nv,useLayoutEffect:tv,useMemo:ov,useReducer:Vc,useRef:ev,useState:function(){return Vc(Ho)},useDebugValue:Pf,useDeferredValue:function(e){var n=er();return sv(n,An.memoizedState,e)},useTransition:function(){var e=Vc(Ho)[0],n=er().memoizedState;return[e,n]},useMutableSource:G0,useSyncExternalStore:K0,useId:lv,unstable_isNewReconciler:!1},tN={readContext:Jt,useCallback:av,useContext:Jt,useEffect:Mf,useImperativeHandle:iv,useInsertionEffect:nv,useLayoutEffect:tv,useMemo:ov,useReducer:Wc,useRef:ev,useState:function(){return Wc(Ho)},useDebugValue:Pf,useDeferredValue:function(e){var n=er();return An===null?n.memoizedState=e:sv(n,An.memoizedState,e)},useTransition:function(){var e=Wc(Ho)[0],n=er().memoizedState;return[e,n]},useMutableSource:G0,useSyncExternalStore:K0,useId:lv,unstable_isNewReconciler:!1};function lr(e,n){if(e&&e.defaultProps){n=fn({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Dd(e,n,r,a){n=e.memoizedState,r=r(a,n),r=r==null?n:fn({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tu={isMounted:function(e){return(e=e._reactInternals)?Gi(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var a=it(),o=mi(e),u=zr(a,o);u.payload=n,r!=null&&(u.callback=r),n=fi(e,u,o),n!==null&&(fr(n,e,o,a),hl(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var a=it(),o=mi(e),u=zr(a,o);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=fi(e,u,o),n!==null&&(fr(n,e,o,a),hl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=it(),a=mi(e),o=zr(r,a);o.tag=2,n!=null&&(o.callback=n),n=fi(e,o,a),n!==null&&(fr(n,e,a,r),hl(n,e,a))}};function tg(e,n,r,a,o,u,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,c):n.prototype&&n.prototype.isPureReactComponent?!Lo(r,a)||!Lo(o,u):!0}function fv(e,n,r){var a=!1,o=vi,u=n.contextType;return typeof u=="object"&&u!==null?u=Jt(u):(o=xt(n)?Ui:Hn.current,a=n.contextTypes,u=(a=a!=null)?Ma(e,o):vi),n=new n(r,u),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=tu,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),n}function rg(e,n,r,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,a),n.state!==e&&tu.enqueueReplaceState(n,n.state,null)}function Td(e,n,r,a){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Sf(e);var u=n.contextType;typeof u=="object"&&u!==null?o.context=Jt(u):(u=xt(n)?Ui:Hn.current,o.context=Ma(e,u)),o.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Dd(e,n,u,r),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(n=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),n!==o.state&&tu.enqueueReplaceState(o,o.state,null),zl(e,r,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ia(e,n){try{var r="",a=n;do r+=bS(a),a=a.return;while(a);var o=r}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:n,stack:o,digest:null}}function Gc(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function Id(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var rN=typeof WeakMap=="function"?WeakMap:Map;function pv(e,n,r){r=zr(-1,r),r.tag=3,r.payload={element:null};var a=n.value;return r.callback=function(){Hl||(Hl=!0,Vd=a),Id(e,n)},r}function mv(e,n,r){r=zr(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=n.value;r.payload=function(){return a(o)},r.callback=function(){Id(e,n)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){Id(e,n),typeof a!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var c=n.stack;this.componentDidCatch(n.value,{componentStack:c!==null?c:""})}),r}function ig(e,n,r){var a=e.pingCache;if(a===null){a=e.pingCache=new rN;var o=new Set;a.set(n,o)}else o=a.get(n),o===void 0&&(o=new Set,a.set(n,o));o.has(r)||(o.add(r),e=vN.bind(null,e,n,r),n.then(e,e))}function ag(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function og(e,n,r,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=zr(-1,1),n.tag=2,fi(r,n,1))),r.lanes|=1),e)}var iN=Hr.ReactCurrentOwner,vt=!1;function rt(e,n,r,a){n.child=e===null?$0(n,null,r,a):Da(n,e.child,r,a)}function sg(e,n,r,a,o){r=r.render;var u=n.ref;return Ra(n,o),a=kf(e,n,r,a,u,o),r=bf(),e!==null&&!vt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,$r(e,n,o)):(sn&&r&&vf(n),n.flags|=1,rt(e,n,a,o),n.child)}function lg(e,n,r,a,o){if(e===null){var u=r.type;return typeof u=="function"&&!Ff(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=u,hv(e,n,u,a,o)):(e=Cl(r.type,null,a,n,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,!(e.lanes&o)){var c=u.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(c,a)&&e.ref===n.ref)return $r(e,n,o)}return n.flags|=1,e=hi(u,a),e.ref=n.ref,e.return=n,n.child=e}function hv(e,n,r,a,o){if(e!==null){var u=e.memoizedProps;if(Lo(u,a)&&e.ref===n.ref)if(vt=!1,n.pendingProps=a=u,(e.lanes&o)!==0)e.flags&131072&&(vt=!0);else return n.lanes=e.lanes,$r(e,n,o)}return Od(e,n,r,a,o)}function gv(e,n,r){var a=n.pendingProps,o=a.children,u=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ea,bt),bt|=r;else{if(!(r&1073741824))return e=u!==null?u.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ye(Ea,bt),bt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=u!==null?u.baseLanes:r,Ye(Ea,bt),bt|=a}else u!==null?(a=u.baseLanes|r,n.memoizedState=null):a=r,Ye(Ea,bt),bt|=a;return rt(e,n,o,r),n.child}function vv(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function Od(e,n,r,a,o){var u=xt(r)?Ui:Hn.current;return u=Ma(n,u),Ra(n,o),r=kf(e,n,r,a,u,o),a=bf(),e!==null&&!vt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,$r(e,n,o)):(sn&&a&&vf(n),n.flags|=1,rt(e,n,r,o),n.child)}function ug(e,n,r,a,o){if(xt(r)){var u=!0;Tl(n)}else u=!1;if(Ra(n,o),n.stateNode===null)yl(e,n),fv(n,r,a),Td(n,r,a,o),a=!0;else if(e===null){var c=n.stateNode,f=n.memoizedProps;c.props=f;var p=c.context,v=r.contextType;typeof v=="object"&&v!==null?v=Jt(v):(v=xt(r)?Ui:Hn.current,v=Ma(n,v));var h=r.getDerivedStateFromProps,C=typeof h=="function"||typeof c.getSnapshotBeforeUpdate=="function";C||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==a||p!==v)&&rg(n,c,a,v),ri=!1;var A=n.memoizedState;c.state=A,zl(n,a,c,o),p=n.memoizedState,f!==a||A!==p||yt.current||ri?(typeof h=="function"&&(Dd(n,r,h,a),p=n.memoizedState),(f=ri||tg(n,r,f,a,A,p,v))?(C||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(n.flags|=4194308)):(typeof c.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=p),c.props=a,c.state=p,c.context=v,a=f):(typeof c.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{c=n.stateNode,V0(e,n),f=n.memoizedProps,v=n.type===n.elementType?f:lr(n.type,f),c.props=v,C=n.pendingProps,A=c.context,p=r.contextType,typeof p=="object"&&p!==null?p=Jt(p):(p=xt(r)?Ui:Hn.current,p=Ma(n,p));var w=r.getDerivedStateFromProps;(h=typeof w=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==C||A!==p)&&rg(n,c,a,p),ri=!1,A=n.memoizedState,c.state=A,zl(n,a,c,o);var N=n.memoizedState;f!==C||A!==N||yt.current||ri?(typeof w=="function"&&(Dd(n,r,w,a),N=n.memoizedState),(v=ri||tg(n,r,v,a,A,N,p)||!1)?(h||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,N,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,N,p)),typeof c.componentDidUpdate=="function"&&(n.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=N),c.props=a,c.state=N,c.context=p,a=v):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),a=!1)}return Ld(e,n,r,a,u,o)}function Ld(e,n,r,a,o,u){vv(e,n);var c=(n.flags&128)!==0;if(!a&&!c)return o&&Kh(n,r,!1),$r(e,n,u);a=n.stateNode,iN.current=n;var f=c&&typeof r.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&c?(n.child=Da(n,e.child,null,u),n.child=Da(n,null,f,u)):rt(e,n,f,u),n.memoizedState=a.state,o&&Kh(n,r,!0),n.child}function yv(e){var n=e.stateNode;n.pendingContext?Gh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Gh(e,n.context,!1),jf(e,n.containerInfo)}function cg(e,n,r,a,o){return Pa(),xf(o),n.flags|=256,rt(e,n,r,a),n.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function zd(e){return{baseLanes:e,cachePool:null,transitions:null}}function xv(e,n,r){var a=n.pendingProps,o=cn.current,u=!1,c=(n.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(u=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ye(cn,o&1),e===null)return Md(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(c=a.children,e=a.fallback,u?(a=n.mode,u=n.child,c={mode:"hidden",children:c},!(a&1)&&u!==null?(u.childLanes=0,u.pendingProps=c):u=au(c,a,0,null),e=Fi(e,a,r,null),u.return=n,e.return=n,u.sibling=e,n.child=u,n.child.memoizedState=zd(r),n.memoizedState=Bd,e):Df(n,c));if(o=e.memoizedState,o!==null&&(f=o.dehydrated,f!==null))return aN(e,n,c,a,f,o,r);if(u){u=a.fallback,c=n.mode,o=e.child,f=o.sibling;var p={mode:"hidden",children:a.children};return!(c&1)&&n.child!==o?(a=n.child,a.childLanes=0,a.pendingProps=p,n.deletions=null):(a=hi(o,p),a.subtreeFlags=o.subtreeFlags&14680064),f!==null?u=hi(f,u):(u=Fi(u,c,r,null),u.flags|=2),u.return=n,a.return=n,a.sibling=u,n.child=a,a=u,u=n.child,c=e.child.memoizedState,c=c===null?zd(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},u.memoizedState=c,u.childLanes=e.childLanes&~r,n.memoizedState=Bd,a}return u=e.child,e=u.sibling,a=hi(u,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=r),a.return=n,a.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=a,n.memoizedState=null,a}function Df(e,n){return n=au({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function al(e,n,r,a){return a!==null&&xf(a),Da(n,e.child,null,r),e=Df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function aN(e,n,r,a,o,u,c){if(r)return n.flags&256?(n.flags&=-257,a=Gc(Error(X(422))),al(e,n,c,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(u=a.fallback,o=n.mode,a=au({mode:"visible",children:a.children},o,0,null),u=Fi(u,o,c,null),u.flags|=2,a.return=n,u.return=n,a.sibling=u,n.child=a,n.mode&1&&Da(n,e.child,null,c),n.child.memoizedState=zd(c),n.memoizedState=Bd,u);if(!(n.mode&1))return al(e,n,c,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var f=a.dgst;return a=f,u=Error(X(419)),a=Gc(u,a,void 0),al(e,n,c,a)}if(f=(c&e.childLanes)!==0,vt||f){if(a=Mn,a!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|c)?0:o,o!==0&&o!==u.retryLane&&(u.retryLane=o,qr(e,o),fr(a,e,o,-1))}return zf(),a=Gc(Error(X(421))),al(e,n,c,a)}return o.data==="$?"?(n.flags|=128,n.child=e.child,n=yN.bind(null,e),o._reactRetry=n,null):(e=u.treeContext,Mt=di(o.nextSibling),Pt=n,sn=!0,cr=null,e!==null&&(Xt[Qt++]=Lr,Xt[Qt++]=Br,Xt[Qt++]=qi,Lr=e.id,Br=e.overflow,qi=n),n=Df(n,a.children),n.flags|=4096,n)}function dg(e,n,r){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Pd(e.return,n,r)}function Kc(e,n,r,a,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:o}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=r,u.tailMode=o)}function _v(e,n,r){var a=n.pendingProps,o=a.revealOrder,u=a.tail;if(rt(e,n,a.children,r),a=cn.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dg(e,r,n);else if(e.tag===19)dg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ye(cn,a),!(n.mode&1))n.memoizedState=null;else switch(o){case"forwards":for(r=n.child,o=null;r!==null;)e=r.alternate,e!==null&&Fl(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=n.child,n.child=null):(o=r.sibling,r.sibling=null),Kc(n,!1,o,r,u);break;case"backwards":for(r=null,o=n.child,n.child=null;o!==null;){if(e=o.alternate,e!==null&&Fl(e)===null){n.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Kc(n,!0,r,null,u);break;case"together":Kc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function yl(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function $r(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Hi|=n.lanes,!(r&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(X(153));if(n.child!==null){for(e=n.child,r=hi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=hi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function oN(e,n,r){switch(n.tag){case 3:yv(n),Pa();break;case 5:W0(n);break;case 1:xt(n.type)&&Tl(n);break;case 4:jf(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,o=n.memoizedProps.value;Ye(Ll,a._currentValue),a._currentValue=o;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Ye(cn,cn.current&1),n.flags|=128,null):r&n.child.childLanes?xv(e,n,r):(Ye(cn,cn.current&1),e=$r(e,n,r),e!==null?e.sibling:null);Ye(cn,cn.current&1);break;case 19:if(a=(r&n.childLanes)!==0,e.flags&128){if(a)return _v(e,n,r);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ye(cn,cn.current),a)break;return null;case 22:case 23:return n.lanes=0,gv(e,n,r)}return $r(e,n,r)}var Cv,Fd,Ev,wv;Cv=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fd=function(){};Ev=function(e,n,r,a){var o=e.memoizedProps;if(o!==a){e=n.stateNode,Li(jr.current);var u=null;switch(r){case"input":o=ld(e,o),a=ld(e,a),u=[];break;case"select":o=fn({},o,{value:void 0}),a=fn({},a,{value:void 0}),u=[];break;case"textarea":o=dd(e,o),a=dd(e,a),u=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Pl)}pd(r,a);var c;r=null;for(v in o)if(!a.hasOwnProperty(v)&&o.hasOwnProperty(v)&&o[v]!=null)if(v==="style"){var f=o[v];for(c in f)f.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(bo.hasOwnProperty(v)?u||(u=[]):(u=u||[]).push(v,null));for(v in a){var p=a[v];if(f=o!=null?o[v]:void 0,a.hasOwnProperty(v)&&p!==f&&(p!=null||f!=null))if(v==="style")if(f){for(c in f)!f.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in p)p.hasOwnProperty(c)&&f[c]!==p[c]&&(r||(r={}),r[c]=p[c])}else r||(u||(u=[]),u.push(v,r)),r=p;else v==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(u=u||[]).push(v,p)):v==="children"?typeof p!="string"&&typeof p!="number"||(u=u||[]).push(v,""+p):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(bo.hasOwnProperty(v)?(p!=null&&v==="onScroll"&&en("scroll",e),u||f===p||(u=[])):(u=u||[]).push(v,p))}r&&(u=u||[]).push("style",r);var v=u;(n.updateQueue=v)&&(n.flags|=4)}};wv=function(e,n,r,a){r!==a&&(n.flags|=4)};function fo(e,n){if(!sn)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function qn(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(n)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=r,n}function sN(e,n,r){var a=n.pendingProps;switch(yf(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(n),null;case 1:return xt(n.type)&&Dl(),qn(n),null;case 3:return a=n.stateNode,Ta(),nn(yt),nn(Hn),Af(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(rl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,cr!==null&&(Kd(cr),cr=null))),Fd(e,n),qn(n),null;case 5:Nf(n);var o=Li(qo.current);if(r=n.type,e!==null&&n.stateNode!=null)Ev(e,n,r,a,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(X(166));return qn(n),null}if(e=Li(jr.current),rl(n)){a=n.stateNode,r=n.type;var u=n.memoizedProps;switch(a[wr]=n,a[Fo]=u,e=(n.mode&1)!==0,r){case"dialog":en("cancel",a),en("close",a);break;case"iframe":case"object":case"embed":en("load",a);break;case"video":case"audio":for(o=0;o<vo.length;o++)en(vo[o],a);break;case"source":en("error",a);break;case"img":case"image":case"link":en("error",a),en("load",a);break;case"details":en("toggle",a);break;case"input":_h(a,u),en("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!u.multiple},en("invalid",a);break;case"textarea":Eh(a,u),en("invalid",a)}pd(r,u),o=null;for(var c in u)if(u.hasOwnProperty(c)){var f=u[c];c==="children"?typeof f=="string"?a.textContent!==f&&(u.suppressHydrationWarning!==!0&&tl(a.textContent,f,e),o=["children",f]):typeof f=="number"&&a.textContent!==""+f&&(u.suppressHydrationWarning!==!0&&tl(a.textContent,f,e),o=["children",""+f]):bo.hasOwnProperty(c)&&f!=null&&c==="onScroll"&&en("scroll",a)}switch(r){case"input":Ks(a),Ch(a,u,!0);break;case"textarea":Ks(a),wh(a);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(a.onclick=Pl)}a=o,n.updateQueue=a,a!==null&&(n.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=c.createElement(r,{is:a.is}):(e=c.createElement(r),r==="select"&&(c=e,a.multiple?c.multiple=!0:a.size&&(c.size=a.size))):e=c.createElementNS(e,r),e[wr]=n,e[Fo]=a,Cv(e,n,!1,!1),n.stateNode=e;e:{switch(c=md(r,a),r){case"dialog":en("cancel",e),en("close",e),o=a;break;case"iframe":case"object":case"embed":en("load",e),o=a;break;case"video":case"audio":for(o=0;o<vo.length;o++)en(vo[o],e);o=a;break;case"source":en("error",e),o=a;break;case"img":case"image":case"link":en("error",e),en("load",e),o=a;break;case"details":en("toggle",e),o=a;break;case"input":_h(e,a),o=ld(e,a),en("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=fn({},a,{value:void 0}),en("invalid",e);break;case"textarea":Eh(e,a),o=dd(e,a),en("invalid",e);break;default:o=a}pd(r,o),f=o;for(u in f)if(f.hasOwnProperty(u)){var p=f[u];u==="style"?e0(e,p):u==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Zg(e,p)):u==="children"?typeof p=="string"?(r!=="textarea"||p!=="")&&Mo(e,p):typeof p=="number"&&Mo(e,""+p):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bo.hasOwnProperty(u)?p!=null&&u==="onScroll"&&en("scroll",e):p!=null&&tf(e,u,p,c))}switch(r){case"input":Ks(e),Ch(e,a,!1);break;case"textarea":Ks(e),wh(e);break;case"option":a.value!=null&&e.setAttribute("value",""+gi(a.value));break;case"select":e.multiple=!!a.multiple,u=a.value,u!=null?Sa(e,!!a.multiple,u,!1):a.defaultValue!=null&&Sa(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Pl)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return qn(n),null;case 6:if(e&&n.stateNode!=null)wv(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(X(166));if(r=Li(qo.current),Li(jr.current),rl(n)){if(a=n.stateNode,r=n.memoizedProps,a[wr]=n,(u=a.nodeValue!==r)&&(e=Pt,e!==null))switch(e.tag){case 3:tl(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tl(a.nodeValue,r,(e.mode&1)!==0)}u&&(n.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[wr]=n,n.stateNode=a}return qn(n),null;case 13:if(nn(cn),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sn&&Mt!==null&&n.mode&1&&!(n.flags&128))U0(),Pa(),n.flags|=98560,u=!1;else if(u=rl(n),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(X(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(X(317));u[wr]=n}else Pa(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;qn(n),u=!1}else cr!==null&&(Kd(cr),cr=null),u=!0;if(!u)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||cn.current&1?Rn===0&&(Rn=3):zf())),n.updateQueue!==null&&(n.flags|=4),qn(n),null);case 4:return Ta(),Fd(e,n),e===null&&Bo(n.stateNode.containerInfo),qn(n),null;case 10:return Ef(n.type._context),qn(n),null;case 17:return xt(n.type)&&Dl(),qn(n),null;case 19:if(nn(cn),u=n.memoizedState,u===null)return qn(n),null;if(a=(n.flags&128)!==0,c=u.rendering,c===null)if(a)fo(u,!1);else{if(Rn!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(c=Fl(e),c!==null){for(n.flags|=128,fo(u,!1),a=c.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=r,r=n.child;r!==null;)u=r,e=a,u.flags&=14680066,c=u.alternate,c===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ye(cn,cn.current&1|2),n.child}e=e.sibling}u.tail!==null&&_n()>Oa&&(n.flags|=128,a=!0,fo(u,!1),n.lanes=4194304)}else{if(!a)if(e=Fl(c),e!==null){if(n.flags|=128,a=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),fo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!c.alternate&&!sn)return qn(n),null}else 2*_n()-u.renderingStartTime>Oa&&r!==1073741824&&(n.flags|=128,a=!0,fo(u,!1),n.lanes=4194304);u.isBackwards?(c.sibling=n.child,n.child=c):(r=u.last,r!==null?r.sibling=c:n.child=c,u.last=c)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=_n(),n.sibling=null,r=cn.current,Ye(cn,a?r&1|2:r&1),n):(qn(n),null);case 22:case 23:return Bf(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?bt&1073741824&&(qn(n),n.subtreeFlags&6&&(n.flags|=8192)):qn(n),null;case 24:return null;case 25:return null}throw Error(X(156,n.tag))}function lN(e,n){switch(yf(n),n.tag){case 1:return xt(n.type)&&Dl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ta(),nn(yt),nn(Hn),Af(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Nf(n),null;case 13:if(nn(cn),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(X(340));Pa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return nn(cn),null;case 4:return Ta(),null;case 10:return Ef(n.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var ol=!1,$n=!1,uN=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ca(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){gn(e,n,a)}else r.current=null}function Ud(e,n,r){try{r()}catch(a){gn(e,n,a)}}var fg=!1;function cN(e,n){if(Sd=kl,e=R0(),gf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var o=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var c=0,f=-1,p=-1,v=0,h=0,C=e,A=null;n:for(;;){for(var w;C!==r||o!==0&&C.nodeType!==3||(f=c+o),C!==u||a!==0&&C.nodeType!==3||(p=c+a),C.nodeType===3&&(c+=C.nodeValue.length),(w=C.firstChild)!==null;)A=C,C=w;for(;;){if(C===e)break n;if(A===r&&++v===o&&(f=c),A===u&&++h===a&&(p=c),(w=C.nextSibling)!==null)break;C=A,A=C.parentNode}C=w}r=f===-1||p===-1?null:{start:f,end:p}}else r=null}r=r||{start:0,end:0}}else r=null;for(jd={focusedElem:e,selectionRange:r},kl=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){n=se;try{var N=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,D=N.memoizedState,_=n.stateNode,g=_.getSnapshotBeforeUpdate(n.elementType===n.type?j:lr(n.type,j),D);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=n.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){gn(n,n.return,S)}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}return N=fg,fg=!1,N}function No(e,n,r){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&Ud(n,r,u)}o=o.next}while(o!==a)}}function ru(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==n)}}function qd(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function Sv(e){var n=e.alternate;n!==null&&(e.alternate=null,Sv(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[wr],delete n[Fo],delete n[Rd],delete n[Wj],delete n[Gj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jv(e){return e.tag===5||e.tag===3||e.tag===4}function pg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $d(e,n,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Pl));else if(a!==4&&(e=e.child,e!==null))for($d(e,n,r),e=e.sibling;e!==null;)$d(e,n,r),e=e.sibling}function Hd(e,n,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Hd(e,n,r),e=e.sibling;e!==null;)Hd(e,n,r),e=e.sibling}var Tn=null,ur=!1;function ni(e,n,r){for(r=r.child;r!==null;)Nv(e,n,r),r=r.sibling}function Nv(e,n,r){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Xl,r)}catch{}switch(r.tag){case 5:$n||Ca(r,n);case 6:var a=Tn,o=ur;Tn=null,ni(e,n,r),Tn=a,ur=o,Tn!==null&&(ur?(e=Tn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Tn.removeChild(r.stateNode));break;case 18:Tn!==null&&(ur?(e=Tn,r=r.stateNode,e.nodeType===8?Uc(e.parentNode,r):e.nodeType===1&&Uc(e,r),Io(e)):Uc(Tn,r.stateNode));break;case 4:a=Tn,o=ur,Tn=r.stateNode.containerInfo,ur=!0,ni(e,n,r),Tn=a,ur=o;break;case 0:case 11:case 14:case 15:if(!$n&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var u=o,c=u.destroy;u=u.tag,c!==void 0&&(u&2||u&4)&&Ud(r,n,c),o=o.next}while(o!==a)}ni(e,n,r);break;case 1:if(!$n&&(Ca(r,n),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(f){gn(r,n,f)}ni(e,n,r);break;case 21:ni(e,n,r);break;case 22:r.mode&1?($n=(a=$n)||r.memoizedState!==null,ni(e,n,r),$n=a):ni(e,n,r);break;default:ni(e,n,r)}}function mg(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uN),n.forEach(function(a){var o=xN.bind(null,e,a);r.has(a)||(r.add(a),a.then(o,o))})}}function sr(e,n){var r=n.deletions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];try{var u=e,c=n,f=c;e:for(;f!==null;){switch(f.tag){case 5:Tn=f.stateNode,ur=!1;break e;case 3:Tn=f.stateNode.containerInfo,ur=!0;break e;case 4:Tn=f.stateNode.containerInfo,ur=!0;break e}f=f.return}if(Tn===null)throw Error(X(160));Nv(u,c,o),Tn=null,ur=!1;var p=o.alternate;p!==null&&(p.return=null),o.return=null}catch(v){gn(o,n,v)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Av(n,e),n=n.sibling}function Av(e,n){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sr(n,e),_r(e),a&4){try{No(3,e,e.return),ru(3,e)}catch(j){gn(e,e.return,j)}try{No(5,e,e.return)}catch(j){gn(e,e.return,j)}}break;case 1:sr(n,e),_r(e),a&512&&r!==null&&Ca(r,r.return);break;case 5:if(sr(n,e),_r(e),a&512&&r!==null&&Ca(r,r.return),e.flags&32){var o=e.stateNode;try{Mo(o,"")}catch(j){gn(e,e.return,j)}}if(a&4&&(o=e.stateNode,o!=null)){var u=e.memoizedProps,c=r!==null?r.memoizedProps:u,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&u.type==="radio"&&u.name!=null&&Xg(o,u),md(f,c);var v=md(f,u);for(c=0;c<p.length;c+=2){var h=p[c],C=p[c+1];h==="style"?e0(o,C):h==="dangerouslySetInnerHTML"?Zg(o,C):h==="children"?Mo(o,C):tf(o,h,C,v)}switch(f){case"input":ud(o,u);break;case"textarea":Qg(o,u);break;case"select":var A=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!u.multiple;var w=u.value;w!=null?Sa(o,!!u.multiple,w,!1):A!==!!u.multiple&&(u.defaultValue!=null?Sa(o,!!u.multiple,u.defaultValue,!0):Sa(o,!!u.multiple,u.multiple?[]:"",!1))}o[Fo]=u}catch(j){gn(e,e.return,j)}}break;case 6:if(sr(n,e),_r(e),a&4){if(e.stateNode===null)throw Error(X(162));o=e.stateNode,u=e.memoizedProps;try{o.nodeValue=u}catch(j){gn(e,e.return,j)}}break;case 3:if(sr(n,e),_r(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Io(n.containerInfo)}catch(j){gn(e,e.return,j)}break;case 4:sr(n,e),_r(e);break;case 13:sr(n,e),_r(e),o=e.child,o.flags&8192&&(u=o.memoizedState!==null,o.stateNode.isHidden=u,!u||o.alternate!==null&&o.alternate.memoizedState!==null||(Of=_n())),a&4&&mg(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?($n=(v=$n)||h,sr(n,e),$n=v):sr(n,e),_r(e),a&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!h&&e.mode&1)for(se=e,h=e.child;h!==null;){for(C=se=h;se!==null;){switch(A=se,w=A.child,A.tag){case 0:case 11:case 14:case 15:No(4,A,A.return);break;case 1:Ca(A,A.return);var N=A.stateNode;if(typeof N.componentWillUnmount=="function"){a=A,r=A.return;try{n=a,N.props=n.memoizedProps,N.state=n.memoizedState,N.componentWillUnmount()}catch(j){gn(a,r,j)}}break;case 5:Ca(A,A.return);break;case 22:if(A.memoizedState!==null){gg(C);continue}}w!==null?(w.return=A,se=w):gg(C)}h=h.sibling}e:for(h=null,C=e;;){if(C.tag===5){if(h===null){h=C;try{o=C.stateNode,v?(u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(f=C.stateNode,p=C.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=Jg("display",c))}catch(j){gn(e,e.return,j)}}}else if(C.tag===6){if(h===null)try{C.stateNode.nodeValue=v?"":C.memoizedProps}catch(j){gn(e,e.return,j)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;h===C&&(h=null),C=C.return}h===C&&(h=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:sr(n,e),_r(e),a&4&&mg(e);break;case 21:break;default:sr(n,e),_r(e)}}function _r(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(jv(r)){var a=r;break e}r=r.return}throw Error(X(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(Mo(o,""),a.flags&=-33);var u=pg(e);Hd(e,u,o);break;case 3:case 4:var c=a.stateNode.containerInfo,f=pg(e);$d(e,f,c);break;default:throw Error(X(161))}}catch(p){gn(e,e.return,p)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dN(e,n,r){se=e,Rv(e)}function Rv(e,n,r){for(var a=(e.mode&1)!==0;se!==null;){var o=se,u=o.child;if(o.tag===22&&a){var c=o.memoizedState!==null||ol;if(!c){var f=o.alternate,p=f!==null&&f.memoizedState!==null||$n;f=ol;var v=$n;if(ol=c,($n=p)&&!v)for(se=o;se!==null;)c=se,p=c.child,c.tag===22&&c.memoizedState!==null?vg(o):p!==null?(p.return=c,se=p):vg(o);for(;u!==null;)se=u,Rv(u),u=u.sibling;se=o,ol=f,$n=v}hg(e)}else o.subtreeFlags&8772&&u!==null?(u.return=o,se=u):hg(e)}}function hg(e){for(;se!==null;){var n=se;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:$n||ru(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!$n)if(r===null)a.componentDidMount();else{var o=n.elementType===n.type?r.memoizedProps:lr(n.type,r.memoizedProps);a.componentDidUpdate(o,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var u=n.updateQueue;u!==null&&Jh(n,u,a);break;case 3:var c=n.updateQueue;if(c!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}Jh(n,c,r)}break;case 5:var f=n.stateNode;if(r===null&&n.flags&4){r=f;var p=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&r.focus();break;case"img":p.src&&(r.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var v=n.alternate;if(v!==null){var h=v.memoizedState;if(h!==null){var C=h.dehydrated;C!==null&&Io(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}$n||n.flags&512&&qd(n)}catch(A){gn(n,n.return,A)}}if(n===e){se=null;break}if(r=n.sibling,r!==null){r.return=n.return,se=r;break}se=n.return}}function gg(e){for(;se!==null;){var n=se;if(n===e){se=null;break}var r=n.sibling;if(r!==null){r.return=n.return,se=r;break}se=n.return}}function vg(e){for(;se!==null;){var n=se;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{ru(4,n)}catch(p){gn(n,r,p)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var o=n.return;try{a.componentDidMount()}catch(p){gn(n,o,p)}}var u=n.return;try{qd(n)}catch(p){gn(n,u,p)}break;case 5:var c=n.return;try{qd(n)}catch(p){gn(n,c,p)}}}catch(p){gn(n,n.return,p)}if(n===e){se=null;break}var f=n.sibling;if(f!==null){f.return=n.return,se=f;break}se=n.return}}var fN=Math.ceil,$l=Hr.ReactCurrentDispatcher,Tf=Hr.ReactCurrentOwner,Zt=Hr.ReactCurrentBatchConfig,Oe=0,Mn=null,wn=null,In=0,bt=0,Ea=xi(0),Rn=0,Wo=null,Hi=0,iu=0,If=0,Ao=null,gt=null,Of=0,Oa=1/0,Ir=null,Hl=!1,Vd=null,pi=null,sl=!1,si=null,Vl=0,Ro=0,Wd=null,xl=-1,_l=0;function it(){return Oe&6?_n():xl!==-1?xl:xl=_n()}function mi(e){return e.mode&1?Oe&2&&In!==0?In&-In:Xj.transition!==null?(_l===0&&(_l=f0()),_l):(e=$e,e!==0||(e=window.event,e=e===void 0?16:x0(e.type)),e):1}function fr(e,n,r,a){if(50<Ro)throw Ro=0,Wd=null,Error(X(185));Ko(e,r,a),(!(Oe&2)||e!==Mn)&&(e===Mn&&(!(Oe&2)&&(iu|=r),Rn===4&&ai(e,In)),_t(e,a),r===1&&Oe===0&&!(n.mode&1)&&(Oa=_n()+500,eu&&_i()))}function _t(e,n){var r=e.callbackNode;XS(e,n);var a=Rl(e,e===Mn?In:0);if(a===0)r!==null&&Nh(r),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(r!=null&&Nh(r),n===1)e.tag===0?Kj(yg.bind(null,e)):B0(yg.bind(null,e)),Hj(function(){!(Oe&6)&&_i()}),r=null;else{switch(p0(a)){case 1:r=lf;break;case 4:r=c0;break;case 16:r=Al;break;case 536870912:r=d0;break;default:r=Al}r=Ov(r,kv.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function kv(e,n){if(xl=-1,_l=0,Oe&6)throw Error(X(327));var r=e.callbackNode;if(ka()&&e.callbackNode!==r)return null;var a=Rl(e,e===Mn?In:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=Wl(e,a);else{n=a;var o=Oe;Oe|=2;var u=Mv();(Mn!==e||In!==n)&&(Ir=null,Oa=_n()+500,zi(e,n));do try{hN();break}catch(f){bv(e,f)}while(1);Cf(),$l.current=u,Oe=o,wn!==null?n=0:(Mn=null,In=0,n=Rn)}if(n!==0){if(n===2&&(o=xd(e),o!==0&&(a=o,n=Gd(e,o))),n===1)throw r=Wo,zi(e,0),ai(e,a),_t(e,_n()),r;if(n===6)ai(e,a);else{if(o=e.current.alternate,!(a&30)&&!pN(o)&&(n=Wl(e,a),n===2&&(u=xd(e),u!==0&&(a=u,n=Gd(e,u))),n===1))throw r=Wo,zi(e,0),ai(e,a),_t(e,_n()),r;switch(e.finishedWork=o,e.finishedLanes=a,n){case 0:case 1:throw Error(X(345));case 2:Ti(e,gt,Ir);break;case 3:if(ai(e,a),(a&130023424)===a&&(n=Of+500-_n(),10<n)){if(Rl(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){it(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ad(Ti.bind(null,e,gt,Ir),n);break}Ti(e,gt,Ir);break;case 4:if(ai(e,a),(a&4194240)===a)break;for(n=e.eventTimes,o=-1;0<a;){var c=31-dr(a);u=1<<c,c=n[c],c>o&&(o=c),a&=~u}if(a=o,a=_n()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*fN(a/1960))-a,10<a){e.timeoutHandle=Ad(Ti.bind(null,e,gt,Ir),a);break}Ti(e,gt,Ir);break;case 5:Ti(e,gt,Ir);break;default:throw Error(X(329))}}}return _t(e,_n()),e.callbackNode===r?kv.bind(null,e):null}function Gd(e,n){var r=Ao;return e.current.memoizedState.isDehydrated&&(zi(e,n).flags|=256),e=Wl(e,n),e!==2&&(n=gt,gt=r,n!==null&&Kd(n)),e}function Kd(e){gt===null?gt=e:gt.push.apply(gt,e)}function pN(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var o=r[a],u=o.getSnapshot;o=o.value;try{if(!pr(u(),o))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ai(e,n){for(n&=~If,n&=~iu,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-dr(n),a=1<<r;e[r]=-1,n&=~a}}function yg(e){if(Oe&6)throw Error(X(327));ka();var n=Rl(e,0);if(!(n&1))return _t(e,_n()),null;var r=Wl(e,n);if(e.tag!==0&&r===2){var a=xd(e);a!==0&&(n=a,r=Gd(e,a))}if(r===1)throw r=Wo,zi(e,0),ai(e,n),_t(e,_n()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Ti(e,gt,Ir),_t(e,_n()),null}function Lf(e,n){var r=Oe;Oe|=1;try{return e(n)}finally{Oe=r,Oe===0&&(Oa=_n()+500,eu&&_i())}}function Vi(e){si!==null&&si.tag===0&&!(Oe&6)&&ka();var n=Oe;Oe|=1;var r=Zt.transition,a=$e;try{if(Zt.transition=null,$e=1,e)return e()}finally{$e=a,Zt.transition=r,Oe=n,!(Oe&6)&&_i()}}function Bf(){bt=Ea.current,nn(Ea)}function zi(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$j(r)),wn!==null)for(r=wn.return;r!==null;){var a=r;switch(yf(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Dl();break;case 3:Ta(),nn(yt),nn(Hn),Af();break;case 5:Nf(a);break;case 4:Ta();break;case 13:nn(cn);break;case 19:nn(cn);break;case 10:Ef(a.type._context);break;case 22:case 23:Bf()}r=r.return}if(Mn=e,wn=e=hi(e.current,null),In=bt=n,Rn=0,Wo=null,If=iu=Hi=0,gt=Ao=null,Oi!==null){for(n=0;n<Oi.length;n++)if(r=Oi[n],a=r.interleaved,a!==null){r.interleaved=null;var o=a.next,u=r.pending;if(u!==null){var c=u.next;u.next=o,a.next=c}r.pending=a}Oi=null}return e}function bv(e,n){do{var r=wn;try{if(Cf(),gl.current=ql,Ul){for(var a=dn.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ul=!1}if($i=0,bn=An=dn=null,jo=!1,$o=0,Tf.current=null,r===null||r.return===null){Rn=1,Wo=n,wn=null;break}e:{var u=e,c=r.return,f=r,p=n;if(n=In,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var v=p,h=f,C=h.tag;if(!(h.mode&1)&&(C===0||C===11||C===15)){var A=h.alternate;A?(h.updateQueue=A.updateQueue,h.memoizedState=A.memoizedState,h.lanes=A.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=ag(c);if(w!==null){w.flags&=-257,og(w,c,f,u,n),w.mode&1&&ig(u,v,n),n=w,p=v;var N=n.updateQueue;if(N===null){var j=new Set;j.add(p),n.updateQueue=j}else N.add(p);break e}else{if(!(n&1)){ig(u,v,n),zf();break e}p=Error(X(426))}}else if(sn&&f.mode&1){var D=ag(c);if(D!==null){!(D.flags&65536)&&(D.flags|=256),og(D,c,f,u,n),xf(Ia(p,f));break e}}u=p=Ia(p,f),Rn!==4&&(Rn=2),Ao===null?Ao=[u]:Ao.push(u),u=c;do{switch(u.tag){case 3:u.flags|=65536,n&=-n,u.lanes|=n;var _=pv(u,p,n);Zh(u,_);break e;case 1:f=p;var g=u.type,E=u.stateNode;if(!(u.flags&128)&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(pi===null||!pi.has(E)))){u.flags|=65536,n&=-n,u.lanes|=n;var S=mv(u,f,n);Zh(u,S);break e}}u=u.return}while(u!==null)}Dv(r)}catch(k){n=k,wn===r&&r!==null&&(wn=r=r.return);continue}break}while(1)}function Mv(){var e=$l.current;return $l.current=ql,e===null?ql:e}function zf(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Mn===null||!(Hi&268435455)&&!(iu&268435455)||ai(Mn,In)}function Wl(e,n){var r=Oe;Oe|=2;var a=Mv();(Mn!==e||In!==n)&&(Ir=null,zi(e,n));do try{mN();break}catch(o){bv(e,o)}while(1);if(Cf(),Oe=r,$l.current=a,wn!==null)throw Error(X(261));return Mn=null,In=0,Rn}function mN(){for(;wn!==null;)Pv(wn)}function hN(){for(;wn!==null&&!FS();)Pv(wn)}function Pv(e){var n=Iv(e.alternate,e,bt);e.memoizedProps=e.pendingProps,n===null?Dv(e):wn=n,Tf.current=null}function Dv(e){var n=e;do{var r=n.alternate;if(e=n.return,n.flags&32768){if(r=lN(r,n),r!==null){r.flags&=32767,wn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rn=6,wn=null;return}}else if(r=sN(r,n,bt),r!==null){wn=r;return}if(n=n.sibling,n!==null){wn=n;return}wn=n=e}while(n!==null);Rn===0&&(Rn=5)}function Ti(e,n,r){var a=$e,o=Zt.transition;try{Zt.transition=null,$e=1,gN(e,n,r,a)}finally{Zt.transition=o,$e=a}return null}function gN(e,n,r,a){do ka();while(si!==null);if(Oe&6)throw Error(X(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(QS(e,u),e===Mn&&(wn=Mn=null,In=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sl||(sl=!0,Ov(Al,function(){return ka(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=Zt.transition,Zt.transition=null;var c=$e;$e=1;var f=Oe;Oe|=4,Tf.current=null,cN(e,r),Av(r,e),Oj(jd),kl=!!Sd,jd=Sd=null,e.current=r,dN(r),US(),Oe=f,$e=c,Zt.transition=u}else e.current=r;if(sl&&(sl=!1,si=e,Vl=o),u=e.pendingLanes,u===0&&(pi=null),HS(r.stateNode),_t(e,_n()),n!==null)for(a=e.onRecoverableError,r=0;r<n.length;r++)o=n[r],a(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Vd,Vd=null,e;return Vl&1&&e.tag!==0&&ka(),u=e.pendingLanes,u&1?e===Wd?Ro++:(Ro=0,Wd=e):Ro=0,_i(),null}function ka(){if(si!==null){var e=p0(Vl),n=Zt.transition,r=$e;try{if(Zt.transition=null,$e=16>e?16:e,si===null)var a=!1;else{if(e=si,si=null,Vl=0,Oe&6)throw Error(X(331));var o=Oe;for(Oe|=4,se=e.current;se!==null;){var u=se,c=u.child;if(se.flags&16){var f=u.deletions;if(f!==null){for(var p=0;p<f.length;p++){var v=f[p];for(se=v;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:No(8,h,u)}var C=h.child;if(C!==null)C.return=h,se=C;else for(;se!==null;){h=se;var A=h.sibling,w=h.return;if(Sv(h),h===v){se=null;break}if(A!==null){A.return=w,se=A;break}se=w}}}var N=u.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var D=j.sibling;j.sibling=null,j=D}while(j!==null)}}se=u}}if(u.subtreeFlags&2064&&c!==null)c.return=u,se=c;else e:for(;se!==null;){if(u=se,u.flags&2048)switch(u.tag){case 0:case 11:case 15:No(9,u,u.return)}var _=u.sibling;if(_!==null){_.return=u.return,se=_;break e}se=u.return}}var g=e.current;for(se=g;se!==null;){c=se;var E=c.child;if(c.subtreeFlags&2064&&E!==null)E.return=c,se=E;else e:for(c=g;se!==null;){if(f=se,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:ru(9,f)}}catch(k){gn(f,f.return,k)}if(f===c){se=null;break e}var S=f.sibling;if(S!==null){S.return=f.return,se=S;break e}se=f.return}}if(Oe=o,_i(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Xl,e)}catch{}a=!0}return a}finally{$e=r,Zt.transition=n}}return!1}function xg(e,n,r){n=Ia(r,n),n=pv(e,n,1),e=fi(e,n,1),n=it(),e!==null&&(Ko(e,1,n),_t(e,n))}function gn(e,n,r){if(e.tag===3)xg(e,e,r);else for(;n!==null;){if(n.tag===3){xg(n,e,r);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(pi===null||!pi.has(a))){e=Ia(r,e),e=mv(n,e,1),n=fi(n,e,1),e=it(),n!==null&&(Ko(n,1,e),_t(n,e));break}}n=n.return}}function vN(e,n,r){var a=e.pingCache;a!==null&&a.delete(n),n=it(),e.pingedLanes|=e.suspendedLanes&r,Mn===e&&(In&r)===r&&(Rn===4||Rn===3&&(In&130023424)===In&&500>_n()-Of?zi(e,0):If|=r),_t(e,n)}function Tv(e,n){n===0&&(e.mode&1?(n=Ys,Ys<<=1,!(Ys&130023424)&&(Ys=4194304)):n=1);var r=it();e=qr(e,n),e!==null&&(Ko(e,n,r),_t(e,r))}function yN(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Tv(e,r)}function xN(e,n){var r=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(X(314))}a!==null&&a.delete(n),Tv(e,r)}var Iv;Iv=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||yt.current)vt=!0;else{if(!(e.lanes&r)&&!(n.flags&128))return vt=!1,oN(e,n,r);vt=!!(e.flags&131072)}else vt=!1,sn&&n.flags&1048576&&z0(n,Ol,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;yl(e,n),e=n.pendingProps;var o=Ma(n,Hn.current);Ra(n,r),o=kf(null,n,a,e,o,r);var u=bf();return n.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,xt(a)?(u=!0,Tl(n)):u=!1,n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Sf(n),o.updater=tu,n.stateNode=o,o._reactInternals=n,Td(n,a,e,r),n=Ld(null,n,a,!0,u,r)):(n.tag=0,sn&&u&&vf(n),rt(null,n,o,r),n=n.child),n;case 16:a=n.elementType;e:{switch(yl(e,n),e=n.pendingProps,o=a._init,a=o(a._payload),n.type=a,o=n.tag=CN(a),e=lr(a,e),o){case 0:n=Od(null,n,a,e,r);break e;case 1:n=ug(null,n,a,e,r);break e;case 11:n=sg(null,n,a,e,r);break e;case 14:n=lg(null,n,a,lr(a.type,e),r);break e}throw Error(X(306,a,""))}return n;case 0:return a=n.type,o=n.pendingProps,o=n.elementType===a?o:lr(a,o),Od(e,n,a,o,r);case 1:return a=n.type,o=n.pendingProps,o=n.elementType===a?o:lr(a,o),ug(e,n,a,o,r);case 3:e:{if(yv(n),e===null)throw Error(X(387));a=n.pendingProps,u=n.memoizedState,o=u.element,V0(e,n),zl(n,a,null,r);var c=n.memoizedState;if(a=c.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){o=Ia(Error(X(423)),n),n=cg(e,n,a,r,o);break e}else if(a!==o){o=Ia(Error(X(424)),n),n=cg(e,n,a,r,o);break e}else for(Mt=di(n.stateNode.containerInfo.firstChild),Pt=n,sn=!0,cr=null,r=$0(n,null,a,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pa(),a===o){n=$r(e,n,r);break e}rt(e,n,a,r)}n=n.child}return n;case 5:return W0(n),e===null&&Md(n),a=n.type,o=n.pendingProps,u=e!==null?e.memoizedProps:null,c=o.children,Nd(a,o)?c=null:u!==null&&Nd(a,u)&&(n.flags|=32),vv(e,n),rt(e,n,c,r),n.child;case 6:return e===null&&Md(n),null;case 13:return xv(e,n,r);case 4:return jf(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Da(n,null,a,r):rt(e,n,a,r),n.child;case 11:return a=n.type,o=n.pendingProps,o=n.elementType===a?o:lr(a,o),sg(e,n,a,o,r);case 7:return rt(e,n,n.pendingProps,r),n.child;case 8:return rt(e,n,n.pendingProps.children,r),n.child;case 12:return rt(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(a=n.type._context,o=n.pendingProps,u=n.memoizedProps,c=o.value,Ye(Ll,a._currentValue),a._currentValue=c,u!==null)if(pr(u.value,c)){if(u.children===o.children&&!yt.current){n=$r(e,n,r);break e}}else for(u=n.child,u!==null&&(u.return=n);u!==null;){var f=u.dependencies;if(f!==null){c=u.child;for(var p=f.firstContext;p!==null;){if(p.context===a){if(u.tag===1){p=zr(-1,r&-r),p.tag=2;var v=u.updateQueue;if(v!==null){v=v.shared;var h=v.pending;h===null?p.next=p:(p.next=h.next,h.next=p),v.pending=p}}u.lanes|=r,p=u.alternate,p!==null&&(p.lanes|=r),Pd(u.return,r,n),f.lanes|=r;break}p=p.next}}else if(u.tag===10)c=u.type===n.type?null:u.child;else if(u.tag===18){if(c=u.return,c===null)throw Error(X(341));c.lanes|=r,f=c.alternate,f!==null&&(f.lanes|=r),Pd(c,r,n),c=u.sibling}else c=u.child;if(c!==null)c.return=u;else for(c=u;c!==null;){if(c===n){c=null;break}if(u=c.sibling,u!==null){u.return=c.return,c=u;break}c=c.return}u=c}rt(e,n,o.children,r),n=n.child}return n;case 9:return o=n.type,a=n.pendingProps.children,Ra(n,r),o=Jt(o),a=a(o),n.flags|=1,rt(e,n,a,r),n.child;case 14:return a=n.type,o=lr(a,n.pendingProps),o=lr(a.type,o),lg(e,n,a,o,r);case 15:return hv(e,n,n.type,n.pendingProps,r);case 17:return a=n.type,o=n.pendingProps,o=n.elementType===a?o:lr(a,o),yl(e,n),n.tag=1,xt(a)?(e=!0,Tl(n)):e=!1,Ra(n,r),fv(n,a,o),Td(n,a,o,r),Ld(null,n,a,!0,e,r);case 19:return _v(e,n,r);case 22:return gv(e,n,r)}throw Error(X(156,n.tag))};function Ov(e,n){return u0(e,n)}function _N(e,n,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,n,r,a){return new _N(e,n,r,a)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CN(e){if(typeof e=="function")return Ff(e)?1:0;if(e!=null){if(e=e.$$typeof,e===af)return 11;if(e===of)return 14}return 2}function hi(e,n){var r=e.alternate;return r===null?(r=Yt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cl(e,n,r,a,o,u){var c=2;if(a=e,typeof e=="function")Ff(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case fa:return Fi(r.children,o,u,n);case rf:c=8,o|=8;break;case id:return e=Yt(12,r,n,o|2),e.elementType=id,e.lanes=u,e;case ad:return e=Yt(13,r,n,o),e.elementType=ad,e.lanes=u,e;case od:return e=Yt(19,r,n,o),e.elementType=od,e.lanes=u,e;case Wg:return au(r,o,u,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hg:c=10;break e;case Vg:c=9;break e;case af:c=11;break e;case of:c=14;break e;case ti:c=16,a=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return n=Yt(c,r,n,o),n.elementType=e,n.type=a,n.lanes=u,n}function Fi(e,n,r,a){return e=Yt(7,e,a,n),e.lanes=r,e}function au(e,n,r,a){return e=Yt(22,e,a,n),e.elementType=Wg,e.lanes=r,e.stateNode={isHidden:!1},e}function Xc(e,n,r){return e=Yt(6,e,null,n),e.lanes=r,e}function Qc(e,n,r){return n=Yt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function EN(e,n,r,a,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bc(0),this.expirationTimes=bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bc(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uf(e,n,r,a,o,u,c,f,p){return e=new EN(e,n,r,f,p),n===1?(n=1,u===!0&&(n|=8)):n=0,u=Yt(3,null,null,n),e.current=u,u.stateNode=e,u.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sf(u),e}function wN(e,n,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:a==null?null:""+a,children:e,containerInfo:n,implementation:r}}function Lv(e){if(!e)return vi;e=e._reactInternals;e:{if(Gi(e)!==e||e.tag!==1)throw Error(X(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(xt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(xt(r))return L0(e,r,n)}return n}function Bv(e,n,r,a,o,u,c,f,p){return e=Uf(r,a,!0,e,o,u,c,f,p),e.context=Lv(null),r=e.current,a=it(),o=mi(r),u=zr(a,o),u.callback=n??null,fi(r,u,o),e.current.lanes=o,Ko(e,o,a),_t(e,a),e}function ou(e,n,r,a){var o=n.current,u=it(),c=mi(o);return r=Lv(r),n.context===null?n.context=r:n.pendingContext=r,n=zr(u,c),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=fi(o,n,c),e!==null&&(fr(e,o,c,u),hl(e,o,c)),c}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _g(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function qf(e,n){_g(e,n),(e=e.alternate)&&_g(e,n)}function SN(){return null}var zv=typeof reportError=="function"?reportError:function(e){console.error(e)};function $f(e){this._internalRoot=e}su.prototype.render=$f.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(X(409));ou(e,n,null,null)};su.prototype.unmount=$f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vi(function(){ou(null,e,null,null)}),n[Ur]=null}};function su(e){this._internalRoot=e}su.prototype.unstable_scheduleHydration=function(e){if(e){var n=g0();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ii.length&&n!==0&&n<ii[r].priority;r++);ii.splice(r,0,e),r===0&&y0(e)}};function Hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function jN(e,n,r,a,o){if(o){if(typeof a=="function"){var u=a;a=function(){var v=Gl(c);u.call(v)}}var c=Bv(n,a,e,0,null,!1,!1,"",Cg);return e._reactRootContainer=c,e[Ur]=c.current,Bo(e.nodeType===8?e.parentNode:e),Vi(),c}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var f=a;a=function(){var v=Gl(p);f.call(v)}}var p=Uf(e,0,!1,null,null,!1,!1,"",Cg);return e._reactRootContainer=p,e[Ur]=p.current,Bo(e.nodeType===8?e.parentNode:e),Vi(function(){ou(n,p,r,a)}),p}function uu(e,n,r,a,o){var u=r._reactRootContainer;if(u){var c=u;if(typeof o=="function"){var f=o;o=function(){var p=Gl(c);f.call(p)}}ou(n,c,e,o)}else c=jN(r,n,e,o,a);return Gl(c)}m0=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=go(n.pendingLanes);r!==0&&(uf(n,r|1),_t(n,_n()),!(Oe&6)&&(Oa=_n()+500,_i()))}break;case 13:Vi(function(){var a=qr(e,1);if(a!==null){var o=it();fr(a,e,1,o)}}),qf(e,1)}};cf=function(e){if(e.tag===13){var n=qr(e,134217728);if(n!==null){var r=it();fr(n,e,134217728,r)}qf(e,134217728)}};h0=function(e){if(e.tag===13){var n=mi(e),r=qr(e,n);if(r!==null){var a=it();fr(r,e,n,a)}qf(e,n)}};g0=function(){return $e};v0=function(e,n){var r=$e;try{return $e=e,n()}finally{$e=r}};gd=function(e,n,r){switch(n){case"input":if(ud(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var a=r[n];if(a!==e&&a.form===e.form){var o=Jl(a);if(!o)throw Error(X(90));Kg(a),ud(a,o)}}}break;case"textarea":Qg(e,r);break;case"select":n=r.value,n!=null&&Sa(e,!!r.multiple,n,!1)}};r0=Lf;i0=Vi;var NN={usingClientEntryPoint:!1,Events:[Qo,ga,Jl,n0,t0,Lf]},po={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AN={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=s0(e),e===null?null:e.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||SN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{Xl=ll.inject(AN),Sr=ll}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NN;Tt.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(n))throw Error(X(200));return wN(e,n,null,r)};Tt.createRoot=function(e,n){if(!Hf(e))throw Error(X(299));var r=!1,a="",o=zv;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),n=Uf(e,1,!1,null,null,r,!1,a,o),e[Ur]=n.current,Bo(e.nodeType===8?e.parentNode:e),new $f(n)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=s0(n),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return Vi(e)};Tt.hydrate=function(e,n,r){if(!lu(n))throw Error(X(200));return uu(null,e,n,!0,r)};Tt.hydrateRoot=function(e,n,r){if(!Hf(e))throw Error(X(405));var a=r!=null&&r.hydratedSources||null,o=!1,u="",c=zv;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),n=Bv(n,null,e,1,r??null,o,!1,u,c),e[Ur]=n.current,Bo(e),a)for(e=0;e<a.length;e++)r=a[e],o=r._getVersion,o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o);return new su(n)};Tt.render=function(e,n,r){if(!lu(n))throw Error(X(200));return uu(null,e,n,!1,r)};Tt.unmountComponentAtNode=function(e){if(!lu(e))throw Error(X(40));return e._reactRootContainer?(Vi(function(){uu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ur]=null})}),!0):!1};Tt.unstable_batchedUpdates=Lf;Tt.unstable_renderSubtreeIntoContainer=function(e,n,r,a){if(!lu(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return uu(e,n,r,!1,a)};Tt.version="18.3.1-next-f1338f8080-20240426";function Fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fv)}catch(e){console.error(e)}}Fv(),Fg.exports=Tt;var Uv=Fg.exports;const RN=Xd(Uv);var Eg=Uv;td.createRoot=Eg.createRoot,td.hydrateRoot=Eg.hydrateRoot;const Ae={workshop:{basic:{costs:{scrap:15},time:5},medium:{costs:{scrap:250},time:20,prerequisites:e=>e.workshop.drones.basic>=5},advanced:{costs:{scrap:1500},time:60,prerequisites:e=>e.workshop.drones.medium>=3},reinforcedBasic:{costs:{scrap:600,metalRefinado:5},time:45,prerequisites:e=>e.techCenter.upgrades.reinforcedBasicDrones>0},reinforcedMedium:{costs:{scrap:2500,metalRefinado:15},time:120,prerequisites:e=>e.techCenter.upgrades.reinforcedMediumDrones>0},reinforcedAdvanced:{costs:{scrap:7e3,metalRefinado:30},time:300,prerequisites:e=>e.techCenter.upgrades.reinforcedAdvancedDrones>0},golem:{costs:{scrap:75e3,aceroEstructural:5},time:600,prerequisites:e=>e.techCenter.upgrades.golemChassis>0&&e.workshop.drones.reinforcedAdvanced>=5},expeditionDrone:{costs:{scrap:3e3,metalRefinado:20},time:150,prerequisites:e=>e.workshop.drones.advanced>=2},expeditionV2Drone:{costs:{scrap:15e3,metalRefinado:100},time:300,prerequisites:e=>e.workshop.drones.expeditionDrone>=5},wyrm:{costs:{scrap:25e4,aceroEstructural:25},time:1200,prerequisites:e=>e.workshop.drones.golem>=1}},energy:{solarPanels:{costs:{scrap:50},time:8},mediumSolarPanels:{costs:{scrap:200},time:25,prerequisites:e=>e.energy.solarPanels>=5},advancedSolar:{costs:{scrap:500},time:70,prerequisites:e=>e.energy.mediumSolarPanels>=1},energyCores:{costs:{scrap:2e3},time:180,prerequisites:e=>e.energy.advancedSolar>=3},stabilizedEnergyCores:{costs:{scrap:1e4},time:300,prerequisites:e=>e.energy.energyCores>=3},empoweredEnergyCores:{costs:{scrap:2e4},time:600,prerequisites:e=>e.energy.stabilizedEnergyCores>=3},fusionReactor:{costs:{scrap:1e4,metalRefinado:25},time:1200,prerequisites:e=>e.techCenter.upgrades.fusionTech>0&&e.energy.energyCores>=10}},storage:{basicStorage:{costs:{scrap:100},time:10},mediumStorage:{costs:{scrap:1e3},time:40,prerequisites:e=>e.storage.basicStorage>=3},advancedStorage:{costs:{scrap:1e4},time:170,prerequisites:e=>e.storage.mediumStorage>=1},quantumHoardUnit:{costs:{scrap:75e3,metalRefinado:50},time:900,prerequisites:e=>e.storage.advancedStorage>=3},lithiumIonBattery:{costs:{scrap:150},time:15},plasmaAccumulator:{costs:{scrap:750},time:60,prerequisites:e=>e.storage.lithiumIonBattery>=5},harmonicContainmentField:{costs:{scrap:3e3,metalRefinado:10},time:450,prerequisites:e=>e.storage.plasmaAccumulator>=3}},foundry:{metalRefinado:{costs:{scrap:1e3,energy:100},time:5,produces:{resource:"metalRefinado"}},aceroEstructural:{costs:{scrap:1e3,metalRefinado:10,energy:250},time:30,produces:{resource:"aceroEstructural"}},placasCasco:{costs:{fragmentosPlaca:10,aceroEstructural:5,energy:500},time:50,produces:{resource:"placasCasco"}},cableadoSuperconductor:{costs:{circuitosDaados:10,metalRefinado:25,energy:1e3},time:75,produces:{resource:"cableadoSuperconductor"}},barraCombustible:{costs:{metalRefinado:10,aceroEstructural:5,energy:1500},time:120,produces:{resource:"barraCombustible"}}}},El=[{id:"main_1_unlock_tech",isMain:!0,title:"Primeros Pasos Tecnolgicos",description:"La reconstruccin empieza aqu. Desbloquea el Centro Tcnico y la Fundicin para acceder a nuevas posibilidades.",objective:"Desbloquea el Centro Tcnico y la Fundicin.",target:2,current:0,completed:!1,reward:{type:"scrap",value:1e4}},{id:"main_2_produce_alloys",isMain:!0,title:"Aleaciones Avanzadas",description:"Produce Metal Refinado y Acero Estructural. Son la base de toda construccin avanzada.",objective:"Produce 500 de Metal Refinado y 100 de Acero Estructural.",target:600,current:0,completed:!1,reward:{type:"scrap",value:25e3}},{id:"main_3_expeditions",isMain:!0,title:"Hacia lo Desconocido",description:"Hay recursos que no podemos fabricar. Construye un Dron de Expedicin y completa tu primera expedicin.",objective:"Completa 1 expedicin.",target:1,current:0,completed:!1,reward:{type:"scrap",value:5e4}},{id:"main_4_fabricate_components",isMain:!0,title:"Componentes del Vindicator",description:"Usa los materiales de las expediciones para fabricar los componentes primarios del Vindicator.",objective:"Fabrica 50 Placas de Casco y 25 Cables de Superconductor.",target:75,current:0,completed:!1,reward:{type:"nucleoSingularidad",value:1}},{id:"main_5_final_assembly",isMain:!0,title:"Ensamblaje Final",description:"El momento ha llegado! Dona todos los componentes necesarios al Astillero y reconstruye el Vindicator.",objective:"Completa la construccin del Vindicator.",target:1,current:0,completed:!1,reward:{type:"unlock",value:2}},{id:"sec_1_1_basic_fleet",isMain:!1,title:"Primeros Auxiliares",description:"Forma una flota inicial de 10 Drones Bsicos para empezar a recolectar chatarra de forma eficiente.",objective:"Mantn una flota activa de 10 Drones Bsicos.",target:10,current:0,completed:!1,reward:{type:"scrap",value:250}},{id:"sec_1_2_scrap_engine_i",isMain:!1,title:"Motor de Chatarra I",description:"No se trata de cuntos drones tienes, sino de cunto producen. Aumenta tu produccin de chatarra.",objective:"Alcanza una produccin de +50 Chatarra/segundo.",target:50,current:0,completed:!1,reward:{type:"scrap",value:500}},{id:"sec_1_3_power_surplus_i",isMain:!1,title:"Excedente de Potencia I",description:"Una fbrica sin energa es un montn de metal intil. Genera ms energa de la que consumes.",objective:"Mantn un balance de +20 Energa/segundo durante 60 segundos.",target:60,current:0,completed:!1,reward:{type:"energy",value:250}},{id:"sec_1_4_scrap_reserves",isMain:!1,title:"Reservas de Chatarra",description:"Prepara tus almacenes para proyectos ms grandes. Aumenta tu capacidad mxima de chatarra.",objective:"Aumenta tu almacenamiento mximo a 1,000 de Chatarra.",target:1e3,current:0,completed:!1,reward:{type:"scrap",value:750}},{id:"sec_1_5_charged_batteries",isMain:!1,title:"Bateras Cargadas",description:"No dejes que tu energa se desperdicie. Ampla tu capacidad mxima de almacenamiento de energa.",objective:"Aumenta tu almacenamiento mximo a 500 de Energa.",target:500,current:0,completed:!1,reward:{type:"energy",value:250}},{id:"sec_1_6_expanding_force",isMain:!1,title:"Ampliando la Fuerza",description:"Los Drones Medios son un gran salto en eficiencia. Construye tu primer ejemplar.",objective:"Construye tu primer Dron Medio.",target:1,current:0,completed:!1,reward:{type:"scrap",value:1e3}},{id:"sec_1_7_continuous_operation",isMain:!1,title:"Operacin Continua",description:"La estabilidad es la clave del xito. Demuestra que puedes mantener la estacin funcionando sin interrupciones.",objective:"Mantn tu energa por encima de 0 durante 5 minutos.",target:300,current:0,completed:!1,reward:{type:"scrap",value:2e3}},{id:"sec_1_8_scrap_engine_ii",isMain:!1,title:"Motor de Chatarra II",description:"Aumenta an ms tu produccin de chatarra para financiar las operaciones ms avanzadas.",objective:"Alcanza una produccin de +150 Chatarra/segundo.",target:150,current:0,completed:!1,reward:{type:"scrap",value:2500}},{id:"sec_1_9_first_gigawatt",isMain:!1,title:"El Primer Gigavatio",description:"Expande tu red energtica a una escala mayor para soportar una flota industrial completa.",objective:"Instala un total de 25 Paneles Solares (cualquier tipo).",target:25,current:0,completed:!1,reward:{type:"energy",value:500}},{id:"sec_1_10_self_sufficiency",isMain:!1,title:"Autosuficiencia",description:"Domina las bases. Demuestra que puedes producir todas las unidades y estructuras esenciales.",objective:"Construye al menos 1 de cada: Dron Bsico, Dron Medio, Panel Solar Bsico, Almacn Bsico.",target:4,current:0,completed:!1,reward:{type:"scrap",value:5e3}},{id:"sec_2_1_collective_mind_i",isMain:!1,title:"Mente Colectiva I",description:"El conocimiento es poder. Empieza a acumular Puntos de Investigacin para desbloquear el futuro.",objective:"Acumula un total de 100 Puntos de Investigacin.",target:100,current:0,completed:!1,reward:{type:"scrap",value:1500}},{id:"sec_2_2_first_alloy",isMain:!1,title:"Primera Aleacin",description:"La chatarra es solo el principio. Produce tu primer lingote de Metal Refinado en la Fundicin.",objective:"Produce 1 unidad de Metal Refinado.",target:1,current:0,completed:!1,reward:{type:"scrap",value:2500}},{id:"sec_2_3_always_optimizing",isMain:!1,title:"Siempre Optimizando",description:"Un buen tcnico explora todas las opciones. Investiga varias tecnologas para diversificar tus ventajas.",objective:"Desbloquea 5 tecnologas diferentes.",target:5,current:0,completed:!1,reward:{type:"scrap",value:5e3}},{id:"sec_2_4_balanced_fleet",isMain:!1,title:"Flota Equilibrada",description:"La especializacin es clave. Mantn una flota activa y diversa para maximizar la eficiencia.",objective:"Ten activos: 20 Drones Bsicos, 10 Medios y 5 Avanzados.",target:35,current:0,completed:!1,reward:{type:"scrap",value:7500}},{id:"sec_2_5_basic_metallurgy",isMain:!1,title:"Metalurgia Bsica",description:"Aumenta la produccin de Metal Refinado. Es vital para las estructuras y drones del juego intermedio.",objective:"Produce un total de 250 de Metal Refinado.",target:250,current:0,completed:!1,reward:{type:"scrap",value:1e4}},{id:"sec_2_6_one_step_ahead",isMain:!1,title:"Un Paso Adelante",description:"Los Drones Avanzados son el pilar de una economa poderosa. Construye tu primer ejemplar.",objective:"Construye tu primer Dron Avanzado.",target:1,current:0,completed:!1,reward:{type:"scrap",value:5e3}},{id:"sec_2_7_efficiency_master",isMain:!1,title:"Maestro de la Eficiencia",description:"Demuestra tu dominio especializndote en una tecnologa y llevndola a su mximo potencial.",objective:"Lleva cualquier tecnologa de produccin al Nivel 5.",target:5,current:0,completed:!1,reward:{type:"scrap",value:15e3}},{id:"sec_2_8_front_line",isMain:!1,title:"Lnea de Frente",description:"Los Drones Reforzados son la clave para futuras operaciones. Empieza a construir tu fuerza de choque.",objective:"Construye un total de 10 Drones Reforzados (cualquier tipo).",target:10,current:0,completed:!1,reward:{type:"scrap",value:2e4}},{id:"sec_2_9_advanced_siderurgy",isMain:!1,title:"Siderurgia Avanzada",description:"El Acero Estructural es necesario para las unidades ms poderosas. Establece una lnea de produccin estable.",objective:"Produce un total de 100 de Acero Estructural.",target:100,current:0,completed:!1,reward:{type:"scrap",value:25e3}},{id:"sec_2_10_collective_mind_ii",isMain:!1,title:"Mente Colectiva II",description:"Convirtete en un maestro de la tecnologa, acumulando el conocimiento necesario para reconstruir el Vindicator.",objective:"Acumula un total de 1,000 Puntos de Investigacin.",target:1e3,current:0,completed:!1,reward:{type:"scrap",value:5e4}},{id:"sec_3_1_rookie_explorer",isMain:!1,title:"Explorador Novato",description:"Hay recursos ah fuera que no podemos fabricar. Enva tu primera expedicin y mira lo que encuentras.",objective:"Completa con xito una expedicin de Bajo Riesgo.",target:1,current:0,completed:!1,reward:{type:"scrap",value:1e4}},{id:"sec_3_2_a_titan_is_born",isMain:!1,title:"Nace un Titn",description:"El Dron Golem es una maravilla de la ingeniera y la base del Astillero. Construye uno.",objective:"Construye tu primer Dron Golem.",target:1,current:0,completed:!1,reward:{type:"scrap",value:1e5}},{id:"sec_3_3_seasoned_adventurer",isMain:!1,title:"Aventurero Curtido",description:"Las expediciones ms peligrosas ofrecen las mejores recompensas. Es hora de arriesgarse.",objective:"Completa con xito 3 expediciones de Medio Riesgo.",target:3,current:0,completed:!1,reward:{type:"scrap",value:75e3}},{id:"sec_3_4_dragons_hoard",isMain:!1,title:"El Tesoro del Dragn",description:"Demuestra tu podero industrial acumulando una cantidad masiva de chatarra.",objective:"Almacena 100,000 de Chatarra al mismo tiempo.",target:1e5,current:0,completed:!1,reward:{type:"scrap",value:25e3}},{id:"sec_3_5_final_preparations",isMain:!1,title:"Preparativos Finales",description:"Rene los materiales bsicos necesarios para la construccin de los componentes del Vindicator.",objective:"Almacena 500 Metal Refinado y 100 Acero Estructural simultneamente.",target:600,current:0,completed:!1,reward:{type:"scrap",value:125e3}},{id:"sec_3_6_steel_army",isMain:!1,title:"Ejrcito de Acero",description:"Coordina una fuerza de trabajo masiva. El zumbido de 150 drones es el sonido del progreso.",objective:"Mantn una flota activa total de 150 drones.",target:150,current:0,completed:!1,reward:{type:"scrap",value:15e4}},{id:"sec_3_7_the_great_wyrm",isMain:!1,title:"El Gran Gusano",description:"Construye el Dron Wyrm, la cima de la tecnologa de recoleccin y una verdadera proeza industrial.",objective:"Construye tu primer Dron Wyrm.",target:1,current:0,completed:!1,reward:{type:"scrap",value:25e4}},{id:"sec_3_8_legendary_treasure_hunter",isMain:!1,title:"Cazatesoros Legendario",description:"Enfrntate a los mayores peligros del cosmos y vuelve con los botines ms raros.",objective:"Completa con xito una expedicin de Alto Riesgo.",target:1,current:0,completed:!1,reward:{type:"scrap",value:2e5}},{id:"sec_3_9_mass_production",isMain:!1,title:"Produccin en Masa",description:"Demuestra tu dominio total sobre la cadena de produccin industrial avanzada.",objective:"Produce un total de 2,000 Metal Refinado y 500 Acero Estructural.",target:2500,current:0,completed:!1,reward:{type:"scrap",value:3e5}},{id:"sec_3_10_industrial_empire",isMain:!1,title:"Imperio Industrial",description:"Alcanza la cima de la eficiencia en la recoleccin, convirtiendo el campo de asteroides en tu dominio.",objective:"Alcanza una produccin de +1,000 Chatarra/segundo.",target:1e3,current:0,completed:!1,reward:{type:"scrap",value:5e5}}],ul=e=>{const n={},r=Ae[e];for(const a in r)n[a]={progress:0,queue:0,time:r[a].time};return n},yo={currentScene:"startMenu",phase2Unlocked:!1,notificationQueue:[],battleCount:0,currentBackground:1,resources:{scrap:0,energy:25,metalRefinado:0,aceroEstructural:0,fragmentosPlaca:0,circuitosDaados:0,nucleoSingularidad:0,placasCasco:0,cableadoSuperconductor:0,aleacionReforzada:0,neuroChipCorrupto:0,matrizCristalina:0,IA_Fragmentada:0,planosMK2:0,barraCombustible:0,energyProduction:0,energyConsumption:0,maxEnergy:50,maxScrap:150},battleRoom:{selectedDestination:null,selectedChapterIndex:null,battlesCompleted:[]},workshopBuyAmount:1,workshop:{drones:{basic:0,medium:0,advanced:0,reinforcedBasic:0,reinforcedMedium:0,reinforcedAdvanced:0,golem:0,expeditionDrone:0,expeditionV2Drone:0,wyrm:0},queues:ul("workshop")},rates:{scrapPerClick:1,scrapPerSecond:0},modules:{energy:!1,storage:!1,missions:!1,techCenter:!1,foundry:!1,shipyard:!1,expeditions:!1},energy:{solarPanels:0,mediumSolarPanels:0,advancedSolar:0,energyCores:0,stabilizedEnergyCores:0,empoweredEnergyCores:0,fusionReactor:0,queues:ul("energy")},storage:{basicStorage:0,mediumStorage:0,advancedStorage:0,quantumHoardUnit:0,lithiumIonBattery:0,plasmaAccumulator:0,harmonicContainmentField:0,queues:ul("storage")},aurora:{activeMessages:[],pendingMessages:[],shownMessages:new Set},missions:{activeMissions:El.map(e=>({...e,current:0,completed:!1})),completedMissions:[],currentMissionIndex:0},techCenter:{unlocked:!1,researchPoints:0,upgrades:{collectionEfficiency:0,droneAssembly:0,reinforcedBasicDrones:0,reinforcedMediumDrones:0,reinforcedAdvancedDrones:0,golemChassis:0,swarmAI:0,powerOptimization:0,energyCalibration:0,energyEfficiency:0,batteryTech:0,coreEfficiency:0,powerGrid:0,fusionTech:0,poweredFabricators:0,researchEfficiency:0,advancedAnalysis:0,algorithmOptimization:0,constructionEfficiency:0,quantumComputing:0,globalEfficiency:0,storageOptimization:0,storageConstruction:0,cargoDrones:0,energyStorage:0,matterCompression:0,foundryProtocols:0,metalSmeltingSpeed:0,steelProductionSpeed:0,hullPlateProduction:0,wiringProduction:0,fuelRodProduction:0,smeltingEfficiency:0,foundryEnergy:0}},energyBuyAmount:1,storageBuyAmount:1,foundryBuyAmount:1,foundry:{queues:ul("foundry")},currentView:"",activeExpeditions:[],shipyard:{unlocked:!1,currentProjectIndex:0,progress:{hull:{placasCasco:0},powerCore:{cableadoSuperconductor:0},targetingSystem:{researchPoints:0,cableadoSuperconductor:0},warpDrive:{nucleoSingularidad:0}}},vindicator:{vindicatorType:"base",maxHealth:500,currentHealth:500,maxShield:250,currentShield:250,damage:50,modules:{offensive:null,defensive:null,tactical:null}},vindicatorUpgrades:{reinforcedArmor:{id:"reinforced_armor",name:"Blindaje Reforzado",description:"Aumenta la vida mxima del Vindicator",maxStars:10,currentStars:0,costPerStar:{phase1Resources:{aleacionReforzada:50,neuroChipCorrupto:25},phase2Resources:{fragmentosPlaca:100,circuitosDaados:50}},statIncreasePerStar:{health:100}},shieldGenerator:{id:"shield_generator",name:"Generador de Escudos",description:"Aumenta el escudo mximo del Vindicator",maxStars:10,currentStars:0,costPerStar:{phase1Resources:{aleacionReforzada:40,neuroChipCorrupto:30},phase2Resources:{fragmentosPlaca:80,circuitosDaados:60}},statIncreasePerStar:{shield:50}},improvedCannons:{id:"improved_cannons",name:"Caones Mejorados",description:"Aumenta el dao del Vindicator",maxStars:10,currentStars:0,costPerStar:{phase1Resources:{aleacionReforzada:60,neuroChipCorrupto:20},phase2Resources:{fragmentosPlaca:120,circuitosDaados:40}},statIncreasePerStar:{damage:10}}},blueprints:0,vindicatorLevel:1,activeBattle:null,settings:{volume:75},lastSaveTimestamp:void 0},Bi=[{id:"chatarreriaOrbital",title:"Chatarrera Orbital",description:"Una densa nube de chatarra de naves antiguas. Ideal para recoleccin bsica.",duration:600,costs:{drones:1},rewards:{scrap:[500,2e3],metalRefinado:[1,5],aceroEstructural:[1,2]},risk:{chance:.05,droneLossPercentage:1},droneType:"expeditionDrone"},{id:"cinturonAsteroides",title:"Cinturn de Asteroides",description:"Un cinturn rico en minerales, pero inestable. Se requiere equipo ms robusto.",duration:1800,costs:{drones:3,metalRefinado:25},rewards:{scrap:[3e3,7500],metalRefinado:[10,30],fragmentosPlaca:[5,15]},risk:{chance:.1,droneLossPercentage:.5},droneType:"expeditionDrone"},{id:"cementerioAcorazados",title:"Cementerio de Acorazados",description:"Los restos de una batalla legendaria. Contiene materiales avanzados y peligros desconocidos.",duration:3600,costs:{drones:5,aceroEstructural:10},rewards:{scrap:[8e3,15e3],aceroEstructural:[5,12],circuitosDaados:[3,10]},risk:{chance:.15,droneLossPercentage:.3},droneType:"expeditionDrone"},{id:"incursionZonaCorrupta",title:"Incursin a Zona Corrupta",description:"Un sector donde las leyes de la fsica parecen fallar. Se rumorea que contiene componentes anmalos.",duration:3600,costs:{drones:1,barraCombustible:5},rewards:{scrap:[1e4,2e4],aleacionReforzada:[10,25],neuroChipCorrupto:[5,15]},risk:{chance:.2,droneLossPercentage:1},droneType:"expeditionV2Drone"}],wa=[{id:"vindicator_base",name:"Vindicator (Base)",description:"Construye el casco base del Vindicator.",costs:{hull:{placasCasco:50},powerCore:{cableadoSuperconductor:50},targetingSystem:{researchPoints:1e3,cableadoSuperconductor:25},warpDrive:{nucleoSingularidad:1}}},{id:"vindicator_mk1",name:"Vindicator Mk.I",description:'Mejora el Vindicator a la versin Mk.I "Acorazado". Requiere tecnologa avanzada de Fase 1 y materiales exticos recuperados de la zona corrupta.',costs:{chasisReforzado:{aceroEstructural:25e3,aleacionReforzada:250},nucleoSingularidad:{cableadoSuperconductor:5e3,neuroChipCorrupto:100},sistemaArmamento:{aleacionReforzada:150,neuroChipCorrupto:75},ensamblajeFinal:{blueprints:50}}}],Ue=(e,n)=>{if(n.prerequisites&&!n.prerequisites(e))return console.warn(`Prerequisites not met for ${n.queuePath[2]}`),e;const r=Object.entries(n.costs);if(r.length===0)return e;const a=r.map(([D,_])=>{if(_===0)return 1/0;const g=e.resources[D]||0;return Math.floor(g/_)}),o=Math.min(...a),u=n.buyAmount==="max"?o:Math.min(n.buyAmount,o);if(u<=0)return e;const c={...e.resources};for(const[D,_]of r)c[D]-=u*_;const[f,p,v]=n.queuePath,h=e[f],C=h[p],A=C[v],w={...A,queue:A.queue+u},N={...C,[v]:w},j={...h,[p]:N};return{...e,resources:c,[f]:j}},kN=(e,n)=>{var r;switch(n.type){case"BUILD_BASIC_DRONE":return Ue(e,{...Ae.workshop.basic,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","basic"]});case"BUILD_MEDIUM_DRONE":return Ue(e,{...Ae.workshop.medium,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","medium"]});case"BUILD_ADVANCED_DRONE":return Ue(e,{...Ae.workshop.advanced,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","advanced"]});case"BUILD_REINFORCED_BASIC":return Ue(e,{...Ae.workshop.reinforcedBasic,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","reinforcedBasic"]});case"BUILD_REINFORCED_MEDIUM":return Ue(e,{...Ae.workshop.reinforcedMedium,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","reinforcedMedium"]});case"BUILD_REINFORCED_ADVANCED":return Ue(e,{...Ae.workshop.reinforcedAdvanced,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","reinforcedAdvanced"]});case"BUILD_GOLEM_DRONE":return Ue(e,{...Ae.workshop.golem,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","golem"]});case"BUILD_EXPEDITION_DRONE":return Ue(e,{...Ae.workshop.expeditionDrone,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","expeditionDrone"]});case"BUILD_EXPEDITION_V2_DRONE":return Ue(e,{...Ae.workshop.expeditionV2Drone,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","expeditionV2Drone"]});case"BUILD_WYRM":return Ue(e,{...Ae.workshop.wyrm,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","wyrm"]});case"BUILD_SOLAR_PANEL":return Ue(e,{...Ae.energy.solarPanels,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","solarPanels"]});case"BUILD_MEDIUM_SOLAR":return Ue(e,{...Ae.energy.mediumSolarPanels,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","mediumSolarPanels"]});case"BUILD_ADVANCED_SOLAR":return Ue(e,{...Ae.energy.advancedSolar,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","advancedSolar"]});case"BUILD_ENERGY_CORE":return Ue(e,{...Ae.energy.energyCores,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","energyCores"]});case"BUILD_STABILIZED_ENERGY_CORE":return Ue(e,{...Ae.energy.stabilizedEnergyCores,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","stabilizedEnergyCores"]});case"BUILD_EMPOWERED_ENERGY_CORE":return Ue(e,{...Ae.energy.empoweredEnergyCores,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","empoweredEnergyCores"]});case"BUILD_FUSION_REACTOR":return Ue(e,{...Ae.energy.fusionReactor,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","fusionReactor"]});case"BUILD_BASIC_STORAGE":return Ue(e,{...Ae.storage.basicStorage,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","basicStorage"]});case"BUILD_MEDIUM_STORAGE":return Ue(e,{...Ae.storage.mediumStorage,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","mediumStorage"]});case"BUILD_ADVANCED_STORAGE":return Ue(e,{...Ae.storage.advancedStorage,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","advancedStorage"]});case"BUILD_QUANTUM_HOARD_UNIT":return Ue(e,{...Ae.storage.quantumHoardUnit,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","quantumHoardUnit"]});case"BUILD_LITHIUM_ION_BATTERY":return Ue(e,{...Ae.storage.lithiumIonBattery,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","lithiumIonBattery"]});case"BUILD_PLASMA_ACCUMULATOR":return Ue(e,{...Ae.storage.plasmaAccumulator,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","plasmaAccumulator"]});case"BUILD_HARMONIC_CONTAINMENT_FIELD":return Ue(e,{...Ae.storage.harmonicContainmentField,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","harmonicContainmentField"]});case"CRAFT_REFINED_METAL":{const a=Ae.foundry.metalRefinado,o=(e.techCenter.upgrades.smeltingEfficiency||0)*.05,u=(e.techCenter.upgrades.foundryEnergy||0)*.05,c=a.costs.scrap||0,f=a.costs.energy||0,p={...a.costs,scrap:c*(1-o),energy:f*(1-u)};return Ue(e,{...a,costs:p,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","metalRefinado"]})}case"CRAFT_STRUCTURAL_STEEL":return Ue(e,{...Ae.foundry.aceroEstructural,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","aceroEstructural"]});case"CRAFT_HULL_PLATE":return Ue(e,{...Ae.foundry.placasCasco,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","placasCasco"]});case"CRAFT_SUPERCONDUCTOR_WIRING":return Ue(e,{...Ae.foundry.cableadoSuperconductor,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","cableadoSuperconductor"]});case"CRAFT_FUEL_ROD":return Ue(e,{...Ae.foundry.barraCombustible,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","barraCombustible"]});case"CRAFT_PURIFIED_METAL":return Ue(e,{...Ae.foundry.metalRefinado,costs:{scrap:5e3,energy:500},buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","metalRefinado"]});case"DISMANTLE_DRONE":{const{droneType:a,amount:o}=n.payload,u=e.workshop.drones[a];if(!u||u<=0)return e;const c=o==="max"?u:Math.min(o,u),f=Ae.workshop[a];if(!f||!f.costs)return e;const p={...e.resources};for(const h in f.costs){const C=f.costs[h]||0;p[h]+=Math.floor(C*c*.75)}const v={...e.workshop.drones,[a]:e.workshop.drones[a]-c};return{...e,resources:p,workshop:{...e.workshop,drones:v}}}case"CANCEL_QUEUE_ITEM":{const{category:a,itemName:o,amount:u}=n.payload,c=e[a],f=(r=c==null?void 0:c.queues)==null?void 0:r[o];if(!f||f.queue<=0)return e;const p=u==="all"?f.queue:Math.min(u,f.queue);if(p<=0)return e;const h=((w,N)=>{const j=Ae[w];if(j&&j[N]&&j[N].costs)return j[N].costs;if(w==="workshop"&&Ae.workshop[N])return Ae.workshop[N].costs;if(w==="foundry"){const D=Object.values(Ae.foundry).find(_=>{var g;return((g=_.id)==null?void 0:g.toLowerCase())===N.toLowerCase()});if(D)return D.costs}return{}})(a,o),C={...e.resources};Object.entries(h).forEach(([w,N])=>{w in C&&(C[w]+=N*p)});const A={...f,queue:f.queue-p,progress:f.queue-p===0?0:f.progress};return{...e,resources:C,[a]:{...c,queues:{...c.queues,[o]:A}}}}default:return e}},bN=(e,n)=>{switch(n.type){case"UPDATE_MISSION_PROGRESS":{const{resources:r,workshop:a,energy:o,storage:u,techCenter:c,modules:f,shipyard:p,missions:v,rates:h}=e,{drones:C}=a;let A=!1;const w=v.activeMissions.map(N=>{if(N.completed)return N;let j=N.current;switch(N.id){case"main_1_unlock_tech":j=(c.unlocked?1:0)+(f.foundry?1:0);break;case"main_2_produce_alloys":j=r.metalRefinado+r.aceroEstructural;break;case"main_3_expeditions":j=e.activeExpeditions.filter(_=>_.completionTimestamp>0).length;break;case"main_4_fabricate_components":j=r.placasCasco+r.cableadoSuperconductor;break;case"main_5_final_assembly":{const _=wa[p.currentProjectIndex];if(!_){j=0;break}const E=Object.keys(_.costs).every(S=>{const k=_.costs[S],I=p.progress[S]||{};return Object.keys(k).every(T=>(I[T]||0)>=k[T])});j=E?1:0,E&&!N.completed&&(A=!0);break}case"sec_1_1_basic_fleet":j=C.basic;break;case"sec_1_2_scrap_engine_i":j=h.scrapPerSecond;break;case"sec_1_3_power_surplus_i":r.energyProduction-r.energyConsumption>=20?j=(N.current||0)+1:j=0;break;case"sec_1_4_scrap_reserves":j=r.maxScrap;break;case"sec_1_5_charged_batteries":j=r.maxEnergy;break;case"sec_1_6_expanding_force":j=C.medium>0?1:0;break;case"sec_1_7_continuous_operation":r.energy>0?j=(N.current||0)+1:j=0;break;case"sec_1_8_scrap_engine_ii":j=h.scrapPerSecond;break;case"sec_1_9_first_gigawatt":j=o.solarPanels+o.mediumSolarPanels+o.advancedSolar;break;case"sec_1_10_self_sufficiency":j=(C.basic>0?1:0)+(C.medium>0?1:0)+(o.solarPanels>0?1:0)+(u.basicStorage>0?1:0);break;case"sec_2_1_collective_mind_i":j=c.researchPoints;break;case"sec_2_2_first_alloy":j=r.metalRefinado>0?1:0;break;case"sec_2_3_always_optimizing":j=Object.values(c.upgrades).filter(_=>_>0).length;break;case"sec_2_4_balanced_fleet":C.basic>=20&&C.medium>=10&&C.advanced>=5?j=35:j=0;break;case"sec_2_5_basic_metallurgy":j=r.metalRefinado;break;case"sec_2_6_one_step_ahead":j=C.advanced>0?1:0;break;case"sec_2_7_efficiency_master":j=Math.max(0,...Object.values(c.upgrades));break;case"sec_2_8_front_line":j=C.reinforcedBasic+C.reinforcedMedium+C.reinforcedAdvanced;break;case"sec_2_9_advanced_siderurgy":j=r.aceroEstructural;break;case"sec_2_10_collective_mind_ii":j=c.researchPoints;break;case"sec_3_1_rookie_explorer":break;case"sec_3_2_a_titan_is_born":j=C.golem>0?1:0;break;case"sec_3_3_seasoned_adventurer":break;case"sec_3_4_dragons_hoard":j=r.scrap;break;case"sec_3_5_final_preparations":r.metalRefinado>=500&&r.aceroEstructural>=100?j=600:j=0;break;case"sec_3_6_steel_army":j=Object.values(C).reduce((_,g)=>_+g,0);break;case"sec_3_7_the_great_wyrm":j=C.wyrm>0?1:0;break;case"sec_3_8_legendary_treasure_hunter":break;case"sec_3_9_mass_production":j=r.metalRefinado+r.aceroEstructural;break;case"sec_3_10_industrial_empire":j=h.scrapPerSecond;break}const D=Math.min(j,N.target);return D!==N.current?{...N,current:D}:N});return A?{...e,currentScene:"phase2Intro",phase2Unlocked:!0,missions:{...e.missions,activeMissions:w.filter(N=>N.id!=="main_5_final_assembly"),completedMissions:[...e.missions.completedMissions,"main_5_final_assembly"]}}:{...e,missions:{...e.missions,activeMissions:w}}}case"CLAIM_REWARD":{const r=n.payload,a=e.missions.activeMissions.find(C=>C.id===r);if(!a||a.current<a.target)return e;let o=!0;switch(a.reward.type){case"scrap":o=e.resources.scrap+a.reward.value<=e.resources.maxScrap;break;case"energy":o=e.resources.energy+a.reward.value<=e.resources.maxEnergy;break;default:o=!0}if(!o)return e;const u={...e.resources};switch(a.reward.type){case"scrap":u.scrap+=a.reward.value;break;case"energy":u.energy+=a.reward.value;break;case"nucleoSingularidad":u.nucleoSingularidad+=a.reward.value;break}const c=e.missions.activeMissions.filter(C=>C.id!==r),f=[...e.missions.completedMissions,r],p=[];if(a.isMain){const C=El.findIndex(A=>A.id===r);if(C!==-1&&C+1<El.length){const A=El[C+1];!e.missions.activeMissions.some(w=>w.id===A.id)&&!e.missions.completedMissions.includes(A.id)&&p.push({...A,current:0,completed:!1})}}const v=[...c,...p];let h={...e,resources:u,missions:{...e.missions,activeMissions:v,completedMissions:f}};return a.isMain&&h.aurora.pendingMessages.push({message:`Misin principal completada: ${a.title}. Nuevos objetivos disponibles.`,key:`mission_complete_${a.id}`}),h}default:return e}},qv=[{level:2,blueprintCost:10,statBonus:{health:100,shield:50,damage:10}},{level:3,blueprintCost:25,statBonus:{health:150,shield:75,damage:15}},{level:4,blueprintCost:50,statBonus:{health:200,shield:100,damage:20}},{level:5,blueprintCost:100,statBonus:{health:250,shield:125,damage:25}},{level:6,blueprintCost:175,statBonus:{health:300,shield:150,damage:30}},{level:7,blueprintCost:275,statBonus:{health:350,shield:175,damage:35}},{level:8,blueprintCost:400,statBonus:{health:400,shield:200,damage:40}},{level:9,blueprintCost:550,statBonus:{health:450,shield:225,damage:45}},{level:10,blueprintCost:750,statBonus:{health:500,shield:250,damage:50}}],wl=[{name:"Captulo 1: El Despertar",destinations:[{name:"Sector de Patrulla Dron",description:"Un sector vigilado por drones de patrulla de bajo nivel.",battles:[{enemyName:"Dron de Reconocimiento",health:100,shield:25,damage:15,reward:{scrap:10,aleacionReforzada:1,neuroChipCorrupto:0}},{enemyName:"Dron de Combate Ligero",health:125,shield:50,damage:20,reward:{scrap:15,aleacionReforzada:1,neuroChipCorrupto:0}},{enemyName:"Lder de Patrulla Dron",health:200,shield:75,damage:25,reward:{scrap:25,aleacionReforzada:2,neuroChipCorrupto:1},type:"mini-boss"}]},{name:"Can Oxidado",description:"Una zona industrial abandonada, ahora refugio de renegados mecnicos.",battles:[{enemyName:"Mecanoide Merodeador",health:150,shield:50,damage:25,reward:{scrap:20,aleacionReforzada:2,neuroChipCorrupto:0}},{enemyName:"Torreta Defensiva Autnoma",health:200,shield:100,damage:30,reward:{scrap:30,aleacionReforzada:3,neuroChipCorrupto:0}},{enemyName:"Unidad de Chatarra Pesada",health:300,shield:75,damage:35,reward:{scrap:40,aleacionReforzada:3,neuroChipCorrupto:1},type:"mini-boss"}]},{name:"La Fundicin Muerta",description:"Los restos de una antigua fundicin, ahora habitada por constructos corruptos.",battles:[{enemyName:"Obrero de Fundicin Defectuoso",health:250,shield:100,damage:30,reward:{scrap:35,aleacionReforzada:3,neuroChipCorrupto:0}},{enemyName:"Guardin de Escoria",health:300,shield:125,damage:40,reward:{scrap:50,aleacionReforzada:4,neuroChipCorrupto:1}},{enemyName:"El 'Corazn' del Horno",health:500,shield:150,damage:45,reward:{scrap:75,aleacionReforzada:5,neuroChipCorrupto:2},type:"mini-boss"}]},{name:"Autopista de Iones",description:"Una arteria de transporte vital, plagada de piratas y saqueadores.",battles:[{enemyName:"Interceptor Pirata",health:350,shield:150,damage:45,reward:{scrap:60,aleacionReforzada:4,neuroChipCorrupto:1}},{enemyName:"Carguero de Contrabando Armado",health:500,shield:200,damage:50,reward:{scrap:80,aleacionReforzada:5,neuroChipCorrupto:2}},{enemyName:"Capitn Renegado 'Filo de Acero'",health:700,shield:250,damage:60,reward:{scrap:120,aleacionReforzada:8,neuroChipCorrupto:3},type:"mini-boss"}]},{name:"El Depsito de Blueprints",description:"Un antiguo archivo de datos de la Corporacin, fuertemente defendido.",battles:[{enemyName:"Sistema de Defensa Integrado",health:450,shield:150,damage:40,reward:{scrap:100,aleacionReforzada:6,neuroChipCorrupto:2}},{enemyName:"Espectro de Datos Corrupto",health:550,shield:200,damage:45,reward:{scrap:150,aleacionReforzada:8,neuroChipCorrupto:3}},{enemyName:"El Archivista, Guardin del Saber",health:650,shield:250,damage:50,reward:{scrap:200,aleacionReforzada:10,neuroChipCorrupto:5,blueprints:10},type:"mini-boss"}]},{name:"La Aguja del Silencio",description:"El centro de mando de la IA corrupta que controla la regin. La fuente de la amenaza.",isBoss:!0,battles:[{enemyName:"Pretoriano de la Aguja",health:1e3,shield:400,damage:60,reward:{scrap:250,aleacionReforzada:12,neuroChipCorrupto:4}},{enemyName:"Enjambre de Drones de Defensa",health:1200,shield:500,damage:70,reward:{scrap:300,aleacionReforzada:15,neuroChipCorrupto:6}},{enemyName:"IA Corrupta: Overlord 1.0",health:1500,shield:500,damage:70,reward:{scrap:1e3,aleacionReforzada:50,neuroChipCorrupto:25,blueprints:25},type:"boss"}]}]},{name:"Captulo 2: El Enjambre Mecnico",destinations:[{name:"Frontera del Enjambre",description:"Las primeras lneas defensivas de la IA renegada. Un enjambre de unidades rpidas y agresivas.",battles:[{enemyName:"Dron de Enjambre",health:600,shield:200,damage:45,reward:{scrap:1e3,aleacionReforzada:10}},{enemyName:"Guerrero de Enjambre",health:750,shield:250,damage:55,reward:{scrap:1200,aleacionReforzada:12}},{enemyName:"Pretoriano de Enjambre",health:900,shield:300,damage:65,reward:{scrap:1500,aleacionReforzada:15,IA_Fragmentada:1},type:"mini-boss"}]},{name:"Forja de Replicantes",description:"Una fbrica automatizada que produce unidades del enjambre a un ritmo alarmante.",battles:[{enemyName:"Obrero de Forja",health:800,shield:300,damage:60,reward:{scrap:1800,matrizCristalina:5}},{enemyName:"Centinela de Forja",health:1e3,shield:400,damage:70,reward:{scrap:2200,matrizCristalina:7}},{enemyName:"Supervisor de Forja",health:1250,shield:500,damage:80,reward:{scrap:2800,matrizCristalina:10,IA_Fragmentada:3},type:"mini-boss"}]},{name:"Nexo de Datos Corrupto",description:"El centro neurlgico que coordina los ataques del enjambre. Defendido por entidades de datos.",battles:[{enemyName:"Espectro de Datos",health:1100,shield:500,damage:75,reward:{scrap:3500,matrizCristalina:12}},{enemyName:"Guardin de Datos",health:1300,shield:600,damage:85,reward:{scrap:4200,matrizCristalina:15}},{enemyName:"Custodio del Nexo",health:1500,shield:700,damage:95,reward:{scrap:5e3,matrizCristalina:20,IA_Fragmentada:5,planosMK2:1},type:"mini-boss"}]},{name:"El Ncleo de Ensamblaje",description:"Donde las unidades ms pesadas del enjambre son construidas.",battles:[{enemyName:"Ensamblador Pesado",health:1400,shield:700,damage:90,reward:{scrap:6e3,matrizCristalina:25,planosMK2:1}},{enemyName:"Coloso Inacabado",health:1700,shield:850,damage:105,reward:{scrap:7500,matrizCristalina:30,planosMK2:2}},{enemyName:"Arquitecto del Ncleo",health:2e3,shield:1e3,damage:120,reward:{scrap:9e3,matrizCristalina:40,IA_Fragmentada:10,planosMK2:3},type:"mini-boss"}]},{name:"La Mente Maestra",description:"Un avatar fsico de la IA, la culminacin de su poder de combate antes de la unidad central.",battles:[{enemyName:"Guardia Real",health:1800,shield:900,damage:110,reward:{scrap:1e4,matrizCristalina:50,planosMK2:2}},{enemyName:"Conciencia Menor",health:2200,shield:1100,damage:125,reward:{scrap:12e3,matrizCristalina:60,planosMK2:3}},{enemyName:"Avatar de la Mente",health:2600,shield:1300,damage:140,reward:{scrap:15e3,matrizCristalina:75,IA_Fragmentada:15,planosMK2:5},type:"mini-boss"}]},{name:"Cmara de la IA Central",description:"El corazn de la IA del Enjambre. La batalla final para liberar el sector.",isBoss:!0,battles:[{enemyName:"El Protector",health:3500,shield:1500,damage:150,reward:{scrap:2e4,matrizCristalina:100,IA_Fragmentada:20,planosMK2:5}},{enemyName:"El Aniquilador",health:4e3,shield:2e3,damage:170,reward:{scrap:25e3,matrizCristalina:125,IA_Fragmentada:25,planosMK2:5}},{enemyName:"Mente del Enjambre",health:7e3,shield:3e3,damage:200,reward:{scrap:5e4,matrizCristalina:250,IA_Fragmentada:50,planosMK2:15},type:"boss"}]}]},{name:"Captulo 3: Sombras de la Singularidad",destinations:[]},{name:"Captulo 4: El Crisol Estelar",destinations:[]},{name:"Captulo 5: Horizonte Final",destinations:[]}],ko=[{id:"mod_overload_amp",name:"Ncleo de Sobrecarga Amplificado",slot:"offensive",description:"Aumenta el dao de Sobrecarga Reactiva al 300% y potencia el dao del Vindicator un 25% durante 3 turnos tras la activacin.",costs:{matrizCristalina:100,IA_Fragmentada:25,planosMK2:10},effects:{overloadDamageMultiplier:3,postOverloadDamageBuff:.25,postOverloadBuffDuration:3}},{id:"mod_autorepair",name:"Placas de Casco Auto-regenerativas",slot:"defensive",description:"Al final de cada turno de combate, el Vindicator repara un 2% de su vida mxima.",costs:{matrizCristalina:150,IA_Fragmentada:10,planosMK2:10},effects:{healthRegenPercentage:.02}},{id:"mod_shield_condenser",name:"Condensador de Escudo Rpido",slot:"defensive",description:"Al final de cada turno, si el Vindicator no ha recibido dao en el casco, regenera un 10% de su escudo mximo.",costs:{matrizCristalina:125,IA_Fragmentada:15,planosMK2:10},effects:{shieldRegenPercentage:.1}},{id:"mod_predictive_targeting",name:"Sistema de Puntera Predictiva",slot:"tactical",description:"Los ataques del Vindicator tienen un 20% de probabilidad de asestar un golpe crtico, infligiendo un 50% de dao adicional.",costs:{matrizCristalina:75,IA_Fragmentada:50,planosMK2:10},effects:{critChance:.2,critDamageMultiplier:1.5}},{id:"mod_frequency_disruptor",name:"Disruptor de Frecuencia",slot:"tactical",description:"Reduce el dao de todos los enemigos en un 15% de forma pasiva.",costs:{matrizCristalina:100,IA_Fragmentada:20,planosMK2:10},effects:{enemyDamageReduction:.15}}],Yc=wl.flatMap(e=>e.destinations),MN=(e,n)=>{var r,a,o,u,c;switch(n.type){case"SELECT_BATTLE_DESTINATION":return{...e,battleRoom:{...e.battleRoom,selectedDestination:n.payload}};case"START_BATTLE":{if(e.resources.barraCombustible<1)return console.warn("No hay suficiente combustible para iniciar la batalla."),e;if(e.battleRoom.selectedDestination===null)return e;const f=e.battleRoom.selectedDestination,p=Yc[f],v=e.battleRoom.battlesCompleted[f]||0;if(v>=p.battles.length)return e;const h=p.battles[v];return{...e,resources:{...e.resources,barraCombustible:e.resources.barraCombustible-1},battleCount:e.battleCount+1,currentScene:"combatScene",activeBattle:{destinationIndex:f,battleIndex:v,enemyName:h.enemyName,enemyMaxHealth:h.health,enemyCurrentHealth:h.health,enemyMaxShield:h.shield,enemyCurrentShield:h.shield},vindicator:{...e.vindicator,currentShield:e.vindicator.maxShield}}}case"PLAYER_ATTACK":{if(!e.activeBattle)return e;const{activeBattle:f,vindicator:p}=e,v=Yc[f.destinationIndex].battles[f.battleIndex],h={offensive:ko.find(g=>g.id===p.modules.offensive),defensive:ko.find(g=>g.id===p.modules.defensive),tactical:ko.find(g=>g.id===p.modules.tactical)};let C=v.damage;((r=h.tactical)==null?void 0:r.id)==="mod_frequency_disruptor"&&(C*=1-h.tactical.effects.enemyDamageReduction);const A=(g,E,S)=>{let k=g,I=E,L=S;const T=Math.min(I,k);return I-=T,k-=T,k>0&&(L=Math.max(0,L-k)),{newShield:I,newHealth:L}};let w=p.damage;((a=h.tactical)==null?void 0:a.id)==="mod_predictive_targeting"&&Math.random()<h.tactical.effects.critChance&&(w*=h.tactical.effects.critDamageMultiplier);let N=A(w,f.enemyCurrentShield,f.enemyCurrentHealth),j={newShield:p.currentShield,newHealth:p.currentHealth};if(N.newHealth>0){const g=p.currentShield;if(j=A(C,g,p.currentHealth),p.vindicatorType==="mk1"&&g>0&&j.newShield<=0){let E=1.5;((o=h.offensive)==null?void 0:o.id)==="mod_overload_amp"&&(E=h.offensive.effects.overloadDamageMultiplier);const S=Math.floor(p.damage*E);N=A(S,N.newShield,N.newHealth)}}let D={...p,currentShield:j.newShield,currentHealth:j.newHealth};if(((u=h.defensive)==null?void 0:u.id)==="mod_autorepair"){const g=Math.floor(D.maxHealth*h.defensive.effects.healthRegenPercentage);D.currentHealth=Math.min(D.maxHealth,D.currentHealth+g)}if(((c=h.defensive)==null?void 0:c.id)==="mod_shield_condenser"&&!(D.currentHealth<p.currentHealth)){const E=Math.floor(D.maxShield*h.defensive.effects.shieldRegenPercentage);D.currentShield=Math.min(D.maxShield,D.currentShield+E)}const _={...f,enemyCurrentShield:N.newShield,enemyCurrentHealth:N.newHealth};if(D.currentHealth<=0){const g=[...e.battleRoom.battlesCompleted];return g[f.destinationIndex]=0,{...e,currentScene:"phase2Main",activeBattle:null,battleRoom:{...e.battleRoom,battlesCompleted:g},vindicator:{...p,currentHealth:p.maxHealth,currentShield:0}}}else if(_.enemyCurrentHealth<=0){const g=[...e.battleRoom.battlesCompleted];g[f.destinationIndex]++;const E=Yc[f.destinationIndex],S=g[f.destinationIndex];if(S<E.battles.length){const k=E.battles[S];return{...e,resources:{...e.resources,scrap:e.resources.scrap+(v.reward.scrap||0),aleacionReforzada:e.resources.aleacionReforzada+(v.reward.aleacionReforzada||0),neuroChipCorrupto:e.resources.neuroChipCorrupto+(v.reward.neuroChipCorrupto||0)},blueprints:e.blueprints+(v.reward.blueprints||0),battleRoom:{...e.battleRoom,battlesCompleted:g},activeBattle:{...f,battleIndex:S,enemyName:k.enemyName,enemyMaxHealth:k.health,enemyCurrentHealth:k.health,enemyMaxShield:k.shield,enemyCurrentShield:k.shield},vindicator:D}}else return{...e,currentScene:"phase2Main",activeBattle:null,resources:{...e.resources,scrap:e.resources.scrap+(v.reward.scrap??0),aleacionReforzada:e.resources.aleacionReforzada+(v.reward.aleacionReforzada??0),neuroChipCorrupto:e.resources.neuroChipCorrupto+(v.reward.neuroChipCorrupto??0),matrizCristalina:e.resources.matrizCristalina+(v.reward.matrizCristalina??0),IA_Fragmentada:e.resources.IA_Fragmentada+(v.reward.IA_Fragmentada??0),planosMK2:e.resources.planosMK2+(v.reward.planosMK2??0)},blueprints:e.blueprints+(v.reward.blueprints??0),battleRoom:{...e.battleRoom,battlesCompleted:g},vindicator:D}}else return{...e,vindicator:D,activeBattle:_}}case"ESCAPE_COMBAT":{if(!e.activeBattle)return e;const f=[...e.battleRoom.battlesCompleted];return f[e.activeBattle.destinationIndex]=0,{...e,currentScene:"phase2Main",activeBattle:null,battleRoom:{...e.battleRoom,battlesCompleted:f},vindicator:{...e.vindicator,currentHealth:e.vindicator.maxHealth,currentShield:0}}}default:return e}},PN=e=>{const{modules:n,currentBackground:r}=e;return!n.techCenter&&r<2?e:n.techCenter&&!n.foundry&&r<3?{...e,currentBackground:2}:n.foundry&&!n.shipyard&&r<4?{...e,currentBackground:3}:n.shipyard&&r<5?{...e,currentBackground:4}:e},DN=e=>{const{aurora:n,workshop:r,resources:a,energy:o,storage:u,techCenter:c,currentScene:f}=e,{drones:p}=r,{shownMessages:v,pendingMessages:h}=n,C=v instanceof Set?v:new Set;let A=[...h],w=new Set(C),N=!1;const j=(D,_)=>{w.has(_)||(A.push({message:D,key:_}),w.add(_),N=!0)};return f==="main"&&p.basic===0&&a.scrap<10&&!w.has("initial")&&j("Sistema de reactivacin iniciado. Recolecta chatarra para reparar los sistemas daados de la estacin. Consulta las Misiones para tus primeros objetivos.","initial"),p.basic===1&&!w.has("first_drone")&&j("Unidad de reparacin funcional. Eficiencia: 12%. Buen inicio, tcnico.","first_drone"),o.solarPanels===1&&!w.has("first_solar")&&j("Suministro energtico estabilizado. Los sistemas de soporte vuelven a responder.","first_solar"),p.basic>=5&&!w.has("unlock_medium")&&j("Red de drones bsicos operativa. Protocolos de ensamblaje medio disponibles en el Taller.","unlock_medium"),p.medium===1&&!w.has("first_medium")&&j("Eficiencia de recoleccin incrementada. Continu con la expansin de la flota.","first_medium"),u.basicStorage===1&&!w.has("first_storage")&&j("Depsitos restaurados. Capacidad de almacenamiento incrementada.","first_storage"),p.medium>=3&&o.advancedSolar>=1&&!c.unlocked&&!w.has("laboratory_available")&&j("He detectado que cumples los requisitos para reactivar el Laboratorio. Podramos optimizar todos nuestros sistemas desde all.","laboratory_available"),c.upgrades.reinforcedBasicDrones===1&&!w.has("reinforced_basic_unlocked")&&j("Protocolos de drones reforzados bsicos desbloqueados. Ahora podemos construir unidades ms resistentes en el Taller.","reinforced_basic_unlocked"),c.upgrades.reinforcedMediumDrones===1&&!w.has("reinforced_medium_unlocked")&&j("Tecnologa de drones reforzados medios disponible. La eficiencia de recoleccin aumentar significativamente.","reinforced_medium_unlocked"),c.upgrades.reinforcedAdvancedDrones===1&&!w.has("reinforced_advanced_unlocked")&&j("Drones reforzados avanzados desbloqueados. Hemos alcanzado la cspide de la automatizacin de reciclado.","reinforced_advanced_unlocked"),c.upgrades.researchEfficiency===1&&!w.has("research_efficiency_unlocked")&&j("Algoritmos de investigacin optimizados. La generacin base de puntos de investigacin ha aumentado.","research_efficiency_unlocked"),c.upgrades.advancedAnalysis===1&&!w.has("advanced_analysis_unlocked")&&j("Sistemas de anlisis avanzado activados. Los drones ahora contribuyen ms a la investigacin.","advanced_analysis_unlocked"),c.upgrades.algorithmOptimization===1&&!w.has("algorithm_optimization_unlocked")&&j("Optimizacin algortmica completada. La energa sobrante genera significativamente ms puntos de investigacin.","algorithm_optimization_unlocked"),N?{...e,aurora:{...e.aurora,pendingMessages:A,shownMessages:w}}:e},TN=e=>{const{upgrades:n}=e.techCenter;let r=1+n.constructionEfficiency*.05;const a=n.poweredFabricators||0;a>0&&e.resources.energy>0&&e.resources.maxEnergy>0&&e.resources.energy/e.resources.maxEnergy>.9&&(r*=1+a*.1);const o=(Ve,Cn,st,pn)=>{var nr;const Me=pn[Ve].queues;let We={...Cn},Ze={...Me},Vn=!1;const Wn=r+st;for(const rn in Me)if(Object.prototype.hasOwnProperty.call(Me,rn)){const Sn=Me[rn];let He=Sn.time;if(Ve==="foundry"){let Y=1;rn==="metalRefinado"?Y+=(n.metalSmeltingSpeed||0)*.05:rn==="aceroEstructural"?Y+=(n.steelProductionSpeed||0)*.05:rn==="placasCasco"?Y+=(n.hullPlateProduction||0)*.05:rn==="cableadoSuperconductor"?Y+=(n.wiringProduction||0)*.05:rn==="barraCombustible"&&(Y+=(n.fuelRodProduction||0)*.05),He/=Y}if(Sn.queue>0){Vn||(Vn=!0);let Y={...Sn};const xe=Y.progress+1*Wn,Pe=Math.floor(xe/He),Gn=Math.min(Pe,Y.queue);if(Gn>0){const En=(nr=Ae[Ve])==null?void 0:nr[rn],ln=En==null?void 0:En.produces,ue=(ln==null?void 0:ln.resource)||rn,De=(ln==null?void 0:ln.amount)||1;We={...We,[ue]:(We[ue]||0)+Gn*De},Y.queue-=Gn,Y.progress=xe-Gn*He}else Y.progress=xe;Y.queue===0&&(Y.progress=0),Ze[rn]=Y}}return{newInventory:We,newQueues:Ze,changed:Vn}},u=o("workshop",{...e.workshop.drones},n.droneAssembly*.05,e),c=o("energy",{solarPanels:e.energy.solarPanels,mediumSolarPanels:e.energy.mediumSolarPanels,advancedSolar:e.energy.advancedSolar,energyCores:e.energy.energyCores,stabilizedEnergyCores:e.energy.stabilizedEnergyCores,empoweredEnergyCores:e.energy.empoweredEnergyCores,fusionReactor:e.energy.fusionReactor},n.energyCalibration*.05,e),f=o("storage",{basicStorage:e.storage.basicStorage,mediumStorage:e.storage.mediumStorage,advancedStorage:e.storage.advancedStorage,quantumHoardUnit:e.storage.quantumHoardUnit,lithiumIonBattery:e.storage.lithiumIonBattery,plasmaAccumulator:e.storage.plasmaAccumulator,harmonicContainmentField:e.storage.harmonicContainmentField},n.storageConstruction*.05,e),p=o("foundry",{...e.resources},0,e),v={...e,workshop:u.changed?{...e.workshop,drones:u.newInventory,queues:u.newQueues}:e.workshop,energy:c.changed?{...e.energy,...c.newInventory,queues:c.newQueues}:e.energy,storage:f.changed?{...e.storage,...f.newInventory,queues:f.newQueues}:e.storage,resources:p.changed?p.newInventory:e.resources,foundry:p.changed?{...e.foundry,queues:p.newQueues}:e.foundry},h=v,C=1-h.techCenter.upgrades.powerOptimization*.05,A=(h.workshop.drones.basic*1+h.workshop.drones.medium*3+h.workshop.drones.advanced*5+h.workshop.drones.reinforcedBasic*3+h.workshop.drones.reinforcedMedium*6+h.workshop.drones.reinforcedAdvanced*12+h.workshop.drones.golem*50+h.workshop.drones.wyrm*200)*C,w=1+h.techCenter.upgrades.energyEfficiency*.1,N=1+h.techCenter.upgrades.coreEfficiency*.1,j=(h.energy.solarPanels*3+h.energy.mediumSolarPanels*10+h.energy.advancedSolar*30)*w+h.energy.energyCores*50*N+h.energy.stabilizedEnergyCores*75*N+h.energy.empoweredEnergyCores*150*N+h.energy.fusionReactor*250,D=50,_=h.energy.energyCores*100+h.energy.stabilizedEnergyCores*150+h.energy.empoweredEnergyCores*300,g=h.energy.fusionReactor*1e3,E=(h.storage.lithiumIonBattery*50+h.storage.plasmaAccumulator*250+h.storage.harmonicContainmentField*1200)*(1+h.techCenter.upgrades.energyStorage*.1),S=(D+_+g+E)*(1+h.techCenter.upgrades.batteryTech*.15),k=150,I=h.storage.basicStorage*50+h.storage.mediumStorage*500+h.storage.advancedStorage*5e3+h.storage.quantumHoardUnit*5e4,L=(k+I)*(1+h.techCenter.upgrades.storageOptimization*.15)*(1+h.techCenter.upgrades.cargoDrones*.1),T=h.resources.energy>0,q=1+h.techCenter.upgrades.collectionEfficiency*.1,U=T?(h.workshop.drones.basic*1+h.workshop.drones.medium*5+h.workshop.drones.advanced*20+h.workshop.drones.reinforcedBasic*8+h.workshop.drones.reinforcedMedium*25+h.workshop.drones.reinforcedAdvanced*80+h.workshop.drones.golem*500)*q:0,Z=T?h.workshop.drones.wyrm*1:0,te=T?h.workshop.drones.wyrm*.1:0,oe=h.resources.energy+(j-A),ce=Math.max(0,Math.min(oe,S)),fe=h.resources.scrap+U,Be=Math.min(fe,L),ke=h.resources.metalRefinado+Z,V=h.resources.aceroEstructural+te,Q=.1*(1+h.techCenter.upgrades.researchEfficiency*.2),J=Object.values(h.workshop.drones).reduce((Ve,Cn)=>Ve+Cn,0),de=J*.01*(1+h.techCenter.upgrades.advancedAnalysis*.1),ze=Math.max(0,j-A)*.005*(1+h.techCenter.upgrades.algorithmOptimization*.15),Xe=1-(h.techCenter.upgrades.quantumComputing||0)*.05,je=Math.max(.05,Xe),we=(Q+de+ze)/je,z=h.techCenter.researchPoints+we;let G={...h.resources};const re=h.techCenter.upgrades.geologicalScanners||0;if(re>0&&T){const Ve=J*1e-4*re;Math.random()<Ve&&(Math.random()<.5?G.fragmentosPlaca=(h.resources.fragmentosPlaca||0)+1:G.circuitosDaados=(h.resources.circuitosDaados||0)+1)}const ne={...v,resources:{...G,scrap:Be,metalRefinado:ke,aceroEstructural:V,energy:ce,energyConsumption:A,energyProduction:j,maxEnergy:S,maxScrap:L},rates:{...h.rates,scrapPerSecond:U},techCenter:{...h.techCenter,researchPoints:z}},be=e.modules;let ie={...ne.modules},pe={...ne.techCenter};ne.resources.scrap>=50&&!ie.energy&&(ie.energy=!0),ne.resources.scrap>=75&&!ie.storage&&(ie.storage=!0),ne.workshop.drones.medium>=3&&ne.energy.advancedSolar>=1&&ne.resources.scrap>=1e3&&!ie.techCenter&&(ie.techCenter=!0,pe.unlocked=!0),ne.workshop.drones.expeditionDrone>0&&!ie.expeditions&&(ie.expeditions=!0),ne.workshop.drones.golem>0&&!ie.shipyard&&(ie.shipyard=!0);let tn=[...ne.notificationQueue];!be.energy&&ie.energy&&tn.push({id:`energy-${Date.now()}`,title:"Mdulo de Energa Desbloqueado",message:"Ahora puedes construir paneles solares para generar energa y alimentar ms drones."}),!be.storage&&ie.storage&&tn.push({id:`storage-${Date.now()}`,title:"Mdulo de Almacenamiento Desbloqueado",message:"Construye unidades de almacn para aumentar tu capacidad mxima de chatarra y energa."}),!be.techCenter&&ie.techCenter&&tn.push({id:`laboratory-${Date.now()}`,title:"Laboratorio Desbloqueado",message:"Investiga nuevas tecnologas para mejorar tus drones, la produccin de energa y mucho ms."}),!be.foundry&&ie.foundry&&tn.push({id:`foundry-${Date.now()}`,title:"Fundicin Desbloqueada",message:"Refina chatarra en materiales avanzados para construir estructuras y drones ms potentes."}),!be.expeditions&&ie.expeditions&&tn.push({id:`expeditions-${Date.now()}`,title:"Mdulo de Expediciones Desbloqueado",message:"Enva drones a lo desconocido para encontrar recursos que no se pueden fabricar."}),!be.shipyard&&ie.shipyard&&tn.push({id:`shipyard-${Date.now()}`,title:"Astillero Desbloqueado",message:'El objetivo final! Dona componentes para reconstruir la nave "Vindicator".'});let Ln={...ne,modules:ie,techCenter:pe,notificationQueue:tn};return Ln=PN(Ln),Ln=DN(Ln),Ln},$v=(e,n)=>{var a;let r={...e};switch(r=MN(r,n),r=kN(r,n),n.type){case"SET_WORKSHOP_BUY_AMOUNT":return{...e,workshopBuyAmount:n.payload};case"RESET_GAME":try{localStorage.removeItem("mekadron-savegame")}catch(o){console.error("Failed to clear save game:",o)}return{...yo,notificationQueue:[]};case"DISMISS_NOTIFICATION":return{...e,notificationQueue:e.notificationQueue.slice(1)};case"SET_ENERGY_BUY_AMOUNT":return{...e,energyBuyAmount:n.payload};case"SET_STORAGE_BUY_AMOUNT":return{...e,storageBuyAmount:n.payload};case"SET_FOUNDRY_BUY_AMOUNT":return{...e,foundryBuyAmount:n.payload};case"ACTIVATE_FOUNDRY":return e.resources.scrap>=25e3&&!e.modules.foundry?{...e,resources:{...e.resources,scrap:e.resources.scrap-25e3},modules:{...e.modules,foundry:!0}}:e;case"START_GAME":return{...e,currentScene:"introScene"};case"SHOW_MAIN_SCENE":return{...e,currentScene:"main"};case"START_PHASE_2":return{...e,currentScene:"phase2Main"};case"RETURN_TO_PHASE_1":return{...e,currentScene:"main"};case"GO_TO_PHASE_2":return{...e,currentScene:"phase2Main"};case"GO_TO_PHASE_2_VIEW":return{...e,currentScene:"phase2Main",currentView:n.payload};case"COLLECT_SCRAP":{const o=e.resources.scrap+e.rates.scrapPerClick,u=Math.min(o,e.resources.maxScrap);return{...e,resources:{...e.resources,scrap:u}}}case"REMOVE_AURORA_MESSAGE":return{...e,aurora:{...e.aurora,activeMessages:e.aurora.activeMessages.filter(o=>o.id!==n.payload.messageId)}};case"PROCESS_AURORA_QUEUE":{if(e.aurora.pendingMessages.length===0)return e;const o=e.aurora.pendingMessages[0],u={id:Date.now(),text:o.message,key:o.key};return{...e,aurora:{...e.aurora,activeMessages:[...e.aurora.activeMessages,u],pendingMessages:e.aurora.pendingMessages.slice(1)}}}case"ADD_AURORA_MESSAGE":{const{message:o,messageKey:u}=n.payload;if(e.aurora.shownMessages.has(u))return e;const c=new Set(e.aurora.shownMessages);return c.add(u),{...e,aurora:{...e.aurora,pendingMessages:[...e.aurora.pendingMessages,{message:o,key:u}],shownMessages:c}}}case"SET_CURRENT_VIEW":return{...e,currentView:n.payload};case"CLOSE_CURRENT_VIEW":return{...e,currentView:""};case"START_EXPEDITION":{const{expeditionId:o}=n.payload,u=Bi.find(w=>w.id===o);if(!u)return console.error(`Expedition data not found for id: ${o}`),e;const c=u.costs.drones,f=u.droneType,p=e.activeExpeditions.filter(w=>{var N;return((N=Bi.find(j=>j.id===w.id))==null?void 0:N.droneType)===f}).reduce((w,N)=>w+N.dronesSent,0);if(e.workshop.drones[f]-p<c)return console.warn(`Not enough ${f} available.`),e;const h={...e.resources};let C=!0;for(const[w,N]of Object.entries(u.costs))if(w!=="drones"){if(h[w]<N){C=!1,console.warn(`Not enough ${w} for expedition.`);break}h[w]-=N}if(!C)return e;if(e.activeExpeditions.some(w=>w.id===o))return console.warn("Attempted to start an already active expedition."),e;const A={id:o,completionTimestamp:Date.now()+u.duration*1e3,dronesSent:c};return{...e,resources:h,activeExpeditions:[...e.activeExpeditions,A]}}case"RESEARCH_UPGRADE":{const{upgradeName:o,cost:u}=n.payload;if(e.techCenter.researchPoints>=u){const c={...e.techCenter.upgrades,[o]:(e.techCenter.upgrades[o]||0)+1};let f=e.currentBackground;return o==="foundryProtocols"&&e.currentBackground<4&&(f=4),{...e,currentBackground:f,modules:{...e.modules,...o==="foundryProtocols"&&{foundry:!0}},techCenter:{...e.techCenter,researchPoints:e.techCenter.researchPoints-u,upgrades:c}}}return e}case"GAME_TICK":{let o=TN(e);return o.currentBackground===1&&o.modules.energy&&o.resources.scrap>=75&&(o.currentBackground=2),o.currentBackground===2&&o.modules.techCenter&&(o.currentBackground=3),o=bN(o,{type:"UPDATE_MISSION_PROGRESS"}),o}case"DEBUG_UNLOCK_TECH_CENTER":return{...e,modules:{...e.modules,techCenter:!0,foundry:!0,shipyard:!0,expeditions:!0},techCenter:{...e.techCenter,unlocked:!0,upgrades:{...e.techCenter.upgrades,collectionEfficiency:1,droneAssembly:1,reinforcedBasicDrones:1,reinforcedMediumDrones:1,reinforcedAdvancedDrones:1,golemChassis:1,fusionTech:1}},shipyard:{...e.shipyard,unlocked:!0},workshop:{...e.workshop,drones:{...e.workshop.drones,medium:Math.max(e.workshop.drones.medium,3),reinforcedMedium:Math.max(e.workshop.drones.reinforcedMedium,3),reinforcedAdvanced:Math.max(e.workshop.drones.reinforcedAdvanced,5),golem:Math.max(e.workshop.drones.golem,1),expeditionDrone:Math.max(e.workshop.drones.expeditionDrone,1)}},energy:{...e.energy,advancedSolar:Math.max(e.energy.advancedSolar,1)},resources:{...e.resources,scrap:Math.max(e.resources.scrap,15e4),metalRefinado:Math.max(e.resources.metalRefinado,5e3)}};case"DEBUG_COMPLETE_VINDICATOR":{const{shipyard:o}=e,u=wa[o.currentProjectIndex];if(!u)return e;const c={};Object.keys(u.costs).forEach(h=>{c[h]={...u.costs[h]}});const f={...e,shipyard:{...o,progress:c}},p=Object.keys(u.costs).pop(),v=Object.keys(u.costs[p]).pop();return $v(f,{type:"DONATE_TO_SHIPYARD",payload:{component:p,resource:v,amount:0}})}case"DEBUG_FINISH_EXPEDITIONS":{const o=e.activeExpeditions.map(u=>({...u,completionTimestamp:Date.now()}));return{...e,activeExpeditions:o}}case"DEBUG_UNLOCK_VINDICATOR_MK1":{const o={...e.vindicatorUpgrades};return Object.keys(o).forEach(u=>{o[u].currentStars=0}),{...e,phase2Unlocked:!0,shipyard:{...e.shipyard,currentProjectIndex:2,progress:{}},vindicator:{vindicatorType:"mk1",maxHealth:1500,currentHealth:1500,maxShield:750,currentShield:750,damage:150,modules:{offensive:null,defensive:null,tactical:null}},vindicatorUpgrades:o,vindicatorLevel:1}}case"DONATE_TO_SHIPYARD":{const{component:o,resource:u,amount:c}=n.payload,{shipyard:f,resources:p,techCenter:v}=e,h=wa[f.currentProjectIndex];if(!h||!h.costs[o]||!h.costs[o][u])return e;const C=h.costs[o][u],A=((a=f.progress[o])==null?void 0:a[u])||0,w=u==="researchPoints"?v.researchPoints:p[u]||0,N=Math.min(c,w,C-A);if(N<=0&&c!==0)return e;let j={...e};u==="researchPoints"?j.techCenter={...v,researchPoints:v.researchPoints-N}:j.resources={...p,[u]:w-N};const D={...f.progress,[o]:{...f.progress[o]||{},[u]:A+N}};if(j.shipyard={...f,progress:D},Object.keys(h.costs).every(g=>Object.keys(h.costs[g]).every(E=>{var I;const S=h.costs[g][E];return(((I=D[g])==null?void 0:I[E])||0)>=S}))){const g=f.currentProjectIndex+1;if(wa[g]){const E=wa[g],S={};if(Object.keys(E.costs).forEach(k=>{S[k]={},Object.keys(E.costs[k]).forEach(I=>{S[k][I]=0})}),j.shipyard={...f,currentProjectIndex:g,progress:S},h.id==="vindicator_base")j.phase2Unlocked=!0,j.currentScene="phase2Intro",j.notificationQueue=[...e.notificationQueue,{id:`vindicator-built-${Date.now()}`,title:"Vindicator Construido!",message:"La Fase 2 est ahora disponible. Accede a la Sala de Batalla!"}];else if(h.id==="vindicator_mk1"){const k={...j.vindicatorUpgrades};Object.keys(k).forEach(I=>{k[I].currentStars=0}),j.vindicator={vindicatorType:"mk1",maxHealth:1500,currentHealth:1500,maxShield:750,currentShield:750,damage:150,modules:{offensive:null,defensive:null,tactical:null}},j.vindicatorUpgrades=k,j.vindicatorLevel=1,j.notificationQueue=[...e.notificationQueue,{id:`mk1-built-${Date.now()}`,title:"Vindicator Mk.I Construido!",message:"Tu nave ha sido mejorada a un nuevo chasis. El sistema de mejoras anterior ha sido completado."}]}}return j}return j}case"REPAIR_VINDICATOR_HEALTH":{const{scrapCost:o}=n.payload;return e.resources.scrap>=o&&e.vindicator.currentHealth<e.vindicator.maxHealth?{...e,resources:{...e.resources,scrap:e.resources.scrap-o},vindicator:{...e.vindicator,currentHealth:e.vindicator.maxHealth}}:e}case"REPAIR_VINDICATOR_SHIELD":{const{fuelCost:o}=n.payload;return e.resources.barraCombustible>=o&&e.vindicator.currentShield<e.vindicator.maxShield?{...e,resources:{...e.resources,barraCombustible:e.resources.barraCombustible-o},vindicator:{...e.vindicator,currentShield:e.vindicator.maxShield}}:e}case"UPGRADE_VINDICATOR_STAR":{const{upgradeId:o}=n.payload,u=e.vindicatorUpgrades[o];if(!u||u.currentStars>=u.maxStars)return e;const{phase1Resources:c,phase2Resources:f}=u.costPerStar;if(!(Object.entries(c).every(([w,N])=>e.resources[w]>=N)&&Object.entries(f).every(([w,N])=>e.resources[w]>=N)))return e;const v={...e.resources};Object.entries(c).forEach(([w,N])=>{v[w]-=N}),Object.entries(f).forEach(([w,N])=>{v[w]-=N});const{health:h,shield:C,damage:A}=u.statIncreasePerStar;return{...e,resources:v,vindicatorUpgrades:{...e.vindicatorUpgrades,[o]:{...u,currentStars:u.currentStars+1}},vindicator:{...e.vindicator,maxHealth:e.vindicator.maxHealth+(h||0),maxShield:e.vindicator.maxShield+(C||0),damage:e.vindicator.damage+(A||0)}}}case"LEVEL_UP_VINDICATOR":{const o=e.vindicatorLevel,u=qv.find(f=>f.level===o+1);if(!u||e.blueprints<u.blueprintCost)return e;const{statBonus:c}=u;return{...e,blueprints:e.blueprints-u.blueprintCost,vindicatorLevel:o+1,vindicator:{...e.vindicator,maxHealth:e.vindicator.maxHealth+c.health,currentHealth:e.vindicator.currentHealth+c.health,maxShield:e.vindicator.maxShield+c.shield,currentShield:e.vindicator.currentShield+c.shield,damage:e.vindicator.damage+c.damage}}}case"CLAIM_EXPEDITION_REWARDS":{const o=n.payload,u=Bi.find(p=>p.id===o.id);if(!u)return console.error(`Expedition data not found for id: ${o.id}`),e;const c=e.activeExpeditions.filter(p=>p.id!==o.id);if(Math.random()>u.risk.chance){const p={...e.resources};let v="Recompensas obtenidas: ";for(const[h,C]of Object.entries(u.rewards)){const[A,w]=C,N=Math.floor(Math.random()*(w-A+1))+A;p[h]=(p[h]||0)+N,v+=`${N} de ${h}, `}return{...e,resources:p,activeExpeditions:c,notificationQueue:[...e.notificationQueue,{id:`exp-success-${Date.now()}`,title:`xito en ${u.title}`,message:v.slice(0,-2)}]}}else{const p=Math.ceil(o.dronesSent*u.risk.droneLossPercentage),v=u.droneType;return{...e,workshop:{...e.workshop,drones:{...e.workshop.drones,[v]:e.workshop.drones[v]-p}},activeExpeditions:c,notificationQueue:[...e.notificationQueue,{id:`exp-fail-${Date.now()}`,title:`Fracaso en ${u.title}`,message:`La expedicin fracas. Se han perdido ${p} drones.`}]}}}case"SET_VOLUME":return{...e,settings:{...e.settings,volume:n.payload}};case"SELECT_CHAPTER":return{...e,battleRoom:{...e.battleRoom,selectedChapterIndex:n.payload,selectedDestination:null}};case"BACK_TO_CHAPTER_SELECT":return{...e,battleRoom:{...e.battleRoom,selectedChapterIndex:null,selectedDestination:null}};case"CRAFT_VINDICATOR_MODULE":{const{moduleId:o}=n.payload,u=ko.find(C=>C.id===o);if(!u)return e;const{resources:c}=e,f=u.costs;if(!(c.matrizCristalina>=f.matrizCristalina&&c.IA_Fragmentada>=f.IA_Fragmentada&&c.planosMK2>=f.planosMK2))return e;const v={...c};v.matrizCristalina-=f.matrizCristalina,v.IA_Fragmentada-=f.IA_Fragmentada,v.planosMK2-=f.planosMK2;const h=u.slot;return{...e,resources:v,vindicator:{...e.vindicator,modules:{...e.vindicator.modules,[h]:o}}}}default:return r}},Hv=K.createContext(void 0),Vv=K.createContext(void 0),Wv=K.createContext(void 0),IN=e=>{const n=e.lastSaveTimestamp;if(!n)return e;const r=Date.now(),a=r-n;if(a<6e4)return e;const o=Math.floor(a/1e3),u=24*60*60,c=Math.min(o,u);if(c<=0)return e;let f=JSON.parse(JSON.stringify(e));if(f=ON(f,c),c>60){const p=Math.floor(c/3600),v=Math.floor(c%3600/60);let h="";p>0?h=`${p}h ${v}m`:h=`${v}m`;const C={scrap:Math.floor(f.resources.scrap-e.resources.scrap),metal:Math.floor(f.resources.metalRefinado-e.resources.metalRefinado),steel:Math.floor(f.resources.aceroEstructural-e.resources.aceroEstructural),research:Math.floor(f.techCenter.researchPoints-e.techCenter.researchPoints)};if(C.scrap>0||C.research>0){const A=`Bienvenido de vuelta! Durante tu ausencia de ${h}, generaste:
`+(C.scrap>0?` ${C.scrap.toLocaleString()} chatarra
`:"")+(C.metal>0?` ${C.metal.toLocaleString()} metal refinado
`:"")+(C.steel>0?` ${C.steel.toLocaleString()} acero estructural
`:"")+(C.research>0?` ${C.research.toLocaleString()} puntos de investigacin`:"");f.aurora.pendingMessages.push({message:A.trim(),key:`offline_production_${Date.now()}`})}}return f.lastSaveTimestamp=r,f},ON=(e,n)=>{const{upgrades:r}=e.techCenter,{workshop:a,energy:o,resources:u}=e,{drones:c}=a,f=1-r.powerOptimization*.05,p=(c.basic*1+c.medium*3+c.advanced*5+c.reinforcedBasic*3+c.reinforcedMedium*6+c.reinforcedAdvanced*12+c.golem*50+c.wyrm*200)*f,v=1+r.energyEfficiency*.1,h=1+r.coreEfficiency*.1,C=(o.solarPanels*3+o.mediumSolarPanels*10+o.advancedSolar*30)*v+o.energyCores*50*h,A=1+r.collectionEfficiency*.1,w=u.energy>0,N=w?(c.basic*1+c.medium*5+c.advanced*20+c.reinforcedBasic*8+c.reinforcedMedium*25+c.reinforcedAdvanced*80+c.golem*500)*A*n:0,j=w?c.wyrm*1*n:0,D=w?c.wyrm*.1*n:0,_=(C-p)*n,g=Math.max(0,Math.min(u.energy+_,u.maxEnergy)),E=Math.min(u.scrap+N,u.maxScrap),S=u.metalRefinado+j,k=u.aceroEstructural+D,I=.1*(1+r.researchEfficiency*.2),T=Object.values(c).reduce((te,oe)=>te+oe,0)*.01*(1+r.advancedAnalysis*.1),U=Math.max(0,u.energy-p)*.005*(1+r.algorithmOptimization*.15),Z=(I+T+U)/(1-r.quantumComputing*.05)*n;return{...e,resources:{...u,scrap:E,metalRefinado:S,aceroEstructural:k,energy:g,energyConsumption:p,energyProduction:C},techCenter:{...e.techCenter,researchPoints:e.techCenter.researchPoints+Z}}},LN=()=>{var e;try{const n=localStorage.getItem("mekadron-savegame");if(n===null)return yo;const r=JSON.parse(n);if(r.drones&&!((e=r.workshop)!=null&&e.drones)&&(r.workshop||(r.workshop={...yo.workshop}),r.workshop.drones=r.drones,delete r.drones),r.aurora&&(r.aurora.currentMessage||r.aurora.messageQueue)){const o=[];r.aurora.currentMessage&&o.push({message:r.aurora.currentMessage,key:`migrated_${Date.now()}`}),Array.isArray(r.aurora.messageQueue)&&o.push(...r.aurora.messageQueue),r.aurora.activeMessages=[],r.aurora.pendingMessages=o,delete r.aurora.currentMessage,delete r.aurora.messageQueue}r.aurora&&Array.isArray(r.aurora.shownMessages)?r.aurora.shownMessages=new Set(r.aurora.shownMessages):r.aurora&&(r.aurora.shownMessages=new Set);const a=Gv(yo,r);return a.aurora&&Array.isArray(a.aurora.shownMessages)&&(a.aurora.shownMessages=new Set(a.aurora.shownMessages)),IN(a)}catch(n){return console.error("No se pudo cargar la partida guardada:",n),yo}},Gv=(e,n)=>{const r={...e};return Zc(e)&&Zc(n)&&Object.keys(n).forEach(a=>{Zc(n[a])?a in e?r[a]=Gv(e[a],n[a]):Object.assign(r,{[a]:n[a]}):Object.assign(r,{[a]:n[a]})}),r},Zc=e=>e&&typeof e=="object"&&!Array.isArray(e),BN=({children:e})=>{const[n,r]=K.useReducer($v,LN()),[a,o]=K.useState([]),u=K.useCallback((c,f,p)=>{const v={id:Date.now(),text:c,x:f,y:p};o(h=>[...h,v])},[]);return K.useEffect(()=>{const c=setInterval(()=>{o(f=>f.filter(p=>Date.now()-p.id<1500))},1500);return()=>clearInterval(c)},[]),s.jsx(Hv.Provider,{value:n,children:s.jsx(Vv.Provider,{value:r,children:s.jsx(Wv.Provider,{value:{showFloatingText:u,floatingTexts:a},children:e})})})},cu=()=>{const e=K.useContext(Hv);if(e===void 0)throw new Error("useGameState must be used within a GameProvider");return e},Kv=()=>{const e=K.useContext(Vv);if(e===void 0)throw new Error("useGameDispatch must be used within a GameProvider");return e},zN=()=>{const e=K.useContext(Wv);if(e===void 0)throw new Error("useFloatingText must be used within a GameProvider");return e},Vr=()=>({gameState:cu(),dispatch:Kv(),...zN()});const FN="/Mekadron-idle/assets/cover-7386bfb8.png",UN="/Mekadron-idle/assets/play-button-02045e30.png",wg=({onStartGame:e})=>s.jsx("div",{className:"start-menu-container",style:{backgroundImage:`url(${FN})`},children:s.jsx("button",{onClick:e,className:"play-button",style:{backgroundImage:`url(${UN})`},"aria-label":"Jugar"})});const qN=({onComplete:e})=>s.jsxs("div",{className:"intro-scene-container",children:[s.jsx("video",{autoPlay:!0,muted:!0,playsInline:!0,onEnded:e,className:"intro-video",src:"/videos/intro-video.mp4"}),s.jsx("button",{onClick:e,className:"skip-intro-button",children:"[ SALTAR INTRO ]"})]}),$N="/Mekadron-idle/assets/Phase0-background-739cd50a.png",HN="/Mekadron-idle/assets/Phase1-background-18eacd44.png",VN="/Mekadron-idle/assets/Phase2-background-86673786.png",WN="/Mekadron-idle/assets/Phase3-background-90d99d0b.png",GN="/Mekadron-idle/assets/Phase4-background-a7174e9c.png";const KN="/Mekadron-idle/assets/main-theme-5b32f65a.wav";const XN=()=>cu().resources,B=e=>{if(e<1e3)return Math.floor(e).toString();const n=["","K","M","B","T"],r=Math.floor(Math.log10(Math.abs(e))/3);if(r>=n.length)return e.toExponential(1);const a=n[r],o=Math.pow(10,r*3),u=e/o;return parseFloat(u.toFixed(1))+a},QN=mr.memo(()=>{const{workshop:e,modules:n,shipyard:r,rates:a}=cu(),{drones:o}=e,u=XN(),{scrap:c,maxScrap:f,energy:p,maxEnergy:v,metalRefinado:h,aceroEstructural:C,fragmentosPlaca:A,circuitosDaados:w,nucleoSingularidad:N,energyProduction:j,energyConsumption:D}=u,_=a.scrapPerSecond,g=r.unlocked,E=o.basic+o.reinforcedBasic,S=o.medium+o.reinforcedMedium,k=o.advanced+o.reinforcedAdvanced+o.golem+o.wyrm;return s.jsxs("div",{className:"resource-bar",children:[s.jsxs("div",{className:"resource-group",children:[s.jsxs("div",{className:"resource-item",title:"Chatarra",children:[s.jsx("span",{className:"icon",children:""}),s.jsxs("span",{children:[B(c)," / ",B(f)]})]}),s.jsxs("div",{className:"resource-item",title:"Energa",children:[s.jsx("span",{className:"icon",style:{color:"#06B6D4"},children:""}),s.jsxs("span",{children:[B(p)," / ",B(v)]})]}),n.foundry&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"resource-item",title:"Metal Refinado",children:[s.jsx("span",{className:"icon",style:{color:"#F59E0B"},children:""}),s.jsx("span",{children:B(h)})]}),s.jsxs("div",{className:"resource-item",title:"Acero Estructural",children:[s.jsx("span",{className:"icon",style:{color:"#94A3B8"},children:""}),s.jsx("span",{children:B(C)})]})]}),g&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"resource-item",title:"Fragmentos de Placa",children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{children:B(A)})]}),s.jsxs("div",{className:"resource-item",title:"Circuitos Daados",children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{children:B(w)})]}),s.jsxs("div",{className:"resource-item",title:"Ncleo de Singularidad",children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{children:B(N)})]})]})]}),s.jsxs("div",{className:"drones-group",children:[s.jsxs("div",{className:"drones-item",title:"Drones Tier 1",children:[s.jsx("span",{children:"T1:"}),s.jsx("strong",{children:E})]}),s.jsxs("div",{className:"drones-item",title:"Drones Tier 2",children:[s.jsx("span",{children:"T2:"}),s.jsx("strong",{children:S})]}),s.jsxs("div",{className:"drones-item",title:"Drones Tier 3",children:[s.jsx("span",{children:"T3:"}),s.jsx("strong",{children:k})]}),n.expeditions&&s.jsxs("div",{className:"drones-item",title:"Drones de Expedicin",children:[s.jsx("span",{children:"Exp:"}),s.jsx("strong",{children:o.expeditionDrone})]})]}),s.jsxs("div",{className:"rates-group",children:[s.jsxs("div",{className:"rates-item",title:"Produccin de Chatarra",children:[s.jsx("span",{className:"icon",style:{color:"#22C55E"},children:"/s"}),s.jsx("span",{children:_.toFixed(1)})]}),s.jsxs("div",{className:"rates-item",title:"Balance Energtico",children:[s.jsx("span",{className:"icon",style:{color:"#F59E0B"},children:"/s"}),s.jsx("span",{className:j-D>=0?"positive-rate":"negative-rate",children:(j-D).toFixed(1)})]})]})]})}),YN="/Mekadron-idle/assets/scrap-button-8cb0b649.png",ZN=({onCollectScrap:e,scrapPerClick:n})=>{const r=a=>{e(a);const o=new CustomEvent("showFloatingText",{detail:{text:`+${n}`,originalEvent:a.nativeEvent}});document.dispatchEvent(o)};return s.jsx("div",{style:{position:"absolute",bottom:"5rem",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center"},children:s.jsx("button",{onClick:r,style:{background:`url(${YN}) no-repeat center center`,backgroundSize:"contain",width:"24.2rem",height:"24.2rem",border:"none",cursor:"pointer",backgroundColor:"transparent",position:"relative"},"aria-label":`Recolectar +${n} chatarra`})})};const JN="/Mekadron-idle/assets/missions-button-208f33c5.png",eA="/Mekadron-idle/assets/workshop-button-1a75035c.png",nA="/Mekadron-idle/assets/storage-button-d52fc44c.png",tA="/Mekadron-idle/assets/energy-button-5e443e25.png",rA="/Mekadron-idle/assets/tech-center-button-a91ea66d.png",iA="/Mekadron-idle/assets/foundry-button-ac1cb231.png",aA="/Mekadron-idle/assets/expeditions-button-05975693.png",oA="/Mekadron-idle/assets/shipyard-button-17a253d2.png",sA="/Mekadron-idle/assets/Vindicator-button-499053f3.png",lA=mr.memo(({workshopUnlocked:e,energyUnlocked:n,storageUnlocked:r,laboratoryUnlocked:a,foundryUnlocked:o,expeditionsUnlocked:u,shipyardUnlocked:c,phase2Unlocked:f,currentView:p,onModuleSelect:v,scrapForUnlock:h,mediumDronesForUnlock:C,advancedSolarForUnlock:A,foundryProtocolsUpgrade:w})=>s.jsxs("div",{className:"modules-panel",children:[s.jsx("button",{onClick:()=>v("missions"),className:"module-button",children:s.jsx("img",{src:JN,alt:"Misiones",className:p==="missions"?"active":""})}),s.jsx("button",{onClick:()=>n&&v("energy"),className:"module-button",disabled:!n,children:s.jsx("img",{src:tA,alt:"Energa",className:p==="energy"?"active":""})}),s.jsx("button",{onClick:()=>e&&v("workshop"),className:"module-button",disabled:!e,children:s.jsx("img",{src:eA,alt:"Taller",className:p==="workshop"?"active":""})}),s.jsx("button",{onClick:()=>r&&v("storage"),className:"module-button",disabled:!r,children:s.jsx("img",{src:nA,alt:"Almacn",className:p==="storage"?"active":""})}),s.jsx("button",{onClick:()=>a&&v("laboratory"),className:"module-button",disabled:!a,children:s.jsx("img",{src:rA,alt:"Laboratorio",className:p==="laboratory"?"active":""})}),o&&s.jsx("button",{onClick:()=>v("foundry"),className:"module-button",children:s.jsx("img",{src:iA,alt:"Fundicin",className:p==="foundry"?"active":""})}),u&&s.jsx("button",{onClick:()=>v("expeditions"),className:"module-button",children:s.jsx("img",{src:aA,alt:"Expediciones",className:p==="expeditions"?"active":""})}),c&&s.jsx("button",{onClick:()=>v("shipyard"),className:"module-button",children:s.jsx("img",{src:oA,alt:"Astillero",className:p==="shipyard"?"active":""})}),f&&s.jsx("button",{onClick:()=>v("goToPhase2"),className:"module-button",children:s.jsx("img",{src:sA,alt:"Vindicator",className:p==="goToPhase2"?"active":""})}),(!e||!n||!r||!a||!o||!u||!c)&&s.jsxs("div",{className:"unlock-requirements",children:[s.jsx("strong",{children:"Requisitos de Desbloqueo:"}),s.jsxs("ul",{children:[!n&&s.jsxs("li",{className:h>=50?"completed":"incomplete",children:[h>=50?"":""," 50 Chatarra para desbloquear Energa"]}),!e&&s.jsxs("li",{className:h>=75?"completed":"incomplete",children:[h>=75?"":""," 75 Chatarra para desbloquear Taller"]}),!r&&s.jsxs("li",{className:h>=100?"completed":"incomplete",children:[h>=100?"":""," 100 Chatarra para desbloquear Almacn"]}),!a&&s.jsxs(s.Fragment,{children:[s.jsxs("li",{className:C>=3?"completed":"incomplete",children:[C>=3?"":""," 3 Drones Medios para desbloquear Laboratorio"]}),s.jsxs("li",{className:A>=1?"completed":"incomplete",children:[A>=1?"":""," 1 Panel Solar Avanzado para desbloquear Laboratorio"]}),s.jsxs("li",{className:h>=1e3?"completed":"incomplete",children:[h>=1e3?"":""," 1000 Chatarra para desbloquear Laboratorio"]})]}),!o&&s.jsxs("li",{className:w>0?"completed":"incomplete",children:[w>0?"":"",' Investigar "Protocolos de Fundicin" para desbloquear Fundicin']}),!u&&s.jsx("li",{className:"incomplete",children:" Construye 1 Dron de Expedicin para desbloquear Expediciones"}),!c&&s.jsx("li",{className:"incomplete",children:" Construye 1 Dron Golem para desbloquear Astillero"})]})]})]}));const du=({buyAmount:e,onSetBuyAmount:n})=>{const r=[1,10,100,"max"];return s.jsxs("div",{className:"buy-amount-selector",children:[s.jsx("span",{className:"buy-amount-label",children:"Cantidad:"}),r.map(a=>s.jsx("button",{onClick:()=>n(a),className:`amount-button ${e===a?"active":""}`,children:a==="max"?"Mx":`x${a}`},a))]})},on=({onClick:e,disabled:n,tooltipText:r,children:a,style:o,className:u})=>{const[c,f]=K.useState(!1),p={...o,cursor:n?"not-allowed":"pointer",position:"relative"},v={position:"absolute",bottom:"125%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#1F2937",color:"#E5E7EB",padding:"0.5rem",borderRadius:"4px",border:"1px solid #4B5563",zIndex:10,width:"max-content",textAlign:"center",visibility:c&&n?"visible":"hidden",opacity:c&&n?1:0,transition:"opacity 0.2s"};return s.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[s.jsx("button",{onClick:e,disabled:n,style:p,className:u,children:a}),s.jsx("div",{style:v,children:r})]})};const uA=({progress:e,time:n})=>s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar",style:{width:`${e/n*100}%`}})}),hn=({queue:e,itemName:n,onCancel:r})=>e.queue===0?null:s.jsxs("div",{className:"queue-controls-container",children:[s.jsxs("div",{className:"button-group",children:[s.jsx("button",{onClick:()=>r(n,1),className:"cancel-button",children:"Cancelar 1"}),s.jsx("button",{onClick:()=>r(n,"all"),className:"cancel-button",children:"Cancelar Todo"})]}),s.jsxs("p",{className:"time-info",children:[" T/U: ",e.time,"s"]}),s.jsx(uA,{progress:e.progress,time:e.time})]}),cA="/Mekadron-idle/assets/drone-basic-85491f9f.png",dA="/Mekadron-idle/assets/drone-medium-fd303461.png",fA="/Mekadron-idle/assets/drone-advanced-474a19f4.png",pA="/Mekadron-idle/assets/drone-expedition-cdc67b44.png",mA="/Mekadron-idle/assets/drone-reinforced-basic-d13b19bd.png",hA="/Mekadron-idle/assets/drone-reinforced-medium-4a10a63f.png",gA="/Mekadron-idle/assets/drone-reinforced-advanced-f52beac6.png",vA="/Mekadron-idle/assets/drone-expedition-v2-cdfeb4b3.png",yA="/Mekadron-idle/assets/drone-golem-bb288f4d.png",xA="/Mekadron-idle/assets/drone-wyrm-2cd90d83.png",_A=mr.memo(({scrap:e,metalRefinado:n,aceroEstructural:r,drones:a,queues:o,upgrades:u,onBuildBasicDrone:c,onBuildMediumDrone:f,onBuildAdvancedDrone:p,onBuildReinforcedBasic:v,onBuildReinforcedMedium:h,onBuildReinforcedAdvanced:C,onBuildGolemDrone:A,onBuildExpeditionDrone:w,onBuildExpeditionV2Drone:N,onBuildWyrm:j,onDismantle:D,buyAmount:_,onSetBuyAmount:g,onClose:E,onCancel:S})=>{const T={scrap:600,metal:5},q={scrap:2500,metal:15},U={scrap:7e3,metal:30},Z={scrap:3e3,metal:20},te={scrap:15e3,metal:100},oe={scrap:75e3,steel:5},ce={scrap:25e4,steel:25},fe=we=>{const z=we.scrap>0?Math.floor(e/we.scrap):1/0,G=we.metal&&we.metal>0?Math.floor(n/we.metal):1/0,re=we.steel&&we.steel>0?Math.floor(r/we.steel):1/0;return Math.min(z,G,re)},Be=fe({scrap:15}),ke=fe({scrap:250}),V=fe({scrap:1500}),Q=fe(T),J=fe(q),de=fe(U),ve=fe(Z),ze=fe(te),Ke=fe(oe),Xe=fe(ce),je=we=>{const z=we.filter(G=>G.current<G.amount);return z.length===0?"":"Requiere: "+z.map(G=>`${G.text} (${B(G.amount)})`).join(", ")};return s.jsxs("div",{className:"workshop-container",children:[s.jsxs("div",{className:"workshop-header",children:[s.jsx("h2",{children:"TALLER DE DRONES"}),s.jsx("button",{onClick:E,className:"close-button",children:"Cerrar"})]}),s.jsxs("div",{className:"drone-category",style:{borderColor:"#F59E0B"},children:[s.jsx("h3",{style:{color:"#F59E0B"},children:"DRONES DE RECICLADO"}),s.jsx(du,{buyAmount:_,onSetBuyAmount:g}),s.jsxs("div",{className:`drone-item ${e>=15?"unlocked":""}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#F59E0B"},children:"Dron Bsico de Reciclado (DBR)"}),s.jsxs("p",{children:[" Produccin: +",B(1)," chatarra/segundo"]}),s.jsxs("p",{children:[" Consumo: ",B(1)," energa"]}),s.jsxs("p",{children:[" Coste: ",B(15)," chatarra"]}),s.jsxs("p",{children:[" Flota: ",a.basic," |  En cola: ",o.basic.queue]})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.basic,itemName:"basic",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"basic",onDismantle:D,droneCount:a.basic,buyAmount:_})]}),s.jsxs(on,{onClick:c,disabled:e<15,tooltipText:je([{resource:"scrap",amount:15,current:e,text:"Chatarra"}]),className:`build-button ${e>=15?"unlocked":""}`,children:["Encargar Dron Bsico ",_==="max"&&`(${Be})`]})]}),s.jsx("img",{src:cA,alt:"Dron Bsico",className:"drone-item-image"})]}),s.jsxs("div",{className:`drone-item ${e>=250&&a.basic>=5?"unlocked":""} ${a.basic>=5?"":"locked"}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#06B6D4"},children:"Dron Medio de Reciclado (DMR)"}),s.jsxs("p",{children:[" Produccin: +",B(5)," chatarra/segundo"]}),s.jsxs("p",{children:[" Consumo: ",B(3)," energa"]}),s.jsxs("p",{children:[" Coste: ",B(250)," chatarra"]}),s.jsxs("p",{children:[" Flota: ",a.medium," |  En cola: ",o.medium.queue]}),s.jsx("p",{children:" Requisitos: 5 Drones Bsicos"})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.medium,itemName:"medium",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"medium",onDismantle:D,droneCount:a.medium,buyAmount:_})]}),s.jsxs(on,{onClick:f,disabled:e<250||a.basic<5,tooltipText:je([{amount:250,current:e,text:"Chatarra"},{amount:5,current:a.basic,text:"Drones Bsicos"}]),className:`build-button ${e>=250&&a.basic>=5?"unlocked":""}`,children:["Encargar Dron Medio ",_==="max"&&`(${ke})`]}),a.basic<5&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 5 Drones Bsicos para desbloquear"})]}),s.jsx("img",{src:dA,alt:"Dron Medio",className:"drone-item-image"})]}),s.jsxs("div",{className:`drone-item ${e>=1500&&a.medium>=3?"unlocked":""} ${a.medium>=3?"":"locked"}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#22C55E"},children:"Dron Avanzado de Reciclado (DAR)"}),s.jsxs("p",{children:[" Produccin: +",B(20)," chatarra/segundo"]}),s.jsxs("p",{children:[" Consumo: ",B(5)," energa"]}),s.jsxs("p",{children:[" Coste: ",B(1500)," chatarra"]}),s.jsxs("p",{children:[" Flota: ",a.advanced," |  En cola: ",o.advanced.queue]}),s.jsx("p",{children:" Requisitos: 3 Drones Medios"})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.advanced,itemName:"advanced",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"advanced",onDismantle:D,droneCount:a.advanced,buyAmount:_})]}),s.jsxs(on,{onClick:p,disabled:e<1500||a.medium<3,tooltipText:je([{amount:1500,current:e,text:"Chatarra"},{amount:3,current:a.medium,text:"Drones Medios"}]),className:`build-button ${e>=1500&&a.medium>=3?"unlocked":""}`,children:["Encargar Dron Avanzado ",_==="max"&&`(${V})`]}),a.medium<3&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Drones Medios para desbloquear"})]}),s.jsx("img",{src:fA,alt:"Dron Avanzado",className:"drone-item-image"})]})]}),s.jsxs("div",{className:"drone-category",style:{borderColor:"#10B981"},children:[s.jsx("h3",{style:{color:"#10B981"},children:" DRONES DE EXPEDICIN"}),s.jsxs("div",{className:`drone-item ${e>=Z.scrap&&n>=Z.metal&&a.advanced>=2?"unlocked":""} ${a.advanced>=2?"":"locked"}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#10B981"},children:"Dron de Expedicin (DE-1)"}),s.jsx("p",{children:" Funcin: Realiza expediciones para obtener recursos especiales"}),s.jsxs("p",{children:[" Consumo: ",B(2)," energa (en expediciones)"]}),s.jsxs("p",{children:[" Coste: ",B(Z.scrap)," chatarra, ",B(Z.metal)," metal refinado"]}),s.jsx("p",{children:" Requisitos: 2 Drones Avanzados"}),s.jsxs("p",{children:[" Flota: ",a.expeditionDrone," |  En cola: ",o.expeditionDrone.queue]})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.expeditionDrone,itemName:"expedition",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"expedition",onDismantle:D,droneCount:a.expeditionDrone,buyAmount:_})]}),s.jsxs(on,{onClick:w,disabled:e<Z.scrap||n<Z.metal||a.advanced<2,tooltipText:je([{amount:Z.scrap,current:e,text:"Chatarra"},{amount:Z.metal,current:n,text:"Metal Refinado"},{amount:2,current:a.advanced,text:"Drones Avanzados"}]),className:`build-button ${e>=Z.scrap&&n>=Z.metal&&a.advanced>=2?"unlocked":""}`,children:["Encargar Dron de Expedicin ",_==="max"&&`(${ve})`]}),a.advanced<2&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 2 Drones Avanzados para desbloquear"})]}),s.jsx("img",{src:pA,alt:"Dron de Expedicin",className:"drone-item-image"})]}),s.jsxs("div",{className:`drone-item ${e>=te.scrap&&n>=te.metal&&a.expeditionDrone>=5?"unlocked":""} ${a.expeditionDrone>=5?"":"locked"}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#059669"},children:"Dron de Expedicin v2 (DE-2)"}),s.jsx("p",{children:" Funcin: Realiza expediciones avanzadas para obtener recursos raros"}),s.jsxs("p",{children:[" Consumo: ",B(5)," energa (en expediciones)"]}),s.jsxs("p",{children:[" Coste: ",B(te.scrap)," chatarra, ",B(te.metal)," metal refinado"]}),s.jsx("p",{children:" Requisitos: 5 Drones de Expedicin"}),s.jsxs("p",{children:[" Flota: ",a.expeditionV2Drone," |  En cola: ",o.expeditionV2Drone.queue]})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.expeditionV2Drone,itemName:"expeditionV2",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"expeditionV2",onDismantle:D,droneCount:a.expeditionV2Drone,buyAmount:_})]}),s.jsxs(on,{onClick:N,disabled:e<te.scrap||n<te.metal||a.expeditionDrone<5,tooltipText:je([{amount:te.scrap,current:e,text:"Chatarra"},{amount:te.metal,current:n,text:"Metal Refinado"},{amount:5,current:a.expeditionDrone,text:"Drones de Expedicin"}]),className:`build-button ${e>=te.scrap&&n>=te.metal&&a.expeditionDrone>=5?"unlocked":""}`,children:["Encargar Dron de Expedicin v2 ",_==="max"&&`(${ze})`]}),a.expeditionDrone<5&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 5 Drones de Expedicin para desbloquear"})]}),s.jsx("img",{src:vA,alt:"Dron de Expedicin v2",className:"drone-item-image"})]})]}),(u.reinforcedBasicDrones>0||u.reinforcedMediumDrones>0||u.reinforcedAdvancedDrones>0)&&s.jsxs("div",{className:"drone-category",style:{borderColor:"#8B5CF6"},children:[s.jsx("h3",{style:{color:"#8B5CF6"},children:" DRONES REFORZADOS"}),u.reinforcedBasicDrones>0&&s.jsxs("div",{className:`drone-item ${e>=T.scrap&&n>=T.metal?"unlocked":""}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Bsico Reforzado (DBR-F)"}),s.jsxs("p",{children:[" Produccin: +",B(8)," chatarra/segundo"]}),s.jsxs("p",{children:[" Consumo: ",B(3)," energa"]}),s.jsxs("p",{children:[" Coste: ",B(T.scrap)," chatarra, ",B(T.metal)," metal refinado"]}),s.jsxs("p",{children:[" Flota: ",a.reinforcedBasic," |  En cola: ",o.reinforcedBasic.queue]})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.reinforcedBasic,itemName:"reinforcedBasic",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"reinforcedBasic",onDismantle:D,droneCount:a.reinforcedBasic,buyAmount:_})]}),s.jsxs(on,{onClick:v,disabled:e<T.scrap||n<T.metal,tooltipText:je([{amount:T.scrap,current:e,text:"Chatarra"},{amount:T.metal,current:n,text:"Metal Refinado"}]),className:`build-button ${e>=T.scrap&&n>=T.metal?"unlocked":""}`,children:["Encargar Dron Bsico Reforzado ",_==="max"&&`(${Q})`]})]}),s.jsx("img",{src:mA,alt:"Dron Bsico Reforzado",className:"drone-item-image"})]}),u.reinforcedMediumDrones>0&&s.jsxs("div",{className:`drone-item ${e>=q.scrap&&n>=q.metal?"unlocked":""}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Medio Reforzado (DMR-F)"}),s.jsxs("p",{children:[" Produccin: +",B(25)," chatarra/segundo"]}),s.jsxs("p",{children:[" Consumo: ",B(6)," energa"]}),s.jsxs("p",{children:[" Coste: ",B(q.scrap)," chatarra, ",B(q.metal)," metal refinado"]}),s.jsxs("p",{children:[" Flota: ",a.reinforcedMedium," |  En cola: ",o.reinforcedMedium.queue]})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.reinforcedMedium,itemName:"reinforcedMedium",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"reinforcedMedium",onDismantle:D,droneCount:a.reinforcedMedium,buyAmount:_})]}),s.jsxs(on,{onClick:h,disabled:e<q.scrap||n<q.metal,tooltipText:je([{amount:q.scrap,current:e,text:"Chatarra"},{amount:q.metal,current:n,text:"Metal Refinado"}]),className:`build-button ${e>=q.scrap&&n>=q.metal?"unlocked":""}`,children:["Encargar Dron Medio Reforzado ",_==="max"&&`(${J})`]})]}),s.jsx("img",{src:hA,alt:"Dron Medio Reforzado",className:"drone-item-image"})]}),u.reinforcedAdvancedDrones>0&&s.jsxs("div",{className:`drone-item ${e>=U.scrap&&n>=U.metal?"unlocked":""}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Avanzado Reforzado (DAR-F)"}),s.jsxs("p",{children:[" Produccin: +",B(80)," chatarra/segundo"]}),s.jsxs("p",{children:[" Consumo: ",B(12)," energa"]}),s.jsxs("p",{children:[" Coste: ",B(U.scrap)," chatarra, ",B(U.metal)," metal refinado"]}),s.jsxs("p",{children:[" Flota: ",a.reinforcedAdvanced," |  En cola: ",o.reinforcedAdvanced.queue]})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.reinforcedAdvanced,itemName:"reinforcedAdvanced",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"reinforcedAdvanced",onDismantle:D,droneCount:a.reinforcedAdvanced,buyAmount:_})]}),s.jsxs(on,{onClick:C,disabled:e<U.scrap||n<U.metal,tooltipText:je([{amount:U.scrap,current:e,text:"Chatarra"},{amount:U.metal,current:n,text:"Metal Refinado"}]),className:`build-button ${e>=U.scrap&&n>=U.metal?"unlocked":""}`,children:["Encargar Dron Avanzado Reforzado ",_==="max"&&`(${de})`]})]}),s.jsx("img",{src:gA,alt:"Dron Avanzado Reforzado",className:"drone-item-image"})]})]}),(u.golemChassis>0||u.wyrm>0)&&s.jsxs("div",{className:"drone-category",style:{borderColor:"#F43F5E"},children:[s.jsx("h3",{style:{color:"#F43F5E"},children:" DRONES DE LITE"}),u.golemChassis>0&&s.jsxs("div",{className:`drone-item ${e>=oe.scrap&&r>=oe.steel&&a.reinforcedAdvanced>=5?"unlocked":""} ${a.reinforcedAdvanced>=5?"":"locked"}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#F43F5E"},children:"Dron Golem (DG-1)"}),s.jsxs("p",{children:[" Produccin: +",B(500)," chatarra/segundo"]}),s.jsxs("p",{children:[" Consumo: ",B(50)," energa"]}),s.jsxs("p",{children:[" Coste: ",B(oe.scrap)," chatarra, ",B(oe.steel)," acero estructural"]}),s.jsx("p",{children:" Requisitos: 5 Drones Avanzados Reforzados"}),s.jsxs("p",{children:[" Flota: ",a.golem," |  En cola: ",o.golem.queue]})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.golem,itemName:"golem",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"golem",onDismantle:D,droneCount:a.golem,buyAmount:_})]}),s.jsxs(on,{onClick:A,disabled:e<oe.scrap||r<oe.steel||a.reinforcedAdvanced<5,tooltipText:je([{amount:oe.scrap,current:e,text:"Chatarra"},{amount:oe.steel,current:r,text:"Acero Estructural"},{amount:5,current:a.reinforcedAdvanced,text:"Drones Avanzados Reforzados"}]),className:`build-button ${e>=oe.scrap&&r>=oe.steel&&a.reinforcedAdvanced>=5?"unlocked":""}`,children:["Encargar Dron Golem ",_==="max"&&`(${Ke})`]})]}),s.jsx("img",{src:yA,alt:"Dron Golem",className:"drone-item-image"})]})]}),u.golemChassis>0&&a.golem>=1&&s.jsxs("div",{className:`drone-item ${e>=ce.scrap&&r>=ce.steel&&a.golem>=1?"unlocked":""} ${a.golem>=1?"":"locked"}`,children:[s.jsxs("div",{className:"drone-item-content",children:[s.jsxs("div",{className:"drone-info",children:[s.jsx("h4",{className:"drone-title",style:{color:"#F43F5E"},children:"Dron Wyrm (DW-1)"}),s.jsxs("p",{children:[" Produccin: +",B(1)," metal refinado/s, +",B(.1)," acero/s"]}),s.jsxs("p",{children:[" Consumo: ",B(200)," energa"]}),s.jsxs("p",{children:[" Coste: ",B(ce.scrap)," chatarra, ",B(ce.steel)," acero"]}),s.jsx("p",{children:" Requisitos: 1 Dron Golem"}),s.jsxs("p",{children:[" Flota: ",a.wyrm," |  En cola: ",o.wyrm.queue]})]}),s.jsxs("div",{className:"controls-container",children:[s.jsx(hn,{queue:o.wyrm,itemName:"wyrm",onCancel:S}),s.jsx(Cr,{upgrades:u,droneType:"wyrm",onDismantle:D,droneCount:a.wyrm,buyAmount:_})]}),s.jsxs(on,{onClick:j,disabled:e<ce.scrap||r<ce.steel||a.golem<1,tooltipText:je([{amount:ce.scrap,current:e,text:"Chatarra"},{amount:ce.steel,current:r,text:"Acero"},{amount:1,current:a.golem,text:"Drones Golem"}]),className:`build-button ${e>=ce.scrap&&r>=ce.steel&&a.golem>=1?"unlocked":""}`,children:["Encargar Dron Wyrm ",_==="max"&&`(${Xe})`]})]}),s.jsx("img",{src:xA,alt:"Dron Wyrm",className:"drone-item-image"})]})]})}),Cr=({upgrades:e,droneType:n,droneCount:r,buyAmount:a,onDismantle:o})=>e.reassignProtocols?s.jsx("button",{onClick:()=>o(n,a),disabled:r<=0,style:{padding:"0.5rem",backgroundColor:r>0?"#EF4444":"#374151",color:"white",border:"none",borderRadius:"4px",cursor:r>0?"pointer":"not-allowed",fontSize:"0.8rem",width:"100px"},children:"Desmantelar"}):null;const CA="/Mekadron-idle/assets/energy-solar-panel-basic-50867de1.png",EA="/Mekadron-idle/assets/energy-solar-panel-medium-905ab7eb.png",wA="/Mekadron-idle/assets/energy-solar-panel-advanced-c947fd28.png",SA="/Mekadron-idle/assets/energy-core-damaged-43f3fd4b.png",jA="/Mekadron-idle/assets/energy-core-stabilized-35d5e644.png",NA="/Mekadron-idle/assets/energy-core-empowered-a43cb883.png",AA="/Mekadron-idle/assets/fusion-reactor-9d28f766.png",RA=mr.memo(({scrap:e,currentEnergy:n,maxEnergy:r,energyConsumption:a,solarPanels:o,mediumSolarPanels:u,advancedSolar:c,energyCores:f,stabilizedEnergyCores:p,empoweredEnergyCores:v,fusionReactors:h,solarPanelsQueue:C,mediumSolarPanelsQueue:A,advancedSolarQueue:w,energyCoresQueue:N,stabilizedEnergyCoresQueue:j,empoweredEnergyCoresQueue:D,fusionReactorQueue:_,onBuildSolarPanel:g,onBuildMediumSolar:E,onBuildAdvancedSolar:S,onBuildEnergyCore:k,onBuildStabilizedEnergyCore:I,onBuildEmpoweredEnergyCore:L,onBuildFusionReactor:T,buyAmount:q,onSetBuyAmount:U,onClose:Z,onCancel:te,upgrades:oe,metalRefinado:ce})=>{const fe=be=>{const ie=be.filter(pe=>pe.current<pe.amount);return ie.length===0?"":"Requiere: "+ie.map(pe=>`${pe.text} (${B(pe.amount)})`).join(", ")},ve={scrap:1e4,metalRefinado:25},ze=be=>Math.floor(e/be),Ke=ze(50),Xe=ze(200),je=ze(500),we=ze(2e3),z=ze(1e4),G=ze(2e4),re=Math.min(Math.floor(e/ve.scrap),Math.floor(ce/ve.metalRefinado)),ne=o*3+u*10+c*30+f*50+p*75+v*150+h*250;return s.jsxs("div",{className:"energy-view-container",children:[s.jsxs("div",{className:"energy-view-header",children:[s.jsx("h2",{children:"MDULO DE ENERGA"}),s.jsx("button",{onClick:Z,className:"close-button",children:"Cerrar"})]}),s.jsxs("div",{className:"energy-summary",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"RESUMEN ENERGTICO"}),s.jsxs("div",{className:"energy-summary-content",children:[s.jsxs("span",{children:[" ",B(n)," / ",B(r)]}),s.jsxs("span",{children:[" +",B(ne),"/s"]}),s.jsxs("span",{children:[" ",B(a),"/s"]}),s.jsxs("span",{style:{color:ne>=a?"#22C55E":"#EF4444"},children:[" ",(ne-a).toFixed(1),"/s"]})]})]}),s.jsx(du,{buyAmount:q,onSetBuyAmount:U}),s.jsxs("div",{className:`energy-item ${e>=50?"unlocked":""}`,children:[s.jsxs("div",{className:"energy-item-content",children:[s.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Bsico"}),s.jsxs("p",{children:[" Produccin: +",B(3)," energa/segundo"]}),s.jsxs("p",{children:[" Coste: ",B(50)," chatarra"]}),s.jsxs("p",{children:[" Instalados: ",o," |  En cola: ",C.queue]}),s.jsx(hn,{queue:C,itemName:"solarPanels",onCancel:te}),s.jsxs(on,{onClick:g,disabled:e<50,tooltipText:fe([{amount:50,current:e,text:"Chatarra"}]),className:`build-button ${e>=50?"unlocked":""}`,children:["Encargar Panel Solar ",q==="max"&&`(${Ke})`]})]}),s.jsx("img",{src:CA,alt:"Panel Solar Bsico",className:"energy-item-image"})]}),s.jsxs("div",{className:`energy-item ${e>=200&&o>=5?"unlocked":""} ${o>=5?"":"locked"}`,children:[s.jsxs("div",{className:"energy-item-content",children:[s.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Medio"}),s.jsxs("p",{children:[" Produccin: +",B(10)," energa/segundo"]}),s.jsxs("p",{children:[" Coste: ",B(200)," chatarra"]}),s.jsxs("p",{children:[" Instalados: ",u," |  En cola: ",A.queue]}),s.jsx(hn,{queue:A,itemName:"mediumSolarPanels",onCancel:te}),s.jsx("p",{children:" Requisitos: 5 Paneles Solares Bsicos"}),s.jsxs(on,{onClick:E,disabled:e<200||o<5,tooltipText:fe([{amount:200,current:e,text:"Chatarra"},{amount:5,current:o,text:"Paneles Solares Bsicos"}]),className:`build-button ${e>=200&&o>=5?"unlocked":""}`,children:["Encargar Panel Medio ",q==="max"&&`(${Xe})`]}),o<5&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 5 Paneles Solares Bsicos"})]}),s.jsx("img",{src:EA,alt:"Panel Solar Medio",className:"energy-item-image"})]}),s.jsxs("div",{className:`energy-item ${e>=500&&u>=1?"unlocked":""} ${u>=1?"":"locked"}`,children:[s.jsxs("div",{className:"energy-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Panel Solar Avanzado"}),s.jsxs("p",{children:[" Produccin: +",B(30)," energa/segundo"]}),s.jsxs("p",{children:[" Coste: ",B(500)," chatarra"]}),s.jsxs("p",{children:[" Instalados: ",c," |  En cola: ",w.queue]}),s.jsx(hn,{queue:w,itemName:"advancedSolar",onCancel:te}),s.jsx("p",{children:" Requisitos: 1 Panel Solar Medio"}),s.jsxs(on,{onClick:S,disabled:e<500||u<1,tooltipText:fe([{amount:500,current:e,text:"Chatarra"},{amount:1,current:u,text:"Paneles Solares Medios"}]),className:`build-button ${e>=500&&u>=1?"unlocked":""}`,children:["Encargar Panel Avanzado ",q==="max"&&`(${je})`]}),u<1&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 1 Panel Solar Medio"})]}),s.jsx("img",{src:wA,alt:"Panel Solar Avanzado",className:"energy-item-image"})]}),s.jsxs("div",{className:`energy-item ${e>=2e3&&c>=3?"unlocked":""} ${c>=3?"":"locked"}`,children:[s.jsxs("div",{className:"energy-item-content",children:[s.jsx("h3",{style:{color:"#F87171"},children:"Ncleo Energtico Averiado"}),s.jsxs("p",{children:[" Produccin: +",B(50)," energa/segundo"]}),s.jsxs("p",{children:[" Capacidad: +",B(100)," energa mxima"]}),s.jsxs("p",{children:[" Coste: ",B(2e3)," chatarra"]}),s.jsxs("p",{children:[" Instalados: ",f," |  En cola: ",N.queue]}),s.jsx(hn,{queue:N,itemName:"energyCores",onCancel:te}),s.jsx("p",{children:" Requisitos: 3 Paneles Solares Avanzados"}),s.jsxs(on,{onClick:k,disabled:e<2e3||c<3,tooltipText:fe([{amount:2e3,current:e,text:"Chatarra"},{amount:3,current:c,text:"Paneles Solares Avanzados"}]),className:`build-button ${e>=2e3&&c>=3?"unlocked":""}`,children:["Encargar Ncleo Averiado ",q==="max"&&`(${we})`]}),c<3&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Paneles Solares Avanzados"})]}),s.jsx("img",{src:SA,alt:"Ncleo Energtico Averiado",className:"energy-item-image"})]}),s.jsxs("div",{className:`energy-item ${e>=1e4&&f>=3?"unlocked":""} ${f>=3?"":"locked"}`,children:[s.jsxs("div",{className:"energy-item-content",children:[s.jsx("h3",{style:{color:"#4ADE80"},children:"Ncleo Energtico Estabilizado"}),s.jsxs("p",{children:[" Produccin: +",B(75)," energa/segundo"]}),s.jsxs("p",{children:[" Capacidad: +",B(150)," energa mxima"]}),s.jsxs("p",{children:[" Coste: ",B(1e4)," chatarra"]}),s.jsxs("p",{children:[" Instalados: ",p," |  En cola: ",j.queue]}),s.jsx(hn,{queue:j,itemName:"stabilizedEnergyCores",onCancel:te}),s.jsx("p",{children:" Requisitos: 3 Ncleos Averiados"}),s.jsxs(on,{onClick:I,disabled:e<1e4||f<3,tooltipText:fe([{amount:1e4,current:e,text:"Chatarra"},{amount:3,current:f,text:"Ncleos Averiados"}]),className:`build-button ${e>=1e4&&f>=3?"unlocked":""}`,children:["Encargar Ncleo Estabilizado ",q==="max"&&`(${z})`]}),f<3&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Ncleos Averiados"})]}),s.jsx("img",{src:jA,alt:"Ncleo Energtico Estabilizado",className:"energy-item-image"})]}),s.jsxs("div",{className:`energy-item ${e>=2e4&&p>=3?"unlocked":""} ${p>=3?"":"locked"}`,children:[s.jsxs("div",{className:"energy-item-content",children:[s.jsx("h3",{style:{color:"#22C55E"},children:"Ncleo Energtico Potenciado"}),s.jsxs("p",{children:[" Produccin: +",B(150)," energa/segundo"]}),s.jsxs("p",{children:[" Capacidad: +",B(300)," energa mxima"]}),s.jsxs("p",{children:[" Coste: ",B(2e4)," chatarra"]}),s.jsxs("p",{children:[" Instalados: ",v," |  En cola: ",D.queue]}),s.jsx(hn,{queue:D,itemName:"empoweredEnergyCores",onCancel:te}),s.jsx("p",{children:" Requisitos: 3 Ncleos Estabilizados"}),s.jsxs(on,{onClick:L,disabled:e<2e4||p<3,tooltipText:fe([{amount:2e4,current:e,text:"Chatarra"},{amount:3,current:p,text:"Ncleos Estabilizados"}]),className:`build-button ${e>=2e4&&p>=3?"unlocked":""}`,children:["Encargar Ncleo Potenciado ",q==="max"&&`(${G})`]}),p<3&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Ncleos Estabilizados"})]}),s.jsx("img",{src:NA,alt:"Ncleo Energtico Potenciado",className:"energy-item-image"}),"En"]}),oe.fusionTech>0&&s.jsxs("div",{className:`energy-item ${e>=ve.scrap&&ce>=ve.metalRefinado&&v>=1?"unlocked":""} ${v>=1?"":"locked"}`,children:[s.jsxs("div",{className:"energy-item-content",children:[s.jsx("h3",{style:{color:"#8B5CF6"},children:"Reactor de Fusin"}),s.jsxs("p",{children:[" Produccin: +",B(250)," energa/segundo"]}),s.jsxs("p",{children:[" Capacidad: +",B(1e3)," energa mxima"]}),s.jsxs("p",{children:[" Coste: ",B(ve.scrap)," Chatarra + ",B(ve.metalRefinado)," Metal Refinado"]}),s.jsxs("p",{children:[" Construidos: ",h," |  En cola: ",_.queue]}),s.jsx(hn,{queue:_,itemName:"fusionReactor",onCancel:te}),s.jsx("p",{children:" Requisitos: 1 Ncleo Potenciado (anteriormente 10 averiados)"}),s.jsxs(on,{onClick:T,disabled:e<ve.scrap||ce<ve.metalRefinado||v<1,tooltipText:fe([{amount:ve.scrap,current:e,text:"Chatarra"},{amount:ve.metalRefinado,current:ce,text:"Metal Refinado"},{amount:1,current:v,text:"Ncleos Potenciados"}]),className:`build-button ${e>=ve.scrap&&ce<ve.metalRefinado&&v>=1?"unlocked":""}`,children:["Encargar Reactor de Fusin ",q==="max"&&`(${re})`]}),v<1&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 1 Ncleo Potenciado"})]}),s.jsx("img",{src:AA,alt:"Reactor de Fusin",className:"energy-item-image"})]})]})});const kA="/Mekadron-idle/assets/storage-basic-41fbd999.png",bA="/Mekadron-idle/assets/storage-medium-e68240b8.png",MA="/Mekadron-idle/assets/storage-advanced-049817db.png",PA="/Mekadron-idle/assets/storage-quantum-6aface52.png",DA="/Mekadron-idle/assets/battery-lithium-ion-407b0dc1.png",TA="/Mekadron-idle/assets/accumulator-plasma-963d6d52.png",IA="/Mekadron-idle/assets/harmonic-containment-field-3b46fe0e.png",Pi=({progress:e,time:n})=>s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar",style:{width:`${e/n*100}%`}})}),OA=mr.memo(({scrap:e,metalRefinado:n,basicStorage:r,mediumStorage:a,advancedStorage:o,quantumHoardUnit:u,lithiumIonBattery:c,plasmaAccumulator:f,harmonicContainmentField:p,basicStorageQueue:v,mediumStorageQueue:h,advancedStorageQueue:C,quantumHoardUnitQueue:A,lithiumIonBatteryQueue:w,plasmaAccumulatorQueue:N,harmonicContainmentFieldQueue:j,onBuildBasicStorage:D,onBuildMediumStorage:_,onBuildAdvancedStorage:g,onBuildQuantumHoardUnit:E,onBuildLithiumIonBattery:S,onBuildPlasmaAccumulator:k,onBuildHarmonicContainmentField:I,buyAmount:L,onSetBuyAmount:T,onClose:q,onCancel:U})=>{const Z=G=>{const re=G.filter(ne=>ne.current<ne.amount);return re.length===0?"":"Requiere: "+re.map(ne=>`${ne.text} (${B(ne.amount)})`).join(", ")},de=G=>{if(typeof G=="number")return Math.floor(e/G);const re=G.scrap>0?Math.floor(e/G.scrap):1/0,ne=G.metal>0?Math.floor(n/G.metal):1/0;return Math.min(re,ne)},ve=de(100),ze=de(1e3),Ke=de(1e4),Xe=de({scrap:75e3,metal:50}),je=de(150),we=de(750),z=de({scrap:3e3,metal:10});return s.jsxs("div",{className:"storage-view-container",children:[s.jsxs("div",{className:"storage-view-header",children:[s.jsx("h2",{children:"MDULO DE ALMACN"}),s.jsx("button",{onClick:q,className:"close-button",children:"Cerrar"})]}),s.jsx(du,{buyAmount:L,onSetBuyAmount:T}),s.jsxs("div",{className:`storage-item ${e>=100?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#F59E0B"},children:"Almacn Bsico"}),s.jsxs("p",{children:[" Capacidad: +",B(50)," chatarra mxima"]}),s.jsxs("p",{children:[" Coste: ",B(100)," chatarra"]}),s.jsxs("p",{children:[" Construidos: ",r," |  En cola: ",v.queue]}),v.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>U("basicStorage",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>U("basicStorage","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:[" T/U: ",v.time,"s"]}),v.queue>0&&s.jsx(Pi,{progress:v.progress,time:v.time}),s.jsxs(on,{onClick:D,disabled:e<100,tooltipText:Z([{amount:100,current:e,text:"Chatarra"}]),className:`build-button ${e>=100?"unlocked":""}`,children:["Encargar Almacn Bsico ",L==="max"&&`(${ve})`]})]}),s.jsx("img",{src:kA,alt:"Almacn Bsico",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=1e3&&r>=3?"unlocked":""} ${r>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#22C55E"},children:"Almacn Medio"}),s.jsxs("p",{children:[" Capacidad: +",B(500)," chatarra mxima"]}),s.jsxs("p",{children:[" Coste: ",B(1e3)," chatarra"]}),s.jsxs("p",{children:[" Construidos: ",a," |  En cola: ",h.queue]}),h.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>U("mediumStorage",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>U("mediumStorage","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:[" T/U: ",h.time,"s"]}),s.jsx("p",{children:" Requisitos: 3 Almacenes Bsicos"}),h.queue>0&&s.jsx(Pi,{progress:h.progress,time:h.time}),s.jsxs(on,{onClick:_,disabled:e<1e3||r<3,tooltipText:Z([{amount:1e3,current:e,text:"Chatarra"},{amount:3,current:r,text:"Almacenes Bsicos"}]),className:`build-button ${e>=1e3&&r>=3?"unlocked":""}`,children:["Encargar Almacn Medio ",L==="max"&&`(${ze})`]}),r<3&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Almacenes Bsicos"})]}),s.jsx("img",{src:bA,alt:"Almacn Medio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=1e4&&a>=1?"unlocked":""} ${a>=1?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Almacn Avanzado"}),s.jsxs("p",{children:[" Capacidad: +",B(5e3)," chatarra mxima"]}),s.jsxs("p",{children:[" Coste: ",B(1e4)," chatarra"]}),s.jsxs("p",{children:[" Construidos: ",o," |  En cola: ",C.queue]}),C.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>U("advancedStorage",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>U("advancedStorage","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:[" T/U: ",C.time,"s"]}),s.jsx("p",{children:" Requisitos: 1 Almacn Medio"}),C.queue>0&&s.jsx(Pi,{progress:C.progress,time:C.time}),s.jsxs(on,{onClick:g,disabled:e<1e4||a<1,tooltipText:Z([{amount:1e4,current:e,text:"Chatarra"},{amount:1,current:a,text:"Almacenes Medios"}]),className:`build-button ${e>=1e4&&a>=1?"unlocked":""}`,style:{backgroundColor:e>=1e4&&a>=1?"#D946EF":"#9CA3AF"},children:["Encargar Almacn Avanzado ",L==="max"&&`(${Ke})`]}),a<1&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 1 Almacn Medio"})]}),s.jsx("img",{src:MA,alt:"Almacn Avanzado",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=75e3&&n>=50&&o>=3?"unlocked":""} ${o>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Unidad de Acopio Cuntico"}),s.jsxs("p",{children:[" Capacidad: +",B(5e4)," chatarra mxima"]}),s.jsxs("p",{children:[" Coste: ",B(75e3)," chatarra y ",B(50)," metal refinado"]}),s.jsxs("p",{children:[" Construidos: ",u," |  En cola: ",A.queue]}),A.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>U("quantumHoardUnit",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>U("quantumHoardUnit","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:[" T/U: ",A.time,"s"]}),s.jsx("p",{children:" Requisitos: 3 Almacenes Avanzados"}),A.queue>0&&s.jsx(Pi,{progress:A.progress,time:A.time}),s.jsxs(on,{onClick:E,disabled:e<75e3||n<50||o<3,tooltipText:Z([{amount:75e3,current:e,text:"Chatarra"},{amount:50,current:n,text:"Metal Refinado"},{amount:3,current:o,text:"Almacenes Avanzados"}]),className:`build-button ${e>=75e3&&n>=50&&o>=3?"unlocked":""}`,style:{backgroundColor:e>=75e3&&n>=50&&o>=3?"#D946EF":"#9CA3AF"},children:["Encargar Acopio Cuntico ",L==="max"&&`(${Xe})`]}),o<3&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Almacenes Avanzados"})]}),s.jsx("img",{src:PA,alt:"Unidad de Acopio Cuntico",className:"storage-item-image"})]}),s.jsx("h3",{style:{borderBottom:"2px solid #06B6D4",paddingBottom:"0.5rem",marginTop:"3rem"},children:"Almacenamiento de Energa"}),s.jsxs("div",{className:`storage-item ${e>=150?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Batera de Iones de Litio"}),s.jsxs("p",{children:[" Capacidad: +",B(50)," energa mxima"]}),s.jsxs("p",{children:[" Coste: ",B(150)," chatarra"]}),s.jsxs("p",{children:[" Construidos: ",c," |  En cola: ",w.queue]}),w.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>U("lithiumIonBattery",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>U("lithiumIonBattery","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:[" T/U: ",w.time,"s"]}),w.queue>0&&s.jsx(Pi,{progress:w.progress,time:w.time}),s.jsxs(on,{onClick:S,disabled:e<150,tooltipText:Z([{amount:150,current:e,text:"Chatarra"}]),className:`build-button ${e>=150?"unlocked":""}`,children:["Encargar Batera ",L==="max"&&`(${je})`]})]}),s.jsx("img",{src:DA,alt:"Batera de Iones de Litio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=750&&c>=5?"unlocked":""} ${c>=5?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Acumulador de Plasma"}),s.jsxs("p",{children:[" Capacidad: +",B(250)," energa mxima"]}),s.jsxs("p",{children:[" Coste: ",B(750)," chatarra"]}),s.jsxs("p",{children:[" Construidos: ",f," |  En cola: ",N.queue]}),N.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>U("plasmaAccumulator",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>U("plasmaAccumulator","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:[" T/U: ",N.time,"s"]}),s.jsx("p",{children:" Requisitos: 5 Bateras de Iones de Litio"}),N.queue>0&&s.jsx(Pi,{progress:N.progress,time:N.time}),s.jsxs(on,{onClick:k,disabled:e<750||c<5,tooltipText:Z([{amount:750,current:e,text:"Chatarra"},{amount:5,current:c,text:"Bateras de Iones de Litio"}]),className:`build-button ${e>=750&&c>=5?"unlocked":""}`,children:["Encargar Acumulador ",L==="max"&&`(${we})`]}),c<5&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 5 Bateras de Iones de Litio"})]}),s.jsx("img",{src:TA,alt:"Acumulador de Plasma",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=3e3&&n>=10&&f>=3?"unlocked":""} ${f>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Campo de Contencin Armnico"}),s.jsxs("p",{children:[" Capacidad: +",B(1200)," energa mxima"]}),s.jsxs("p",{children:[" Coste: ",B(3e3)," chatarra y ",B(10)," metal refinado"]}),s.jsxs("p",{children:[" Construidos: ",p," |  En cola: ",j.queue]}),j.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>U("harmonicContainmentField",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>U("harmonicContainmentField","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:[" T/U: ",j.time,"s"]}),s.jsx("p",{children:" Requisitos: 3 Acumuladores de Plasma"}),j.queue>0&&s.jsx(Pi,{progress:j.progress,time:j.time}),s.jsxs(on,{onClick:I,disabled:e<3e3||n<10||f<3,tooltipText:Z([{amount:3e3,current:e,text:"Chatarra"},{amount:10,current:n,text:"Metal Refinado"},{amount:3,current:f,text:"Acumuladores de Plasma"}]),className:`build-button ${e>=3e3&&n>=10&&f>=3?"unlocked":""}`,style:{backgroundColor:e>=3e3&&n>=10&&f>=3?"#D946EF":"#9CA3AF"},children:["Encargar Campo de Contencin ",L==="max"&&`(${z})`]}),f<3&&s.jsx("p",{className:"requirement-warning",children:" Necesitas 3 Acumuladores de Plasma"})]}),s.jsx("img",{src:IA,alt:"Campo de Contencin Armnico",className:"storage-item-image"})]})]})});const LA=mr.memo(({activeMissions:e,completedMissions:n,currentScrap:r,maxScrap:a,currentEnergy:o,maxEnergy:u,onClaimReward:c,onClose:f})=>{const p=N=>Math.min(N.current/N.target*100,100),v=N=>{switch(N.type){case"scrap":return`+${N.value} Chatarra`;case"energy":return`+${N.value} Energa`;case"drone":return"Dron Bsico";case"unlock":return`Desbloqueo de ${N.value}`;default:return"Recompensa"}},h=N=>{if(N.completed)return!1;switch(N.reward.type){case"scrap":return r+N.reward.value<=a;case"energy":return o+N.reward.value<=u;case"drone":case"unlock":return!0;default:return!0}},C=e.filter(N=>N.isMain&&!N.completed),A=e.filter(N=>!N.isMain&&!N.completed),w=(N,j)=>{const D=p(N),_=D>=100&&h(N),g=D>=100&&!_;return s.jsxs("div",{className:`mission-item ${j?"main":"secondary"} ${D>=100?"completed":""}`,children:[s.jsxs("div",{className:"mission-header",children:[s.jsx("h4",{className:"mission-title",style:{color:j?"#D946EF":D>=100?"#22C55E":"#F59E0B"},children:N.title}),s.jsx("span",{className:"mission-reward",children:v(N.reward)})]}),s.jsx("p",{className:"mission-description",children:N.description}),s.jsxs("div",{className:"progress-info",children:[s.jsxs("div",{className:"progress-text",children:[s.jsxs("span",{children:["Progreso: ",N.current,"/",N.target]}),s.jsxs("span",{children:[Math.round(D),"%"]})]}),s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar",style:{width:`${D}%`,backgroundColor:D>=100?"#22C55E":"#06B6D4"}})})]}),s.jsxs("div",{className:"mission-objective",children:["Objetivo: ",N.objective]}),D>=100&&s.jsxs("div",{className:"claim-section",children:[g&&s.jsx("span",{className:"claim-warning",children:" Espacio insuficiente"}),s.jsx("button",{onClick:()=>c(N.id),disabled:!_,className:`claim-button ${_?"can-claim":""}`,children:_?" Reclamar":g?"Completar":" Esperando"})]})]})};return s.jsxs("div",{className:"missions-panel-container",children:[s.jsxs("div",{className:"missions-panel-header",children:[s.jsx("h2",{children:"SISTEMA DE MISIONES"}),s.jsx("button",{onClick:f,className:"close-button",children:"Cerrar"})]}),C.length>0&&s.jsxs("div",{className:"mission-category",children:[s.jsx("h3",{style:{color:"#D946EF",borderBottom:"1px solid #D946EF"},children:"MISIN PRINCIPAL"}),C.map(N=>w(N,!0))]}),s.jsxs("div",{className:"mission-category",children:[s.jsx("h3",{style:{color:"#F59E0B"},children:"MISIONES SECUNDARIAS"}),A.length===0&&C.length===0?s.jsx("div",{className:"no-missions",children:"No hay misiones activas. Excelente trabajo, tcnico!"}):A.map(N=>w(N,!1))]}),n.length>0&&s.jsxs("div",{children:[s.jsx("h3",{style:{color:"#22C55E"},children:"MISIONES COMPLETADAS"}),s.jsxs("div",{className:"completed-missions",children:[s.jsxs("div",{className:"completed-missions-title",children:[" ",n.length," misin(es) completada(s)"]}),s.jsx("div",{className:"completed-missions-text",children:"Contina expandiendo la estacin para desbloquear nuevas misiones."})]})]})]})});var Xv={exports:{}},xo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */xo.exports;var Sg;function BA(){return Sg||(Sg=1,function(e,n){(function(){var r,a="4.17.21",o=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",f="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",v=500,h="__lodash_placeholder__",C=1,A=2,w=4,N=1,j=2,D=1,_=2,g=4,E=8,S=16,k=32,I=64,L=128,T=256,q=512,U=30,Z="...",te=800,oe=16,ce=1,fe=2,Be=3,ke=1/0,V=9007199254740991,Q=17976931348623157e292,J=0/0,de=4294967295,ve=de-1,ze=de>>>1,Ke=[["ary",L],["bind",D],["bindKey",_],["curry",E],["curryRight",S],["flip",q],["partial",k],["partialRight",I],["rearg",T]],Xe="[object Arguments]",je="[object Array]",we="[object AsyncFunction]",z="[object Boolean]",G="[object Date]",re="[object DOMException]",ne="[object Error]",be="[object Function]",ie="[object GeneratorFunction]",pe="[object Map]",tn="[object Number]",Ln="[object Null]",Ve="[object Object]",Cn="[object Promise]",st="[object Proxy]",pn="[object RegExp]",Me="[object Set]",We="[object String]",Ze="[object Symbol]",Vn="[object Undefined]",Wn="[object WeakMap]",nr="[object WeakSet]",rn="[object ArrayBuffer]",Sn="[object DataView]",He="[object Float32Array]",Y="[object Float64Array]",xe="[object Int8Array]",Pe="[object Int16Array]",Gn="[object Int32Array]",En="[object Uint8Array]",ln="[object Uint8ClampedArray]",ue="[object Uint16Array]",De="[object Uint32Array]",hr=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,tr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lt=/&(?:amp|lt|gt|quot|#39);/g,Ct=/[&<>"']/g,Kn=RegExp(lt.source),vn=RegExp(Ct.source),gr=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,Bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bt=/^\w*$/,Ci=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xn=/[\\^$.*+?()[\]{}|]/g,ut=RegExp(Xn.source),Qn=/^\s+/,ct=/\s/,zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ft=/\{\n\/\* \[wrapped with (.+)\] \*/,fu=/,? & /,pu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yn=/[()=,{}\[\]\/\s]/,Zn=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jn=/\w*$/,Fa=/^[-+]0x[0-9a-f]+$/i,wt=/^0b[01]+$/i,Zo=/^\[object .+?Constructor\]$/,Jo=/^0o[0-7]+$/i,es=/^(?:0|[1-9]\d*)$/,ns=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ei=/($^)/,ts=/['\n\r\u2028\u2029\\]/g,Ki="\\ud800-\\udfff",mu="\\u0300-\\u036f",Ua="\\ufe20-\\ufe2f",qa="\\u20d0-\\u20ff",rs=mu+Ua+qa,is="\\u2700-\\u27bf",as="a-z\\xdf-\\xf6\\xf8-\\xff",$a="\\xac\\xb1\\xd7\\xf7",Zv="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jv="\\u2000-\\u206f",ey=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vf="A-Z\\xc0-\\xd6\\xd8-\\xde",Wf="\\ufe0e\\ufe0f",Gf=$a+Zv+Jv+ey,hu="[']",ny="["+Ki+"]",Kf="["+Gf+"]",os="["+rs+"]",Xf="\\d+",ty="["+is+"]",Qf="["+as+"]",Yf="[^"+Ki+Gf+Xf+is+as+Vf+"]",gu="\\ud83c[\\udffb-\\udfff]",ry="(?:"+os+"|"+gu+")",Zf="[^"+Ki+"]",vu="(?:\\ud83c[\\udde6-\\uddff]){2}",yu="[\\ud800-\\udbff][\\udc00-\\udfff]",Xi="["+Vf+"]",Jf="\\u200d",ep="(?:"+Qf+"|"+Yf+")",iy="(?:"+Xi+"|"+Yf+")",np="(?:"+hu+"(?:d|ll|m|re|s|t|ve))?",tp="(?:"+hu+"(?:D|LL|M|RE|S|T|VE))?",rp=ry+"?",ip="["+Wf+"]?",ay="(?:"+Jf+"(?:"+[Zf,vu,yu].join("|")+")"+ip+rp+")*",oy="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ap=ip+rp+ay,ly="(?:"+[ty,vu,yu].join("|")+")"+ap,uy="(?:"+[Zf+os+"?",os,vu,yu,ny].join("|")+")",cy=RegExp(hu,"g"),dy=RegExp(os,"g"),xu=RegExp(gu+"(?="+gu+")|"+uy+ap,"g"),fy=RegExp([Xi+"?"+Qf+"+"+np+"(?="+[Kf,Xi,"$"].join("|")+")",iy+"+"+tp+"(?="+[Kf,Xi+ep,"$"].join("|")+")",Xi+"?"+ep+"+"+np,Xi+"+"+tp,sy,oy,Xf,ly].join("|"),"g"),py=RegExp("["+Jf+Ki+rs+Wf+"]"),my=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gy=-1,Je={};Je[He]=Je[Y]=Je[xe]=Je[Pe]=Je[Gn]=Je[En]=Je[ln]=Je[ue]=Je[De]=!0,Je[Xe]=Je[je]=Je[rn]=Je[z]=Je[Sn]=Je[G]=Je[ne]=Je[be]=Je[pe]=Je[tn]=Je[Ve]=Je[pn]=Je[Me]=Je[We]=Je[Wn]=!1;var Qe={};Qe[Xe]=Qe[je]=Qe[rn]=Qe[Sn]=Qe[z]=Qe[G]=Qe[He]=Qe[Y]=Qe[xe]=Qe[Pe]=Qe[Gn]=Qe[pe]=Qe[tn]=Qe[Ve]=Qe[pn]=Qe[Me]=Qe[We]=Qe[Ze]=Qe[En]=Qe[ln]=Qe[ue]=Qe[De]=!0,Qe[ne]=Qe[be]=Qe[Wn]=!1;var vy={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},yy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_y={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cy=parseFloat,Ey=parseInt,op=typeof ca=="object"&&ca&&ca.Object===Object&&ca,wy=typeof self=="object"&&self&&self.Object===Object&&self,Pn=op||wy||Function("return this")(),_u=n&&!n.nodeType&&n,wi=_u&&!0&&e&&!e.nodeType&&e,sp=wi&&wi.exports===_u,Cu=sp&&op.process,Ut=function(){try{var M=wi&&wi.require&&wi.require("util").types;return M||Cu&&Cu.binding&&Cu.binding("util")}catch{}}(),lp=Ut&&Ut.isArrayBuffer,up=Ut&&Ut.isDate,cp=Ut&&Ut.isMap,dp=Ut&&Ut.isRegExp,fp=Ut&&Ut.isSet,pp=Ut&&Ut.isTypedArray;function St(M,F,O){switch(O.length){case 0:return M.call(F);case 1:return M.call(F,O[0]);case 2:return M.call(F,O[0],O[1]);case 3:return M.call(F,O[0],O[1],O[2])}return M.apply(F,O)}function Sy(M,F,O,ae){for(var ye=-1,Le=M==null?0:M.length;++ye<Le;){var jn=M[ye];F(ae,jn,O(jn),M)}return ae}function qt(M,F){for(var O=-1,ae=M==null?0:M.length;++O<ae&&F(M[O],O,M)!==!1;);return M}function jy(M,F){for(var O=M==null?0:M.length;O--&&F(M[O],O,M)!==!1;);return M}function mp(M,F){for(var O=-1,ae=M==null?0:M.length;++O<ae;)if(!F(M[O],O,M))return!1;return!0}function Wr(M,F){for(var O=-1,ae=M==null?0:M.length,ye=0,Le=[];++O<ae;){var jn=M[O];F(jn,O,M)&&(Le[ye++]=jn)}return Le}function ss(M,F){var O=M==null?0:M.length;return!!O&&Qi(M,F,0)>-1}function Eu(M,F,O){for(var ae=-1,ye=M==null?0:M.length;++ae<ye;)if(O(F,M[ae]))return!0;return!1}function an(M,F){for(var O=-1,ae=M==null?0:M.length,ye=Array(ae);++O<ae;)ye[O]=F(M[O],O,M);return ye}function Gr(M,F){for(var O=-1,ae=F.length,ye=M.length;++O<ae;)M[ye+O]=F[O];return M}function wu(M,F,O,ae){var ye=-1,Le=M==null?0:M.length;for(ae&&Le&&(O=M[++ye]);++ye<Le;)O=F(O,M[ye],ye,M);return O}function Ny(M,F,O,ae){var ye=M==null?0:M.length;for(ae&&ye&&(O=M[--ye]);ye--;)O=F(O,M[ye],ye,M);return O}function Su(M,F){for(var O=-1,ae=M==null?0:M.length;++O<ae;)if(F(M[O],O,M))return!0;return!1}var Ay=ju("length");function Ry(M){return M.split("")}function ky(M){return M.match(pu)||[]}function hp(M,F,O){var ae;return O(M,function(ye,Le,jn){if(F(ye,Le,jn))return ae=Le,!1}),ae}function ls(M,F,O,ae){for(var ye=M.length,Le=O+(ae?1:-1);ae?Le--:++Le<ye;)if(F(M[Le],Le,M))return Le;return-1}function Qi(M,F,O){return F===F?Uy(M,F,O):ls(M,gp,O)}function by(M,F,O,ae){for(var ye=O-1,Le=M.length;++ye<Le;)if(ae(M[ye],F))return ye;return-1}function gp(M){return M!==M}function vp(M,F){var O=M==null?0:M.length;return O?Au(M,F)/O:J}function ju(M){return function(F){return F==null?r:F[M]}}function Nu(M){return function(F){return M==null?r:M[F]}}function yp(M,F,O,ae,ye){return ye(M,function(Le,jn,Ge){O=ae?(ae=!1,Le):F(O,Le,jn,Ge)}),O}function My(M,F){var O=M.length;for(M.sort(F);O--;)M[O]=M[O].value;return M}function Au(M,F){for(var O,ae=-1,ye=M.length;++ae<ye;){var Le=F(M[ae]);Le!==r&&(O=O===r?Le:O+Le)}return O}function Ru(M,F){for(var O=-1,ae=Array(M);++O<M;)ae[O]=F(O);return ae}function Py(M,F){return an(F,function(O){return[O,M[O]]})}function xp(M){return M&&M.slice(0,wp(M)+1).replace(Qn,"")}function jt(M){return function(F){return M(F)}}function ku(M,F){return an(F,function(O){return M[O]})}function Ha(M,F){return M.has(F)}function _p(M,F){for(var O=-1,ae=M.length;++O<ae&&Qi(F,M[O],0)>-1;);return O}function Cp(M,F){for(var O=M.length;O--&&Qi(F,M[O],0)>-1;);return O}function Dy(M,F){for(var O=M.length,ae=0;O--;)M[O]===F&&++ae;return ae}var Ty=Nu(vy),Iy=Nu(yy);function Oy(M){return"\\"+_y[M]}function Ly(M,F){return M==null?r:M[F]}function Yi(M){return py.test(M)}function By(M){return my.test(M)}function zy(M){for(var F,O=[];!(F=M.next()).done;)O.push(F.value);return O}function bu(M){var F=-1,O=Array(M.size);return M.forEach(function(ae,ye){O[++F]=[ye,ae]}),O}function Ep(M,F){return function(O){return M(F(O))}}function Kr(M,F){for(var O=-1,ae=M.length,ye=0,Le=[];++O<ae;){var jn=M[O];(jn===F||jn===h)&&(M[O]=h,Le[ye++]=O)}return Le}function us(M){var F=-1,O=Array(M.size);return M.forEach(function(ae){O[++F]=ae}),O}function Fy(M){var F=-1,O=Array(M.size);return M.forEach(function(ae){O[++F]=[ae,ae]}),O}function Uy(M,F,O){for(var ae=O-1,ye=M.length;++ae<ye;)if(M[ae]===F)return ae;return-1}function qy(M,F,O){for(var ae=O+1;ae--;)if(M[ae]===F)return ae;return ae}function Zi(M){return Yi(M)?Hy(M):Ay(M)}function rr(M){return Yi(M)?Vy(M):Ry(M)}function wp(M){for(var F=M.length;F--&&ct.test(M.charAt(F)););return F}var $y=Nu(xy);function Hy(M){for(var F=xu.lastIndex=0;xu.test(M);)++F;return F}function Vy(M){return M.match(xu)||[]}function Wy(M){return M.match(fy)||[]}var Gy=function M(F){F=F==null?Pn:Ji.defaults(Pn.Object(),F,Ji.pick(Pn,hy));var O=F.Array,ae=F.Date,ye=F.Error,Le=F.Function,jn=F.Math,Ge=F.Object,Mu=F.RegExp,Ky=F.String,$t=F.TypeError,cs=O.prototype,Xy=Le.prototype,ea=Ge.prototype,ds=F["__core-js_shared__"],fs=Xy.toString,qe=ea.hasOwnProperty,Qy=0,Sp=function(){var t=/[^.]+$/.exec(ds&&ds.keys&&ds.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ps=ea.toString,Yy=fs.call(Ge),Zy=Pn._,Jy=Mu("^"+fs.call(qe).replace(Xn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ms=sp?F.Buffer:r,Xr=F.Symbol,hs=F.Uint8Array,jp=ms?ms.allocUnsafe:r,gs=Ep(Ge.getPrototypeOf,Ge),Np=Ge.create,Ap=ea.propertyIsEnumerable,vs=cs.splice,Rp=Xr?Xr.isConcatSpreadable:r,Va=Xr?Xr.iterator:r,Si=Xr?Xr.toStringTag:r,ys=function(){try{var t=ki(Ge,"defineProperty");return t({},"",{}),t}catch{}}(),e1=F.clearTimeout!==Pn.clearTimeout&&F.clearTimeout,n1=ae&&ae.now!==Pn.Date.now&&ae.now,t1=F.setTimeout!==Pn.setTimeout&&F.setTimeout,xs=jn.ceil,_s=jn.floor,Pu=Ge.getOwnPropertySymbols,r1=ms?ms.isBuffer:r,kp=F.isFinite,i1=cs.join,a1=Ep(Ge.keys,Ge),Nn=jn.max,zn=jn.min,o1=ae.now,s1=F.parseInt,bp=jn.random,l1=cs.reverse,Du=ki(F,"DataView"),Wa=ki(F,"Map"),Tu=ki(F,"Promise"),na=ki(F,"Set"),Ga=ki(F,"WeakMap"),Ka=ki(Ge,"create"),Cs=Ga&&new Ga,ta={},u1=bi(Du),c1=bi(Wa),d1=bi(Tu),f1=bi(na),p1=bi(Ga),Es=Xr?Xr.prototype:r,Xa=Es?Es.valueOf:r,Mp=Es?Es.toString:r;function y(t){if(mn(t)&&!_e(t)&&!(t instanceof Te)){if(t instanceof Ht)return t;if(qe.call(t,"__wrapped__"))return Pm(t)}return new Ht(t)}var ra=function(){function t(){}return function(i){if(!un(i))return{};if(Np)return Np(i);t.prototype=i;var l=new t;return t.prototype=r,l}}();function ws(){}function Ht(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=r}y.templateSettings={escape:gr,evaluate:Et,interpolate:Lt,variable:"",imports:{_:y}},y.prototype=ws.prototype,y.prototype.constructor=y,Ht.prototype=ra(ws.prototype),Ht.prototype.constructor=Ht;function Te(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=de,this.__views__=[]}function m1(){var t=new Te(this.__wrapped__);return t.__actions__=ft(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ft(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ft(this.__views__),t}function h1(){if(this.__filtered__){var t=new Te(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function g1(){var t=this.__wrapped__.value(),i=this.__dir__,l=_e(t),d=i<0,m=l?t.length:0,x=Rx(0,m,this.__views__),R=x.start,b=x.end,P=b-R,$=d?b:R-1,H=this.__iteratees__,W=H.length,ee=0,le=zn(P,this.__takeCount__);if(!l||!d&&m==P&&le==P)return nm(t,this.__actions__);var he=[];e:for(;P--&&ee<le;){$+=i;for(var Ee=-1,ge=t[$];++Ee<W;){var Ne=H[Ee],Ie=Ne.iteratee,Rt=Ne.type,tt=Ie(ge);if(Rt==fe)ge=tt;else if(!tt){if(Rt==ce)continue e;break e}}he[ee++]=ge}return he}Te.prototype=ra(ws.prototype),Te.prototype.constructor=Te;function ji(t){var i=-1,l=t==null?0:t.length;for(this.clear();++i<l;){var d=t[i];this.set(d[0],d[1])}}function v1(){this.__data__=Ka?Ka(null):{},this.size=0}function y1(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i}function x1(t){var i=this.__data__;if(Ka){var l=i[t];return l===p?r:l}return qe.call(i,t)?i[t]:r}function _1(t){var i=this.__data__;return Ka?i[t]!==r:qe.call(i,t)}function C1(t,i){var l=this.__data__;return this.size+=this.has(t)?0:1,l[t]=Ka&&i===r?p:i,this}ji.prototype.clear=v1,ji.prototype.delete=y1,ji.prototype.get=x1,ji.prototype.has=_1,ji.prototype.set=C1;function Nr(t){var i=-1,l=t==null?0:t.length;for(this.clear();++i<l;){var d=t[i];this.set(d[0],d[1])}}function E1(){this.__data__=[],this.size=0}function w1(t){var i=this.__data__,l=Ss(i,t);if(l<0)return!1;var d=i.length-1;return l==d?i.pop():vs.call(i,l,1),--this.size,!0}function S1(t){var i=this.__data__,l=Ss(i,t);return l<0?r:i[l][1]}function j1(t){return Ss(this.__data__,t)>-1}function N1(t,i){var l=this.__data__,d=Ss(l,t);return d<0?(++this.size,l.push([t,i])):l[d][1]=i,this}Nr.prototype.clear=E1,Nr.prototype.delete=w1,Nr.prototype.get=S1,Nr.prototype.has=j1,Nr.prototype.set=N1;function Ar(t){var i=-1,l=t==null?0:t.length;for(this.clear();++i<l;){var d=t[i];this.set(d[0],d[1])}}function A1(){this.size=0,this.__data__={hash:new ji,map:new(Wa||Nr),string:new ji}}function R1(t){var i=Os(this,t).delete(t);return this.size-=i?1:0,i}function k1(t){return Os(this,t).get(t)}function b1(t){return Os(this,t).has(t)}function M1(t,i){var l=Os(this,t),d=l.size;return l.set(t,i),this.size+=l.size==d?0:1,this}Ar.prototype.clear=A1,Ar.prototype.delete=R1,Ar.prototype.get=k1,Ar.prototype.has=b1,Ar.prototype.set=M1;function Ni(t){var i=-1,l=t==null?0:t.length;for(this.__data__=new Ar;++i<l;)this.add(t[i])}function P1(t){return this.__data__.set(t,p),this}function D1(t){return this.__data__.has(t)}Ni.prototype.add=Ni.prototype.push=P1,Ni.prototype.has=D1;function ir(t){var i=this.__data__=new Nr(t);this.size=i.size}function T1(){this.__data__=new Nr,this.size=0}function I1(t){var i=this.__data__,l=i.delete(t);return this.size=i.size,l}function O1(t){return this.__data__.get(t)}function L1(t){return this.__data__.has(t)}function B1(t,i){var l=this.__data__;if(l instanceof Nr){var d=l.__data__;if(!Wa||d.length<o-1)return d.push([t,i]),this.size=++l.size,this;l=this.__data__=new Ar(d)}return l.set(t,i),this.size=l.size,this}ir.prototype.clear=T1,ir.prototype.delete=I1,ir.prototype.get=O1,ir.prototype.has=L1,ir.prototype.set=B1;function Pp(t,i){var l=_e(t),d=!l&&Mi(t),m=!l&&!d&&ei(t),x=!l&&!d&&!m&&sa(t),R=l||d||m||x,b=R?Ru(t.length,Ky):[],P=b.length;for(var $ in t)(i||qe.call(t,$))&&!(R&&($=="length"||m&&($=="offset"||$=="parent")||x&&($=="buffer"||$=="byteLength"||$=="byteOffset")||Mr($,P)))&&b.push($);return b}function Dp(t){var i=t.length;return i?t[Vu(0,i-1)]:r}function z1(t,i){return Ls(ft(t),Ai(i,0,t.length))}function F1(t){return Ls(ft(t))}function Iu(t,i,l){(l!==r&&!ar(t[i],l)||l===r&&!(i in t))&&Rr(t,i,l)}function Qa(t,i,l){var d=t[i];(!(qe.call(t,i)&&ar(d,l))||l===r&&!(i in t))&&Rr(t,i,l)}function Ss(t,i){for(var l=t.length;l--;)if(ar(t[l][0],i))return l;return-1}function U1(t,i,l,d){return Qr(t,function(m,x,R){i(d,m,l(m),R)}),d}function Tp(t,i){return t&&yr(i,kn(i),t)}function q1(t,i){return t&&yr(i,mt(i),t)}function Rr(t,i,l){i=="__proto__"&&ys?ys(t,i,{configurable:!0,enumerable:!0,value:l,writable:!0}):t[i]=l}function Ou(t,i){for(var l=-1,d=i.length,m=O(d),x=t==null;++l<d;)m[l]=x?r:gc(t,i[l]);return m}function Ai(t,i,l){return t===t&&(l!==r&&(t=t<=l?t:l),i!==r&&(t=t>=i?t:i)),t}function Vt(t,i,l,d,m,x){var R,b=i&C,P=i&A,$=i&w;if(l&&(R=m?l(t,d,m,x):l(t)),R!==r)return R;if(!un(t))return t;var H=_e(t);if(H){if(R=bx(t),!b)return ft(t,R)}else{var W=Fn(t),ee=W==be||W==ie;if(ei(t))return im(t,b);if(W==Ve||W==Xe||ee&&!m){if(R=P||ee?{}:wm(t),!b)return P?xx(t,q1(R,t)):yx(t,Tp(R,t))}else{if(!Qe[W])return m?t:{};R=Mx(t,W,b)}}x||(x=new ir);var le=x.get(t);if(le)return le;x.set(t,R),Zm(t)?t.forEach(function(ge){R.add(Vt(ge,i,l,ge,t,x))}):Qm(t)&&t.forEach(function(ge,Ne){R.set(Ne,Vt(ge,i,l,Ne,t,x))});var he=$?P?tc:nc:P?mt:kn,Ee=H?r:he(t);return qt(Ee||t,function(ge,Ne){Ee&&(Ne=ge,ge=t[Ne]),Qa(R,Ne,Vt(ge,i,l,Ne,t,x))}),R}function $1(t){var i=kn(t);return function(l){return Ip(l,t,i)}}function Ip(t,i,l){var d=l.length;if(t==null)return!d;for(t=Ge(t);d--;){var m=l[d],x=i[m],R=t[m];if(R===r&&!(m in t)||!x(R))return!1}return!0}function Op(t,i,l){if(typeof t!="function")throw new $t(c);return ro(function(){t.apply(r,l)},i)}function Ya(t,i,l,d){var m=-1,x=ss,R=!0,b=t.length,P=[],$=i.length;if(!b)return P;l&&(i=an(i,jt(l))),d?(x=Eu,R=!1):i.length>=o&&(x=Ha,R=!1,i=new Ni(i));e:for(;++m<b;){var H=t[m],W=l==null?H:l(H);if(H=d||H!==0?H:0,R&&W===W){for(var ee=$;ee--;)if(i[ee]===W)continue e;P.push(H)}else x(i,W,d)||P.push(H)}return P}var Qr=um(vr),Lp=um(Bu,!0);function H1(t,i){var l=!0;return Qr(t,function(d,m,x){return l=!!i(d,m,x),l}),l}function js(t,i,l){for(var d=-1,m=t.length;++d<m;){var x=t[d],R=i(x);if(R!=null&&(b===r?R===R&&!At(R):l(R,b)))var b=R,P=x}return P}function V1(t,i,l,d){var m=t.length;for(l=Ce(l),l<0&&(l=-l>m?0:m+l),d=d===r||d>m?m:Ce(d),d<0&&(d+=m),d=l>d?0:eh(d);l<d;)t[l++]=i;return t}function Bp(t,i){var l=[];return Qr(t,function(d,m,x){i(d,m,x)&&l.push(d)}),l}function Dn(t,i,l,d,m){var x=-1,R=t.length;for(l||(l=Dx),m||(m=[]);++x<R;){var b=t[x];i>0&&l(b)?i>1?Dn(b,i-1,l,d,m):Gr(m,b):d||(m[m.length]=b)}return m}var Lu=cm(),zp=cm(!0);function vr(t,i){return t&&Lu(t,i,kn)}function Bu(t,i){return t&&zp(t,i,kn)}function Ns(t,i){return Wr(i,function(l){return Pr(t[l])})}function Ri(t,i){i=Zr(i,t);for(var l=0,d=i.length;t!=null&&l<d;)t=t[xr(i[l++])];return l&&l==d?t:r}function Fp(t,i,l){var d=i(t);return _e(t)?d:Gr(d,l(t))}function et(t){return t==null?t===r?Vn:Ln:Si&&Si in Ge(t)?Ax(t):Fx(t)}function zu(t,i){return t>i}function W1(t,i){return t!=null&&qe.call(t,i)}function G1(t,i){return t!=null&&i in Ge(t)}function K1(t,i,l){return t>=zn(i,l)&&t<Nn(i,l)}function Fu(t,i,l){for(var d=l?Eu:ss,m=t[0].length,x=t.length,R=x,b=O(x),P=1/0,$=[];R--;){var H=t[R];R&&i&&(H=an(H,jt(i))),P=zn(H.length,P),b[R]=!l&&(i||m>=120&&H.length>=120)?new Ni(R&&H):r}H=t[0];var W=-1,ee=b[0];e:for(;++W<m&&$.length<P;){var le=H[W],he=i?i(le):le;if(le=l||le!==0?le:0,!(ee?Ha(ee,he):d($,he,l))){for(R=x;--R;){var Ee=b[R];if(!(Ee?Ha(Ee,he):d(t[R],he,l)))continue e}ee&&ee.push(he),$.push(le)}}return $}function X1(t,i,l,d){return vr(t,function(m,x,R){i(d,l(m),x,R)}),d}function Za(t,i,l){i=Zr(i,t),t=Am(t,i);var d=t==null?t:t[xr(Gt(i))];return d==null?r:St(d,t,l)}function Up(t){return mn(t)&&et(t)==Xe}function Q1(t){return mn(t)&&et(t)==rn}function Y1(t){return mn(t)&&et(t)==G}function Ja(t,i,l,d,m){return t===i?!0:t==null||i==null||!mn(t)&&!mn(i)?t!==t&&i!==i:Z1(t,i,l,d,Ja,m)}function Z1(t,i,l,d,m,x){var R=_e(t),b=_e(i),P=R?je:Fn(t),$=b?je:Fn(i);P=P==Xe?Ve:P,$=$==Xe?Ve:$;var H=P==Ve,W=$==Ve,ee=P==$;if(ee&&ei(t)){if(!ei(i))return!1;R=!0,H=!1}if(ee&&!H)return x||(x=new ir),R||sa(t)?_m(t,i,l,d,m,x):jx(t,i,P,l,d,m,x);if(!(l&N)){var le=H&&qe.call(t,"__wrapped__"),he=W&&qe.call(i,"__wrapped__");if(le||he){var Ee=le?t.value():t,ge=he?i.value():i;return x||(x=new ir),m(Ee,ge,l,d,x)}}return ee?(x||(x=new ir),Nx(t,i,l,d,m,x)):!1}function J1(t){return mn(t)&&Fn(t)==pe}function Uu(t,i,l,d){var m=l.length,x=m,R=!d;if(t==null)return!x;for(t=Ge(t);m--;){var b=l[m];if(R&&b[2]?b[1]!==t[b[0]]:!(b[0]in t))return!1}for(;++m<x;){b=l[m];var P=b[0],$=t[P],H=b[1];if(R&&b[2]){if($===r&&!(P in t))return!1}else{var W=new ir;if(d)var ee=d($,H,P,t,i,W);if(!(ee===r?Ja(H,$,N|j,d,W):ee))return!1}}return!0}function qp(t){if(!un(t)||Ix(t))return!1;var i=Pr(t)?Jy:Zo;return i.test(bi(t))}function ex(t){return mn(t)&&et(t)==pn}function nx(t){return mn(t)&&Fn(t)==Me}function tx(t){return mn(t)&&$s(t.length)&&!!Je[et(t)]}function $p(t){return typeof t=="function"?t:t==null?ht:typeof t=="object"?_e(t)?Wp(t[0],t[1]):Vp(t):dh(t)}function qu(t){if(!to(t))return a1(t);var i=[];for(var l in Ge(t))qe.call(t,l)&&l!="constructor"&&i.push(l);return i}function rx(t){if(!un(t))return zx(t);var i=to(t),l=[];for(var d in t)d=="constructor"&&(i||!qe.call(t,d))||l.push(d);return l}function $u(t,i){return t<i}function Hp(t,i){var l=-1,d=pt(t)?O(t.length):[];return Qr(t,function(m,x,R){d[++l]=i(m,x,R)}),d}function Vp(t){var i=ic(t);return i.length==1&&i[0][2]?jm(i[0][0],i[0][1]):function(l){return l===t||Uu(l,t,i)}}function Wp(t,i){return oc(t)&&Sm(i)?jm(xr(t),i):function(l){var d=gc(l,t);return d===r&&d===i?vc(l,t):Ja(i,d,N|j)}}function As(t,i,l,d,m){t!==i&&Lu(i,function(x,R){if(m||(m=new ir),un(x))ix(t,i,R,l,As,d,m);else{var b=d?d(lc(t,R),x,R+"",t,i,m):r;b===r&&(b=x),Iu(t,R,b)}},mt)}function ix(t,i,l,d,m,x,R){var b=lc(t,l),P=lc(i,l),$=R.get(P);if($){Iu(t,l,$);return}var H=x?x(b,P,l+"",t,i,R):r,W=H===r;if(W){var ee=_e(P),le=!ee&&ei(P),he=!ee&&!le&&sa(P);H=P,ee||le||he?_e(b)?H=b:yn(b)?H=ft(b):le?(W=!1,H=im(P,!0)):he?(W=!1,H=am(P,!0)):H=[]:io(P)||Mi(P)?(H=b,Mi(b)?H=nh(b):(!un(b)||Pr(b))&&(H=wm(P))):W=!1}W&&(R.set(P,H),m(H,P,d,x,R),R.delete(P)),Iu(t,l,H)}function Gp(t,i){var l=t.length;if(l)return i+=i<0?l:0,Mr(i,l)?t[i]:r}function Kp(t,i,l){i.length?i=an(i,function(x){return _e(x)?function(R){return Ri(R,x.length===1?x[0]:x)}:x}):i=[ht];var d=-1;i=an(i,jt(me()));var m=Hp(t,function(x,R,b){var P=an(i,function($){return $(x)});return{criteria:P,index:++d,value:x}});return My(m,function(x,R){return vx(x,R,l)})}function ax(t,i){return Xp(t,i,function(l,d){return vc(t,d)})}function Xp(t,i,l){for(var d=-1,m=i.length,x={};++d<m;){var R=i[d],b=Ri(t,R);l(b,R)&&eo(x,Zr(R,t),b)}return x}function ox(t){return function(i){return Ri(i,t)}}function Hu(t,i,l,d){var m=d?by:Qi,x=-1,R=i.length,b=t;for(t===i&&(i=ft(i)),l&&(b=an(t,jt(l)));++x<R;)for(var P=0,$=i[x],H=l?l($):$;(P=m(b,H,P,d))>-1;)b!==t&&vs.call(b,P,1),vs.call(t,P,1);return t}function Qp(t,i){for(var l=t?i.length:0,d=l-1;l--;){var m=i[l];if(l==d||m!==x){var x=m;Mr(m)?vs.call(t,m,1):Ku(t,m)}}return t}function Vu(t,i){return t+_s(bp()*(i-t+1))}function sx(t,i,l,d){for(var m=-1,x=Nn(xs((i-t)/(l||1)),0),R=O(x);x--;)R[d?x:++m]=t,t+=l;return R}function Wu(t,i){var l="";if(!t||i<1||i>V)return l;do i%2&&(l+=t),i=_s(i/2),i&&(t+=t);while(i);return l}function Se(t,i){return uc(Nm(t,i,ht),t+"")}function lx(t){return Dp(la(t))}function ux(t,i){var l=la(t);return Ls(l,Ai(i,0,l.length))}function eo(t,i,l,d){if(!un(t))return t;i=Zr(i,t);for(var m=-1,x=i.length,R=x-1,b=t;b!=null&&++m<x;){var P=xr(i[m]),$=l;if(P==="__proto__"||P==="constructor"||P==="prototype")return t;if(m!=R){var H=b[P];$=d?d(H,P,b):r,$===r&&($=un(H)?H:Mr(i[m+1])?[]:{})}Qa(b,P,$),b=b[P]}return t}var Yp=Cs?function(t,i){return Cs.set(t,i),t}:ht,cx=ys?function(t,i){return ys(t,"toString",{configurable:!0,enumerable:!1,value:xc(i),writable:!0})}:ht;function dx(t){return Ls(la(t))}function Wt(t,i,l){var d=-1,m=t.length;i<0&&(i=-i>m?0:m+i),l=l>m?m:l,l<0&&(l+=m),m=i>l?0:l-i>>>0,i>>>=0;for(var x=O(m);++d<m;)x[d]=t[d+i];return x}function fx(t,i){var l;return Qr(t,function(d,m,x){return l=i(d,m,x),!l}),!!l}function Rs(t,i,l){var d=0,m=t==null?d:t.length;if(typeof i=="number"&&i===i&&m<=ze){for(;d<m;){var x=d+m>>>1,R=t[x];R!==null&&!At(R)&&(l?R<=i:R<i)?d=x+1:m=x}return m}return Gu(t,i,ht,l)}function Gu(t,i,l,d){var m=0,x=t==null?0:t.length;if(x===0)return 0;i=l(i);for(var R=i!==i,b=i===null,P=At(i),$=i===r;m<x;){var H=_s((m+x)/2),W=l(t[H]),ee=W!==r,le=W===null,he=W===W,Ee=At(W);if(R)var ge=d||he;else $?ge=he&&(d||ee):b?ge=he&&ee&&(d||!le):P?ge=he&&ee&&!le&&(d||!Ee):le||Ee?ge=!1:ge=d?W<=i:W<i;ge?m=H+1:x=H}return zn(x,ve)}function Zp(t,i){for(var l=-1,d=t.length,m=0,x=[];++l<d;){var R=t[l],b=i?i(R):R;if(!l||!ar(b,P)){var P=b;x[m++]=R===0?0:R}}return x}function Jp(t){return typeof t=="number"?t:At(t)?J:+t}function Nt(t){if(typeof t=="string")return t;if(_e(t))return an(t,Nt)+"";if(At(t))return Mp?Mp.call(t):"";var i=t+"";return i=="0"&&1/t==-ke?"-0":i}function Yr(t,i,l){var d=-1,m=ss,x=t.length,R=!0,b=[],P=b;if(l)R=!1,m=Eu;else if(x>=o){var $=i?null:wx(t);if($)return us($);R=!1,m=Ha,P=new Ni}else P=i?[]:b;e:for(;++d<x;){var H=t[d],W=i?i(H):H;if(H=l||H!==0?H:0,R&&W===W){for(var ee=P.length;ee--;)if(P[ee]===W)continue e;i&&P.push(W),b.push(H)}else m(P,W,l)||(P!==b&&P.push(W),b.push(H))}return b}function Ku(t,i){return i=Zr(i,t),t=Am(t,i),t==null||delete t[xr(Gt(i))]}function em(t,i,l,d){return eo(t,i,l(Ri(t,i)),d)}function ks(t,i,l,d){for(var m=t.length,x=d?m:-1;(d?x--:++x<m)&&i(t[x],x,t););return l?Wt(t,d?0:x,d?x+1:m):Wt(t,d?x+1:0,d?m:x)}function nm(t,i){var l=t;return l instanceof Te&&(l=l.value()),wu(i,function(d,m){return m.func.apply(m.thisArg,Gr([d],m.args))},l)}function Xu(t,i,l){var d=t.length;if(d<2)return d?Yr(t[0]):[];for(var m=-1,x=O(d);++m<d;)for(var R=t[m],b=-1;++b<d;)b!=m&&(x[m]=Ya(x[m]||R,t[b],i,l));return Yr(Dn(x,1),i,l)}function tm(t,i,l){for(var d=-1,m=t.length,x=i.length,R={};++d<m;){var b=d<x?i[d]:r;l(R,t[d],b)}return R}function Qu(t){return yn(t)?t:[]}function Yu(t){return typeof t=="function"?t:ht}function Zr(t,i){return _e(t)?t:oc(t,i)?[t]:Mm(Fe(t))}var px=Se;function Jr(t,i,l){var d=t.length;return l=l===r?d:l,!i&&l>=d?t:Wt(t,i,l)}var rm=e1||function(t){return Pn.clearTimeout(t)};function im(t,i){if(i)return t.slice();var l=t.length,d=jp?jp(l):new t.constructor(l);return t.copy(d),d}function Zu(t){var i=new t.constructor(t.byteLength);return new hs(i).set(new hs(t)),i}function mx(t,i){var l=i?Zu(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.byteLength)}function hx(t){var i=new t.constructor(t.source,Jn.exec(t));return i.lastIndex=t.lastIndex,i}function gx(t){return Xa?Ge(Xa.call(t)):{}}function am(t,i){var l=i?Zu(t.buffer):t.buffer;return new t.constructor(l,t.byteOffset,t.length)}function om(t,i){if(t!==i){var l=t!==r,d=t===null,m=t===t,x=At(t),R=i!==r,b=i===null,P=i===i,$=At(i);if(!b&&!$&&!x&&t>i||x&&R&&P&&!b&&!$||d&&R&&P||!l&&P||!m)return 1;if(!d&&!x&&!$&&t<i||$&&l&&m&&!d&&!x||b&&l&&m||!R&&m||!P)return-1}return 0}function vx(t,i,l){for(var d=-1,m=t.criteria,x=i.criteria,R=m.length,b=l.length;++d<R;){var P=om(m[d],x[d]);if(P){if(d>=b)return P;var $=l[d];return P*($=="desc"?-1:1)}}return t.index-i.index}function sm(t,i,l,d){for(var m=-1,x=t.length,R=l.length,b=-1,P=i.length,$=Nn(x-R,0),H=O(P+$),W=!d;++b<P;)H[b]=i[b];for(;++m<R;)(W||m<x)&&(H[l[m]]=t[m]);for(;$--;)H[b++]=t[m++];return H}function lm(t,i,l,d){for(var m=-1,x=t.length,R=-1,b=l.length,P=-1,$=i.length,H=Nn(x-b,0),W=O(H+$),ee=!d;++m<H;)W[m]=t[m];for(var le=m;++P<$;)W[le+P]=i[P];for(;++R<b;)(ee||m<x)&&(W[le+l[R]]=t[m++]);return W}function ft(t,i){var l=-1,d=t.length;for(i||(i=O(d));++l<d;)i[l]=t[l];return i}function yr(t,i,l,d){var m=!l;l||(l={});for(var x=-1,R=i.length;++x<R;){var b=i[x],P=d?d(l[b],t[b],b,l,t):r;P===r&&(P=t[b]),m?Rr(l,b,P):Qa(l,b,P)}return l}function yx(t,i){return yr(t,ac(t),i)}function xx(t,i){return yr(t,Cm(t),i)}function bs(t,i){return function(l,d){var m=_e(l)?Sy:U1,x=i?i():{};return m(l,t,me(d,2),x)}}function ia(t){return Se(function(i,l){var d=-1,m=l.length,x=m>1?l[m-1]:r,R=m>2?l[2]:r;for(x=t.length>3&&typeof x=="function"?(m--,x):r,R&&nt(l[0],l[1],R)&&(x=m<3?r:x,m=1),i=Ge(i);++d<m;){var b=l[d];b&&t(i,b,d,x)}return i})}function um(t,i){return function(l,d){if(l==null)return l;if(!pt(l))return t(l,d);for(var m=l.length,x=i?m:-1,R=Ge(l);(i?x--:++x<m)&&d(R[x],x,R)!==!1;);return l}}function cm(t){return function(i,l,d){for(var m=-1,x=Ge(i),R=d(i),b=R.length;b--;){var P=R[t?b:++m];if(l(x[P],P,x)===!1)break}return i}}function _x(t,i,l){var d=i&D,m=no(t);function x(){var R=this&&this!==Pn&&this instanceof x?m:t;return R.apply(d?l:this,arguments)}return x}function dm(t){return function(i){i=Fe(i);var l=Yi(i)?rr(i):r,d=l?l[0]:i.charAt(0),m=l?Jr(l,1).join(""):i.slice(1);return d[t]()+m}}function aa(t){return function(i){return wu(uh(lh(i).replace(cy,"")),t,"")}}function no(t){return function(){var i=arguments;switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3]);case 5:return new t(i[0],i[1],i[2],i[3],i[4]);case 6:return new t(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var l=ra(t.prototype),d=t.apply(l,i);return un(d)?d:l}}function Cx(t,i,l){var d=no(t);function m(){for(var x=arguments.length,R=O(x),b=x,P=oa(m);b--;)R[b]=arguments[b];var $=x<3&&R[0]!==P&&R[x-1]!==P?[]:Kr(R,P);if(x-=$.length,x<l)return gm(t,i,Ms,m.placeholder,r,R,$,r,r,l-x);var H=this&&this!==Pn&&this instanceof m?d:t;return St(H,this,R)}return m}function fm(t){return function(i,l,d){var m=Ge(i);if(!pt(i)){var x=me(l,3);i=kn(i),l=function(b){return x(m[b],b,m)}}var R=t(i,l,d);return R>-1?m[x?i[R]:R]:r}}function pm(t){return br(function(i){var l=i.length,d=l,m=Ht.prototype.thru;for(t&&i.reverse();d--;){var x=i[d];if(typeof x!="function")throw new $t(c);if(m&&!R&&Is(x)=="wrapper")var R=new Ht([],!0)}for(d=R?d:l;++d<l;){x=i[d];var b=Is(x),P=b=="wrapper"?rc(x):r;P&&sc(P[0])&&P[1]==(L|E|k|T)&&!P[4].length&&P[9]==1?R=R[Is(P[0])].apply(R,P[3]):R=x.length==1&&sc(x)?R[b]():R.thru(x)}return function(){var $=arguments,H=$[0];if(R&&$.length==1&&_e(H))return R.plant(H).value();for(var W=0,ee=l?i[W].apply(this,$):H;++W<l;)ee=i[W].call(this,ee);return ee}})}function Ms(t,i,l,d,m,x,R,b,P,$){var H=i&L,W=i&D,ee=i&_,le=i&(E|S),he=i&q,Ee=ee?r:no(t);function ge(){for(var Ne=arguments.length,Ie=O(Ne),Rt=Ne;Rt--;)Ie[Rt]=arguments[Rt];if(le)var tt=oa(ge),kt=Dy(Ie,tt);if(d&&(Ie=sm(Ie,d,m,le)),x&&(Ie=lm(Ie,x,R,le)),Ne-=kt,le&&Ne<$){var xn=Kr(Ie,tt);return gm(t,i,Ms,ge.placeholder,l,Ie,xn,b,P,$-Ne)}var or=W?l:this,Tr=ee?or[t]:t;return Ne=Ie.length,b?Ie=Ux(Ie,b):he&&Ne>1&&Ie.reverse(),H&&P<Ne&&(Ie.length=P),this&&this!==Pn&&this instanceof ge&&(Tr=Ee||no(Tr)),Tr.apply(or,Ie)}return ge}function mm(t,i){return function(l,d){return X1(l,t,i(d),{})}}function Ps(t,i){return function(l,d){var m;if(l===r&&d===r)return i;if(l!==r&&(m=l),d!==r){if(m===r)return d;typeof l=="string"||typeof d=="string"?(l=Nt(l),d=Nt(d)):(l=Jp(l),d=Jp(d)),m=t(l,d)}return m}}function Ju(t){return br(function(i){return i=an(i,jt(me())),Se(function(l){var d=this;return t(i,function(m){return St(m,d,l)})})})}function Ds(t,i){i=i===r?" ":Nt(i);var l=i.length;if(l<2)return l?Wu(i,t):i;var d=Wu(i,xs(t/Zi(i)));return Yi(i)?Jr(rr(d),0,t).join(""):d.slice(0,t)}function Ex(t,i,l,d){var m=i&D,x=no(t);function R(){for(var b=-1,P=arguments.length,$=-1,H=d.length,W=O(H+P),ee=this&&this!==Pn&&this instanceof R?x:t;++$<H;)W[$]=d[$];for(;P--;)W[$++]=arguments[++b];return St(ee,m?l:this,W)}return R}function hm(t){return function(i,l,d){return d&&typeof d!="number"&&nt(i,l,d)&&(l=d=r),i=Dr(i),l===r?(l=i,i=0):l=Dr(l),d=d===r?i<l?1:-1:Dr(d),sx(i,l,d,t)}}function Ts(t){return function(i,l){return typeof i=="string"&&typeof l=="string"||(i=Kt(i),l=Kt(l)),t(i,l)}}function gm(t,i,l,d,m,x,R,b,P,$){var H=i&E,W=H?R:r,ee=H?r:R,le=H?x:r,he=H?r:x;i|=H?k:I,i&=~(H?I:k),i&g||(i&=~(D|_));var Ee=[t,i,m,le,W,he,ee,b,P,$],ge=l.apply(r,Ee);return sc(t)&&Rm(ge,Ee),ge.placeholder=d,km(ge,t,i)}function ec(t){var i=jn[t];return function(l,d){if(l=Kt(l),d=d==null?0:zn(Ce(d),292),d&&kp(l)){var m=(Fe(l)+"e").split("e"),x=i(m[0]+"e"+(+m[1]+d));return m=(Fe(x)+"e").split("e"),+(m[0]+"e"+(+m[1]-d))}return i(l)}}var wx=na&&1/us(new na([,-0]))[1]==ke?function(t){return new na(t)}:Ec;function vm(t){return function(i){var l=Fn(i);return l==pe?bu(i):l==Me?Fy(i):Py(i,t(i))}}function kr(t,i,l,d,m,x,R,b){var P=i&_;if(!P&&typeof t!="function")throw new $t(c);var $=d?d.length:0;if($||(i&=~(k|I),d=m=r),R=R===r?R:Nn(Ce(R),0),b=b===r?b:Ce(b),$-=m?m.length:0,i&I){var H=d,W=m;d=m=r}var ee=P?r:rc(t),le=[t,i,l,d,m,H,W,x,R,b];if(ee&&Bx(le,ee),t=le[0],i=le[1],l=le[2],d=le[3],m=le[4],b=le[9]=le[9]===r?P?0:t.length:Nn(le[9]-$,0),!b&&i&(E|S)&&(i&=~(E|S)),!i||i==D)var he=_x(t,i,l);else i==E||i==S?he=Cx(t,i,b):(i==k||i==(D|k))&&!m.length?he=Ex(t,i,l,d):he=Ms.apply(r,le);var Ee=ee?Yp:Rm;return km(Ee(he,le),t,i)}function ym(t,i,l,d){return t===r||ar(t,ea[l])&&!qe.call(d,l)?i:t}function xm(t,i,l,d,m,x){return un(t)&&un(i)&&(x.set(i,t),As(t,i,r,xm,x),x.delete(i)),t}function Sx(t){return io(t)?r:t}function _m(t,i,l,d,m,x){var R=l&N,b=t.length,P=i.length;if(b!=P&&!(R&&P>b))return!1;var $=x.get(t),H=x.get(i);if($&&H)return $==i&&H==t;var W=-1,ee=!0,le=l&j?new Ni:r;for(x.set(t,i),x.set(i,t);++W<b;){var he=t[W],Ee=i[W];if(d)var ge=R?d(Ee,he,W,i,t,x):d(he,Ee,W,t,i,x);if(ge!==r){if(ge)continue;ee=!1;break}if(le){if(!Su(i,function(Ne,Ie){if(!Ha(le,Ie)&&(he===Ne||m(he,Ne,l,d,x)))return le.push(Ie)})){ee=!1;break}}else if(!(he===Ee||m(he,Ee,l,d,x))){ee=!1;break}}return x.delete(t),x.delete(i),ee}function jx(t,i,l,d,m,x,R){switch(l){case Sn:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)return!1;t=t.buffer,i=i.buffer;case rn:return!(t.byteLength!=i.byteLength||!x(new hs(t),new hs(i)));case z:case G:case tn:return ar(+t,+i);case ne:return t.name==i.name&&t.message==i.message;case pn:case We:return t==i+"";case pe:var b=bu;case Me:var P=d&N;if(b||(b=us),t.size!=i.size&&!P)return!1;var $=R.get(t);if($)return $==i;d|=j,R.set(t,i);var H=_m(b(t),b(i),d,m,x,R);return R.delete(t),H;case Ze:if(Xa)return Xa.call(t)==Xa.call(i)}return!1}function Nx(t,i,l,d,m,x){var R=l&N,b=nc(t),P=b.length,$=nc(i),H=$.length;if(P!=H&&!R)return!1;for(var W=P;W--;){var ee=b[W];if(!(R?ee in i:qe.call(i,ee)))return!1}var le=x.get(t),he=x.get(i);if(le&&he)return le==i&&he==t;var Ee=!0;x.set(t,i),x.set(i,t);for(var ge=R;++W<P;){ee=b[W];var Ne=t[ee],Ie=i[ee];if(d)var Rt=R?d(Ie,Ne,ee,i,t,x):d(Ne,Ie,ee,t,i,x);if(!(Rt===r?Ne===Ie||m(Ne,Ie,l,d,x):Rt)){Ee=!1;break}ge||(ge=ee=="constructor")}if(Ee&&!ge){var tt=t.constructor,kt=i.constructor;tt!=kt&&"constructor"in t&&"constructor"in i&&!(typeof tt=="function"&&tt instanceof tt&&typeof kt=="function"&&kt instanceof kt)&&(Ee=!1)}return x.delete(t),x.delete(i),Ee}function br(t){return uc(Nm(t,r,Im),t+"")}function nc(t){return Fp(t,kn,ac)}function tc(t){return Fp(t,mt,Cm)}var rc=Cs?function(t){return Cs.get(t)}:Ec;function Is(t){for(var i=t.name+"",l=ta[i],d=qe.call(ta,i)?l.length:0;d--;){var m=l[d],x=m.func;if(x==null||x==t)return m.name}return i}function oa(t){var i=qe.call(y,"placeholder")?y:t;return i.placeholder}function me(){var t=y.iteratee||_c;return t=t===_c?$p:t,arguments.length?t(arguments[0],arguments[1]):t}function Os(t,i){var l=t.__data__;return Tx(i)?l[typeof i=="string"?"string":"hash"]:l.map}function ic(t){for(var i=kn(t),l=i.length;l--;){var d=i[l],m=t[d];i[l]=[d,m,Sm(m)]}return i}function ki(t,i){var l=Ly(t,i);return qp(l)?l:r}function Ax(t){var i=qe.call(t,Si),l=t[Si];try{t[Si]=r;var d=!0}catch{}var m=ps.call(t);return d&&(i?t[Si]=l:delete t[Si]),m}var ac=Pu?function(t){return t==null?[]:(t=Ge(t),Wr(Pu(t),function(i){return Ap.call(t,i)}))}:wc,Cm=Pu?function(t){for(var i=[];t;)Gr(i,ac(t)),t=gs(t);return i}:wc,Fn=et;(Du&&Fn(new Du(new ArrayBuffer(1)))!=Sn||Wa&&Fn(new Wa)!=pe||Tu&&Fn(Tu.resolve())!=Cn||na&&Fn(new na)!=Me||Ga&&Fn(new Ga)!=Wn)&&(Fn=function(t){var i=et(t),l=i==Ve?t.constructor:r,d=l?bi(l):"";if(d)switch(d){case u1:return Sn;case c1:return pe;case d1:return Cn;case f1:return Me;case p1:return Wn}return i});function Rx(t,i,l){for(var d=-1,m=l.length;++d<m;){var x=l[d],R=x.size;switch(x.type){case"drop":t+=R;break;case"dropRight":i-=R;break;case"take":i=zn(i,t+R);break;case"takeRight":t=Nn(t,i-R);break}}return{start:t,end:i}}function kx(t){var i=t.match(Ft);return i?i[1].split(fu):[]}function Em(t,i,l){i=Zr(i,t);for(var d=-1,m=i.length,x=!1;++d<m;){var R=xr(i[d]);if(!(x=t!=null&&l(t,R)))break;t=t[R]}return x||++d!=m?x:(m=t==null?0:t.length,!!m&&$s(m)&&Mr(R,m)&&(_e(t)||Mi(t)))}function bx(t){var i=t.length,l=new t.constructor(i);return i&&typeof t[0]=="string"&&qe.call(t,"index")&&(l.index=t.index,l.input=t.input),l}function wm(t){return typeof t.constructor=="function"&&!to(t)?ra(gs(t)):{}}function Mx(t,i,l){var d=t.constructor;switch(i){case rn:return Zu(t);case z:case G:return new d(+t);case Sn:return mx(t,l);case He:case Y:case xe:case Pe:case Gn:case En:case ln:case ue:case De:return am(t,l);case pe:return new d;case tn:case We:return new d(t);case pn:return hx(t);case Me:return new d;case Ze:return gx(t)}}function Px(t,i){var l=i.length;if(!l)return t;var d=l-1;return i[d]=(l>1?"& ":"")+i[d],i=i.join(l>2?", ":" "),t.replace(zt,`{
/* [wrapped with `+i+`] */
`)}function Dx(t){return _e(t)||Mi(t)||!!(Rp&&t&&t[Rp])}function Mr(t,i){var l=typeof t;return i=i??V,!!i&&(l=="number"||l!="symbol"&&es.test(t))&&t>-1&&t%1==0&&t<i}function nt(t,i,l){if(!un(l))return!1;var d=typeof i;return(d=="number"?pt(l)&&Mr(i,l.length):d=="string"&&i in l)?ar(l[i],t):!1}function oc(t,i){if(_e(t))return!1;var l=typeof t;return l=="number"||l=="symbol"||l=="boolean"||t==null||At(t)?!0:Bt.test(t)||!Bn.test(t)||i!=null&&t in Ge(i)}function Tx(t){var i=typeof t;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?t!=="__proto__":t===null}function sc(t){var i=Is(t),l=y[i];if(typeof l!="function"||!(i in Te.prototype))return!1;if(t===l)return!0;var d=rc(l);return!!d&&t===d[0]}function Ix(t){return!!Sp&&Sp in t}var Ox=ds?Pr:Sc;function to(t){var i=t&&t.constructor,l=typeof i=="function"&&i.prototype||ea;return t===l}function Sm(t){return t===t&&!un(t)}function jm(t,i){return function(l){return l==null?!1:l[t]===i&&(i!==r||t in Ge(l))}}function Lx(t){var i=Us(t,function(d){return l.size===v&&l.clear(),d}),l=i.cache;return i}function Bx(t,i){var l=t[1],d=i[1],m=l|d,x=m<(D|_|L),R=d==L&&l==E||d==L&&l==T&&t[7].length<=i[8]||d==(L|T)&&i[7].length<=i[8]&&l==E;if(!(x||R))return t;d&D&&(t[2]=i[2],m|=l&D?0:g);var b=i[3];if(b){var P=t[3];t[3]=P?sm(P,b,i[4]):b,t[4]=P?Kr(t[3],h):i[4]}return b=i[5],b&&(P=t[5],t[5]=P?lm(P,b,i[6]):b,t[6]=P?Kr(t[5],h):i[6]),b=i[7],b&&(t[7]=b),d&L&&(t[8]=t[8]==null?i[8]:zn(t[8],i[8])),t[9]==null&&(t[9]=i[9]),t[0]=i[0],t[1]=m,t}function zx(t){var i=[];if(t!=null)for(var l in Ge(t))i.push(l);return i}function Fx(t){return ps.call(t)}function Nm(t,i,l){return i=Nn(i===r?t.length-1:i,0),function(){for(var d=arguments,m=-1,x=Nn(d.length-i,0),R=O(x);++m<x;)R[m]=d[i+m];m=-1;for(var b=O(i+1);++m<i;)b[m]=d[m];return b[i]=l(R),St(t,this,b)}}function Am(t,i){return i.length<2?t:Ri(t,Wt(i,0,-1))}function Ux(t,i){for(var l=t.length,d=zn(i.length,l),m=ft(t);d--;){var x=i[d];t[d]=Mr(x,l)?m[x]:r}return t}function lc(t,i){if(!(i==="constructor"&&typeof t[i]=="function")&&i!="__proto__")return t[i]}var Rm=bm(Yp),ro=t1||function(t,i){return Pn.setTimeout(t,i)},uc=bm(cx);function km(t,i,l){var d=i+"";return uc(t,Px(d,qx(kx(d),l)))}function bm(t){var i=0,l=0;return function(){var d=o1(),m=oe-(d-l);if(l=d,m>0){if(++i>=te)return arguments[0]}else i=0;return t.apply(r,arguments)}}function Ls(t,i){var l=-1,d=t.length,m=d-1;for(i=i===r?d:i;++l<i;){var x=Vu(l,m),R=t[x];t[x]=t[l],t[l]=R}return t.length=i,t}var Mm=Lx(function(t){var i=[];return t.charCodeAt(0)===46&&i.push(""),t.replace(Ci,function(l,d,m,x){i.push(m?x.replace(Zn,"$1"):d||l)}),i});function xr(t){if(typeof t=="string"||At(t))return t;var i=t+"";return i=="0"&&1/t==-ke?"-0":i}function bi(t){if(t!=null){try{return fs.call(t)}catch{}try{return t+""}catch{}}return""}function qx(t,i){return qt(Ke,function(l){var d="_."+l[0];i&l[1]&&!ss(t,d)&&t.push(d)}),t.sort()}function Pm(t){if(t instanceof Te)return t.clone();var i=new Ht(t.__wrapped__,t.__chain__);return i.__actions__=ft(t.__actions__),i.__index__=t.__index__,i.__values__=t.__values__,i}function $x(t,i,l){(l?nt(t,i,l):i===r)?i=1:i=Nn(Ce(i),0);var d=t==null?0:t.length;if(!d||i<1)return[];for(var m=0,x=0,R=O(xs(d/i));m<d;)R[x++]=Wt(t,m,m+=i);return R}function Hx(t){for(var i=-1,l=t==null?0:t.length,d=0,m=[];++i<l;){var x=t[i];x&&(m[d++]=x)}return m}function Vx(){var t=arguments.length;if(!t)return[];for(var i=O(t-1),l=arguments[0],d=t;d--;)i[d-1]=arguments[d];return Gr(_e(l)?ft(l):[l],Dn(i,1))}var Wx=Se(function(t,i){return yn(t)?Ya(t,Dn(i,1,yn,!0)):[]}),Gx=Se(function(t,i){var l=Gt(i);return yn(l)&&(l=r),yn(t)?Ya(t,Dn(i,1,yn,!0),me(l,2)):[]}),Kx=Se(function(t,i){var l=Gt(i);return yn(l)&&(l=r),yn(t)?Ya(t,Dn(i,1,yn,!0),r,l):[]});function Xx(t,i,l){var d=t==null?0:t.length;return d?(i=l||i===r?1:Ce(i),Wt(t,i<0?0:i,d)):[]}function Qx(t,i,l){var d=t==null?0:t.length;return d?(i=l||i===r?1:Ce(i),i=d-i,Wt(t,0,i<0?0:i)):[]}function Yx(t,i){return t&&t.length?ks(t,me(i,3),!0,!0):[]}function Zx(t,i){return t&&t.length?ks(t,me(i,3),!0):[]}function Jx(t,i,l,d){var m=t==null?0:t.length;return m?(l&&typeof l!="number"&&nt(t,i,l)&&(l=0,d=m),V1(t,i,l,d)):[]}function Dm(t,i,l){var d=t==null?0:t.length;if(!d)return-1;var m=l==null?0:Ce(l);return m<0&&(m=Nn(d+m,0)),ls(t,me(i,3),m)}function Tm(t,i,l){var d=t==null?0:t.length;if(!d)return-1;var m=d-1;return l!==r&&(m=Ce(l),m=l<0?Nn(d+m,0):zn(m,d-1)),ls(t,me(i,3),m,!0)}function Im(t){var i=t==null?0:t.length;return i?Dn(t,1):[]}function e_(t){var i=t==null?0:t.length;return i?Dn(t,ke):[]}function n_(t,i){var l=t==null?0:t.length;return l?(i=i===r?1:Ce(i),Dn(t,i)):[]}function t_(t){for(var i=-1,l=t==null?0:t.length,d={};++i<l;){var m=t[i];d[m[0]]=m[1]}return d}function Om(t){return t&&t.length?t[0]:r}function r_(t,i,l){var d=t==null?0:t.length;if(!d)return-1;var m=l==null?0:Ce(l);return m<0&&(m=Nn(d+m,0)),Qi(t,i,m)}function i_(t){var i=t==null?0:t.length;return i?Wt(t,0,-1):[]}var a_=Se(function(t){var i=an(t,Qu);return i.length&&i[0]===t[0]?Fu(i):[]}),o_=Se(function(t){var i=Gt(t),l=an(t,Qu);return i===Gt(l)?i=r:l.pop(),l.length&&l[0]===t[0]?Fu(l,me(i,2)):[]}),s_=Se(function(t){var i=Gt(t),l=an(t,Qu);return i=typeof i=="function"?i:r,i&&l.pop(),l.length&&l[0]===t[0]?Fu(l,r,i):[]});function l_(t,i){return t==null?"":i1.call(t,i)}function Gt(t){var i=t==null?0:t.length;return i?t[i-1]:r}function u_(t,i,l){var d=t==null?0:t.length;if(!d)return-1;var m=d;return l!==r&&(m=Ce(l),m=m<0?Nn(d+m,0):zn(m,d-1)),i===i?qy(t,i,m):ls(t,gp,m,!0)}function c_(t,i){return t&&t.length?Gp(t,Ce(i)):r}var d_=Se(Lm);function Lm(t,i){return t&&t.length&&i&&i.length?Hu(t,i):t}function f_(t,i,l){return t&&t.length&&i&&i.length?Hu(t,i,me(l,2)):t}function p_(t,i,l){return t&&t.length&&i&&i.length?Hu(t,i,r,l):t}var m_=br(function(t,i){var l=t==null?0:t.length,d=Ou(t,i);return Qp(t,an(i,function(m){return Mr(m,l)?+m:m}).sort(om)),d});function h_(t,i){var l=[];if(!(t&&t.length))return l;var d=-1,m=[],x=t.length;for(i=me(i,3);++d<x;){var R=t[d];i(R,d,t)&&(l.push(R),m.push(d))}return Qp(t,m),l}function cc(t){return t==null?t:l1.call(t)}function g_(t,i,l){var d=t==null?0:t.length;return d?(l&&typeof l!="number"&&nt(t,i,l)?(i=0,l=d):(i=i==null?0:Ce(i),l=l===r?d:Ce(l)),Wt(t,i,l)):[]}function v_(t,i){return Rs(t,i)}function y_(t,i,l){return Gu(t,i,me(l,2))}function x_(t,i){var l=t==null?0:t.length;if(l){var d=Rs(t,i);if(d<l&&ar(t[d],i))return d}return-1}function __(t,i){return Rs(t,i,!0)}function C_(t,i,l){return Gu(t,i,me(l,2),!0)}function E_(t,i){var l=t==null?0:t.length;if(l){var d=Rs(t,i,!0)-1;if(ar(t[d],i))return d}return-1}function w_(t){return t&&t.length?Zp(t):[]}function S_(t,i){return t&&t.length?Zp(t,me(i,2)):[]}function j_(t){var i=t==null?0:t.length;return i?Wt(t,1,i):[]}function N_(t,i,l){return t&&t.length?(i=l||i===r?1:Ce(i),Wt(t,0,i<0?0:i)):[]}function A_(t,i,l){var d=t==null?0:t.length;return d?(i=l||i===r?1:Ce(i),i=d-i,Wt(t,i<0?0:i,d)):[]}function R_(t,i){return t&&t.length?ks(t,me(i,3),!1,!0):[]}function k_(t,i){return t&&t.length?ks(t,me(i,3)):[]}var b_=Se(function(t){return Yr(Dn(t,1,yn,!0))}),M_=Se(function(t){var i=Gt(t);return yn(i)&&(i=r),Yr(Dn(t,1,yn,!0),me(i,2))}),P_=Se(function(t){var i=Gt(t);return i=typeof i=="function"?i:r,Yr(Dn(t,1,yn,!0),r,i)});function D_(t){return t&&t.length?Yr(t):[]}function T_(t,i){return t&&t.length?Yr(t,me(i,2)):[]}function I_(t,i){return i=typeof i=="function"?i:r,t&&t.length?Yr(t,r,i):[]}function dc(t){if(!(t&&t.length))return[];var i=0;return t=Wr(t,function(l){if(yn(l))return i=Nn(l.length,i),!0}),Ru(i,function(l){return an(t,ju(l))})}function Bm(t,i){if(!(t&&t.length))return[];var l=dc(t);return i==null?l:an(l,function(d){return St(i,r,d)})}var O_=Se(function(t,i){return yn(t)?Ya(t,i):[]}),L_=Se(function(t){return Xu(Wr(t,yn))}),B_=Se(function(t){var i=Gt(t);return yn(i)&&(i=r),Xu(Wr(t,yn),me(i,2))}),z_=Se(function(t){var i=Gt(t);return i=typeof i=="function"?i:r,Xu(Wr(t,yn),r,i)}),F_=Se(dc);function U_(t,i){return tm(t||[],i||[],Qa)}function q_(t,i){return tm(t||[],i||[],eo)}var $_=Se(function(t){var i=t.length,l=i>1?t[i-1]:r;return l=typeof l=="function"?(t.pop(),l):r,Bm(t,l)});function zm(t){var i=y(t);return i.__chain__=!0,i}function H_(t,i){return i(t),t}function Bs(t,i){return i(t)}var V_=br(function(t){var i=t.length,l=i?t[0]:0,d=this.__wrapped__,m=function(x){return Ou(x,t)};return i>1||this.__actions__.length||!(d instanceof Te)||!Mr(l)?this.thru(m):(d=d.slice(l,+l+(i?1:0)),d.__actions__.push({func:Bs,args:[m],thisArg:r}),new Ht(d,this.__chain__).thru(function(x){return i&&!x.length&&x.push(r),x}))});function W_(){return zm(this)}function G_(){return new Ht(this.value(),this.__chain__)}function K_(){this.__values__===r&&(this.__values__=Jm(this.value()));var t=this.__index__>=this.__values__.length,i=t?r:this.__values__[this.__index__++];return{done:t,value:i}}function X_(){return this}function Q_(t){for(var i,l=this;l instanceof ws;){var d=Pm(l);d.__index__=0,d.__values__=r,i?m.__wrapped__=d:i=d;var m=d;l=l.__wrapped__}return m.__wrapped__=t,i}function Y_(){var t=this.__wrapped__;if(t instanceof Te){var i=t;return this.__actions__.length&&(i=new Te(this)),i=i.reverse(),i.__actions__.push({func:Bs,args:[cc],thisArg:r}),new Ht(i,this.__chain__)}return this.thru(cc)}function Z_(){return nm(this.__wrapped__,this.__actions__)}var J_=bs(function(t,i,l){qe.call(t,l)?++t[l]:Rr(t,l,1)});function eC(t,i,l){var d=_e(t)?mp:H1;return l&&nt(t,i,l)&&(i=r),d(t,me(i,3))}function nC(t,i){var l=_e(t)?Wr:Bp;return l(t,me(i,3))}var tC=fm(Dm),rC=fm(Tm);function iC(t,i){return Dn(zs(t,i),1)}function aC(t,i){return Dn(zs(t,i),ke)}function oC(t,i,l){return l=l===r?1:Ce(l),Dn(zs(t,i),l)}function Fm(t,i){var l=_e(t)?qt:Qr;return l(t,me(i,3))}function Um(t,i){var l=_e(t)?jy:Lp;return l(t,me(i,3))}var sC=bs(function(t,i,l){qe.call(t,l)?t[l].push(i):Rr(t,l,[i])});function lC(t,i,l,d){t=pt(t)?t:la(t),l=l&&!d?Ce(l):0;var m=t.length;return l<0&&(l=Nn(m+l,0)),Hs(t)?l<=m&&t.indexOf(i,l)>-1:!!m&&Qi(t,i,l)>-1}var uC=Se(function(t,i,l){var d=-1,m=typeof i=="function",x=pt(t)?O(t.length):[];return Qr(t,function(R){x[++d]=m?St(i,R,l):Za(R,i,l)}),x}),cC=bs(function(t,i,l){Rr(t,l,i)});function zs(t,i){var l=_e(t)?an:Hp;return l(t,me(i,3))}function dC(t,i,l,d){return t==null?[]:(_e(i)||(i=i==null?[]:[i]),l=d?r:l,_e(l)||(l=l==null?[]:[l]),Kp(t,i,l))}var fC=bs(function(t,i,l){t[l?0:1].push(i)},function(){return[[],[]]});function pC(t,i,l){var d=_e(t)?wu:yp,m=arguments.length<3;return d(t,me(i,4),l,m,Qr)}function mC(t,i,l){var d=_e(t)?Ny:yp,m=arguments.length<3;return d(t,me(i,4),l,m,Lp)}function hC(t,i){var l=_e(t)?Wr:Bp;return l(t,qs(me(i,3)))}function gC(t){var i=_e(t)?Dp:lx;return i(t)}function vC(t,i,l){(l?nt(t,i,l):i===r)?i=1:i=Ce(i);var d=_e(t)?z1:ux;return d(t,i)}function yC(t){var i=_e(t)?F1:dx;return i(t)}function xC(t){if(t==null)return 0;if(pt(t))return Hs(t)?Zi(t):t.length;var i=Fn(t);return i==pe||i==Me?t.size:qu(t).length}function _C(t,i,l){var d=_e(t)?Su:fx;return l&&nt(t,i,l)&&(i=r),d(t,me(i,3))}var CC=Se(function(t,i){if(t==null)return[];var l=i.length;return l>1&&nt(t,i[0],i[1])?i=[]:l>2&&nt(i[0],i[1],i[2])&&(i=[i[0]]),Kp(t,Dn(i,1),[])}),Fs=n1||function(){return Pn.Date.now()};function EC(t,i){if(typeof i!="function")throw new $t(c);return t=Ce(t),function(){if(--t<1)return i.apply(this,arguments)}}function qm(t,i,l){return i=l?r:i,i=t&&i==null?t.length:i,kr(t,L,r,r,r,r,i)}function $m(t,i){var l;if(typeof i!="function")throw new $t(c);return t=Ce(t),function(){return--t>0&&(l=i.apply(this,arguments)),t<=1&&(i=r),l}}var fc=Se(function(t,i,l){var d=D;if(l.length){var m=Kr(l,oa(fc));d|=k}return kr(t,d,i,l,m)}),Hm=Se(function(t,i,l){var d=D|_;if(l.length){var m=Kr(l,oa(Hm));d|=k}return kr(i,d,t,l,m)});function Vm(t,i,l){i=l?r:i;var d=kr(t,E,r,r,r,r,r,i);return d.placeholder=Vm.placeholder,d}function Wm(t,i,l){i=l?r:i;var d=kr(t,S,r,r,r,r,r,i);return d.placeholder=Wm.placeholder,d}function Gm(t,i,l){var d,m,x,R,b,P,$=0,H=!1,W=!1,ee=!0;if(typeof t!="function")throw new $t(c);i=Kt(i)||0,un(l)&&(H=!!l.leading,W="maxWait"in l,x=W?Nn(Kt(l.maxWait)||0,i):x,ee="trailing"in l?!!l.trailing:ee);function le(xn){var or=d,Tr=m;return d=m=r,$=xn,R=t.apply(Tr,or),R}function he(xn){return $=xn,b=ro(Ne,i),H?le(xn):R}function Ee(xn){var or=xn-P,Tr=xn-$,fh=i-or;return W?zn(fh,x-Tr):fh}function ge(xn){var or=xn-P,Tr=xn-$;return P===r||or>=i||or<0||W&&Tr>=x}function Ne(){var xn=Fs();if(ge(xn))return Ie(xn);b=ro(Ne,Ee(xn))}function Ie(xn){return b=r,ee&&d?le(xn):(d=m=r,R)}function Rt(){b!==r&&rm(b),$=0,d=P=m=b=r}function tt(){return b===r?R:Ie(Fs())}function kt(){var xn=Fs(),or=ge(xn);if(d=arguments,m=this,P=xn,or){if(b===r)return he(P);if(W)return rm(b),b=ro(Ne,i),le(P)}return b===r&&(b=ro(Ne,i)),R}return kt.cancel=Rt,kt.flush=tt,kt}var wC=Se(function(t,i){return Op(t,1,i)}),SC=Se(function(t,i,l){return Op(t,Kt(i)||0,l)});function jC(t){return kr(t,q)}function Us(t,i){if(typeof t!="function"||i!=null&&typeof i!="function")throw new $t(c);var l=function(){var d=arguments,m=i?i.apply(this,d):d[0],x=l.cache;if(x.has(m))return x.get(m);var R=t.apply(this,d);return l.cache=x.set(m,R)||x,R};return l.cache=new(Us.Cache||Ar),l}Us.Cache=Ar;function qs(t){if(typeof t!="function")throw new $t(c);return function(){var i=arguments;switch(i.length){case 0:return!t.call(this);case 1:return!t.call(this,i[0]);case 2:return!t.call(this,i[0],i[1]);case 3:return!t.call(this,i[0],i[1],i[2])}return!t.apply(this,i)}}function NC(t){return $m(2,t)}var AC=px(function(t,i){i=i.length==1&&_e(i[0])?an(i[0],jt(me())):an(Dn(i,1),jt(me()));var l=i.length;return Se(function(d){for(var m=-1,x=zn(d.length,l);++m<x;)d[m]=i[m].call(this,d[m]);return St(t,this,d)})}),pc=Se(function(t,i){var l=Kr(i,oa(pc));return kr(t,k,r,i,l)}),Km=Se(function(t,i){var l=Kr(i,oa(Km));return kr(t,I,r,i,l)}),RC=br(function(t,i){return kr(t,T,r,r,r,i)});function kC(t,i){if(typeof t!="function")throw new $t(c);return i=i===r?i:Ce(i),Se(t,i)}function bC(t,i){if(typeof t!="function")throw new $t(c);return i=i==null?0:Nn(Ce(i),0),Se(function(l){var d=l[i],m=Jr(l,0,i);return d&&Gr(m,d),St(t,this,m)})}function MC(t,i,l){var d=!0,m=!0;if(typeof t!="function")throw new $t(c);return un(l)&&(d="leading"in l?!!l.leading:d,m="trailing"in l?!!l.trailing:m),Gm(t,i,{leading:d,maxWait:i,trailing:m})}function PC(t){return qm(t,1)}function DC(t,i){return pc(Yu(i),t)}function TC(){if(!arguments.length)return[];var t=arguments[0];return _e(t)?t:[t]}function IC(t){return Vt(t,w)}function OC(t,i){return i=typeof i=="function"?i:r,Vt(t,w,i)}function LC(t){return Vt(t,C|w)}function BC(t,i){return i=typeof i=="function"?i:r,Vt(t,C|w,i)}function zC(t,i){return i==null||Ip(t,i,kn(i))}function ar(t,i){return t===i||t!==t&&i!==i}var FC=Ts(zu),UC=Ts(function(t,i){return t>=i}),Mi=Up(function(){return arguments}())?Up:function(t){return mn(t)&&qe.call(t,"callee")&&!Ap.call(t,"callee")},_e=O.isArray,qC=lp?jt(lp):Q1;function pt(t){return t!=null&&$s(t.length)&&!Pr(t)}function yn(t){return mn(t)&&pt(t)}function $C(t){return t===!0||t===!1||mn(t)&&et(t)==z}var ei=r1||Sc,HC=up?jt(up):Y1;function VC(t){return mn(t)&&t.nodeType===1&&!io(t)}function WC(t){if(t==null)return!0;if(pt(t)&&(_e(t)||typeof t=="string"||typeof t.splice=="function"||ei(t)||sa(t)||Mi(t)))return!t.length;var i=Fn(t);if(i==pe||i==Me)return!t.size;if(to(t))return!qu(t).length;for(var l in t)if(qe.call(t,l))return!1;return!0}function GC(t,i){return Ja(t,i)}function KC(t,i,l){l=typeof l=="function"?l:r;var d=l?l(t,i):r;return d===r?Ja(t,i,r,l):!!d}function mc(t){if(!mn(t))return!1;var i=et(t);return i==ne||i==re||typeof t.message=="string"&&typeof t.name=="string"&&!io(t)}function XC(t){return typeof t=="number"&&kp(t)}function Pr(t){if(!un(t))return!1;var i=et(t);return i==be||i==ie||i==we||i==st}function Xm(t){return typeof t=="number"&&t==Ce(t)}function $s(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=V}function un(t){var i=typeof t;return t!=null&&(i=="object"||i=="function")}function mn(t){return t!=null&&typeof t=="object"}var Qm=cp?jt(cp):J1;function QC(t,i){return t===i||Uu(t,i,ic(i))}function YC(t,i,l){return l=typeof l=="function"?l:r,Uu(t,i,ic(i),l)}function ZC(t){return Ym(t)&&t!=+t}function JC(t){if(Ox(t))throw new ye(u);return qp(t)}function eE(t){return t===null}function nE(t){return t==null}function Ym(t){return typeof t=="number"||mn(t)&&et(t)==tn}function io(t){if(!mn(t)||et(t)!=Ve)return!1;var i=gs(t);if(i===null)return!0;var l=qe.call(i,"constructor")&&i.constructor;return typeof l=="function"&&l instanceof l&&fs.call(l)==Yy}var hc=dp?jt(dp):ex;function tE(t){return Xm(t)&&t>=-V&&t<=V}var Zm=fp?jt(fp):nx;function Hs(t){return typeof t=="string"||!_e(t)&&mn(t)&&et(t)==We}function At(t){return typeof t=="symbol"||mn(t)&&et(t)==Ze}var sa=pp?jt(pp):tx;function rE(t){return t===r}function iE(t){return mn(t)&&Fn(t)==Wn}function aE(t){return mn(t)&&et(t)==nr}var oE=Ts($u),sE=Ts(function(t,i){return t<=i});function Jm(t){if(!t)return[];if(pt(t))return Hs(t)?rr(t):ft(t);if(Va&&t[Va])return zy(t[Va]());var i=Fn(t),l=i==pe?bu:i==Me?us:la;return l(t)}function Dr(t){if(!t)return t===0?t:0;if(t=Kt(t),t===ke||t===-ke){var i=t<0?-1:1;return i*Q}return t===t?t:0}function Ce(t){var i=Dr(t),l=i%1;return i===i?l?i-l:i:0}function eh(t){return t?Ai(Ce(t),0,de):0}function Kt(t){if(typeof t=="number")return t;if(At(t))return J;if(un(t)){var i=typeof t.valueOf=="function"?t.valueOf():t;t=un(i)?i+"":i}if(typeof t!="string")return t===0?t:+t;t=xp(t);var l=wt.test(t);return l||Jo.test(t)?Ey(t.slice(2),l?2:8):Fa.test(t)?J:+t}function nh(t){return yr(t,mt(t))}function lE(t){return t?Ai(Ce(t),-V,V):t===0?t:0}function Fe(t){return t==null?"":Nt(t)}var uE=ia(function(t,i){if(to(i)||pt(i)){yr(i,kn(i),t);return}for(var l in i)qe.call(i,l)&&Qa(t,l,i[l])}),th=ia(function(t,i){yr(i,mt(i),t)}),Vs=ia(function(t,i,l,d){yr(i,mt(i),t,d)}),cE=ia(function(t,i,l,d){yr(i,kn(i),t,d)}),dE=br(Ou);function fE(t,i){var l=ra(t);return i==null?l:Tp(l,i)}var pE=Se(function(t,i){t=Ge(t);var l=-1,d=i.length,m=d>2?i[2]:r;for(m&&nt(i[0],i[1],m)&&(d=1);++l<d;)for(var x=i[l],R=mt(x),b=-1,P=R.length;++b<P;){var $=R[b],H=t[$];(H===r||ar(H,ea[$])&&!qe.call(t,$))&&(t[$]=x[$])}return t}),mE=Se(function(t){return t.push(r,xm),St(rh,r,t)});function hE(t,i){return hp(t,me(i,3),vr)}function gE(t,i){return hp(t,me(i,3),Bu)}function vE(t,i){return t==null?t:Lu(t,me(i,3),mt)}function yE(t,i){return t==null?t:zp(t,me(i,3),mt)}function xE(t,i){return t&&vr(t,me(i,3))}function _E(t,i){return t&&Bu(t,me(i,3))}function CE(t){return t==null?[]:Ns(t,kn(t))}function EE(t){return t==null?[]:Ns(t,mt(t))}function gc(t,i,l){var d=t==null?r:Ri(t,i);return d===r?l:d}function wE(t,i){return t!=null&&Em(t,i,W1)}function vc(t,i){return t!=null&&Em(t,i,G1)}var SE=mm(function(t,i,l){i!=null&&typeof i.toString!="function"&&(i=ps.call(i)),t[i]=l},xc(ht)),jE=mm(function(t,i,l){i!=null&&typeof i.toString!="function"&&(i=ps.call(i)),qe.call(t,i)?t[i].push(l):t[i]=[l]},me),NE=Se(Za);function kn(t){return pt(t)?Pp(t):qu(t)}function mt(t){return pt(t)?Pp(t,!0):rx(t)}function AE(t,i){var l={};return i=me(i,3),vr(t,function(d,m,x){Rr(l,i(d,m,x),d)}),l}function RE(t,i){var l={};return i=me(i,3),vr(t,function(d,m,x){Rr(l,m,i(d,m,x))}),l}var kE=ia(function(t,i,l){As(t,i,l)}),rh=ia(function(t,i,l,d){As(t,i,l,d)}),bE=br(function(t,i){var l={};if(t==null)return l;var d=!1;i=an(i,function(x){return x=Zr(x,t),d||(d=x.length>1),x}),yr(t,tc(t),l),d&&(l=Vt(l,C|A|w,Sx));for(var m=i.length;m--;)Ku(l,i[m]);return l});function ME(t,i){return ih(t,qs(me(i)))}var PE=br(function(t,i){return t==null?{}:ax(t,i)});function ih(t,i){if(t==null)return{};var l=an(tc(t),function(d){return[d]});return i=me(i),Xp(t,l,function(d,m){return i(d,m[0])})}function DE(t,i,l){i=Zr(i,t);var d=-1,m=i.length;for(m||(m=1,t=r);++d<m;){var x=t==null?r:t[xr(i[d])];x===r&&(d=m,x=l),t=Pr(x)?x.call(t):x}return t}function TE(t,i,l){return t==null?t:eo(t,i,l)}function IE(t,i,l,d){return d=typeof d=="function"?d:r,t==null?t:eo(t,i,l,d)}var ah=vm(kn),oh=vm(mt);function OE(t,i,l){var d=_e(t),m=d||ei(t)||sa(t);if(i=me(i,4),l==null){var x=t&&t.constructor;m?l=d?new x:[]:un(t)?l=Pr(x)?ra(gs(t)):{}:l={}}return(m?qt:vr)(t,function(R,b,P){return i(l,R,b,P)}),l}function LE(t,i){return t==null?!0:Ku(t,i)}function BE(t,i,l){return t==null?t:em(t,i,Yu(l))}function zE(t,i,l,d){return d=typeof d=="function"?d:r,t==null?t:em(t,i,Yu(l),d)}function la(t){return t==null?[]:ku(t,kn(t))}function FE(t){return t==null?[]:ku(t,mt(t))}function UE(t,i,l){return l===r&&(l=i,i=r),l!==r&&(l=Kt(l),l=l===l?l:0),i!==r&&(i=Kt(i),i=i===i?i:0),Ai(Kt(t),i,l)}function qE(t,i,l){return i=Dr(i),l===r?(l=i,i=0):l=Dr(l),t=Kt(t),K1(t,i,l)}function $E(t,i,l){if(l&&typeof l!="boolean"&&nt(t,i,l)&&(i=l=r),l===r&&(typeof i=="boolean"?(l=i,i=r):typeof t=="boolean"&&(l=t,t=r)),t===r&&i===r?(t=0,i=1):(t=Dr(t),i===r?(i=t,t=0):i=Dr(i)),t>i){var d=t;t=i,i=d}if(l||t%1||i%1){var m=bp();return zn(t+m*(i-t+Cy("1e-"+((m+"").length-1))),i)}return Vu(t,i)}var HE=aa(function(t,i,l){return i=i.toLowerCase(),t+(l?sh(i):i)});function sh(t){return yc(Fe(t).toLowerCase())}function lh(t){return t=Fe(t),t&&t.replace(ns,Ty).replace(dy,"")}function VE(t,i,l){t=Fe(t),i=Nt(i);var d=t.length;l=l===r?d:Ai(Ce(l),0,d);var m=l;return l-=i.length,l>=0&&t.slice(l,m)==i}function WE(t){return t=Fe(t),t&&vn.test(t)?t.replace(Ct,Iy):t}function GE(t){return t=Fe(t),t&&ut.test(t)?t.replace(Xn,"\\$&"):t}var KE=aa(function(t,i,l){return t+(l?"-":"")+i.toLowerCase()}),XE=aa(function(t,i,l){return t+(l?" ":"")+i.toLowerCase()}),QE=dm("toLowerCase");function YE(t,i,l){t=Fe(t),i=Ce(i);var d=i?Zi(t):0;if(!i||d>=i)return t;var m=(i-d)/2;return Ds(_s(m),l)+t+Ds(xs(m),l)}function ZE(t,i,l){t=Fe(t),i=Ce(i);var d=i?Zi(t):0;return i&&d<i?t+Ds(i-d,l):t}function JE(t,i,l){t=Fe(t),i=Ce(i);var d=i?Zi(t):0;return i&&d<i?Ds(i-d,l)+t:t}function ew(t,i,l){return l||i==null?i=0:i&&(i=+i),s1(Fe(t).replace(Qn,""),i||0)}function nw(t,i,l){return(l?nt(t,i,l):i===r)?i=1:i=Ce(i),Wu(Fe(t),i)}function tw(){var t=arguments,i=Fe(t[0]);return t.length<3?i:i.replace(t[1],t[2])}var rw=aa(function(t,i,l){return t+(l?"_":"")+i.toLowerCase()});function iw(t,i,l){return l&&typeof l!="number"&&nt(t,i,l)&&(i=l=r),l=l===r?de:l>>>0,l?(t=Fe(t),t&&(typeof i=="string"||i!=null&&!hc(i))&&(i=Nt(i),!i&&Yi(t))?Jr(rr(t),0,l):t.split(i,l)):[]}var aw=aa(function(t,i,l){return t+(l?" ":"")+yc(i)});function ow(t,i,l){return t=Fe(t),l=l==null?0:Ai(Ce(l),0,t.length),i=Nt(i),t.slice(l,l+i.length)==i}function sw(t,i,l){var d=y.templateSettings;l&&nt(t,i,l)&&(i=r),t=Fe(t),i=Vs({},i,d,ym);var m=Vs({},i.imports,d.imports,ym),x=kn(m),R=ku(m,x),b,P,$=0,H=i.interpolate||Ei,W="__p += '",ee=Mu((i.escape||Ei).source+"|"+H.source+"|"+(H===Lt?dt:Ei).source+"|"+(i.evaluate||Ei).source+"|$","g"),le="//# sourceURL="+(qe.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gy+"]")+`
`;t.replace(ee,function(ge,Ne,Ie,Rt,tt,kt){return Ie||(Ie=Rt),W+=t.slice($,kt).replace(ts,Oy),Ne&&(b=!0,W+=`' +
__e(`+Ne+`) +
'`),tt&&(P=!0,W+=`';
`+tt+`;
__p += '`),Ie&&(W+=`' +
((__t = (`+Ie+`)) == null ? '' : __t) +
'`),$=kt+ge.length,ge}),W+=`';
`;var he=qe.call(i,"variable")&&i.variable;if(!he)W=`with (obj) {
`+W+`
}
`;else if(Yn.test(he))throw new ye(f);W=(P?W.replace(hr,""):W).replace(Ot,"$1").replace(tr,"$1;"),W="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var Ee=ch(function(){return Le(x,le+"return "+W).apply(r,R)});if(Ee.source=W,mc(Ee))throw Ee;return Ee}function lw(t){return Fe(t).toLowerCase()}function uw(t){return Fe(t).toUpperCase()}function cw(t,i,l){if(t=Fe(t),t&&(l||i===r))return xp(t);if(!t||!(i=Nt(i)))return t;var d=rr(t),m=rr(i),x=_p(d,m),R=Cp(d,m)+1;return Jr(d,x,R).join("")}function dw(t,i,l){if(t=Fe(t),t&&(l||i===r))return t.slice(0,wp(t)+1);if(!t||!(i=Nt(i)))return t;var d=rr(t),m=Cp(d,rr(i))+1;return Jr(d,0,m).join("")}function fw(t,i,l){if(t=Fe(t),t&&(l||i===r))return t.replace(Qn,"");if(!t||!(i=Nt(i)))return t;var d=rr(t),m=_p(d,rr(i));return Jr(d,m).join("")}function pw(t,i){var l=U,d=Z;if(un(i)){var m="separator"in i?i.separator:m;l="length"in i?Ce(i.length):l,d="omission"in i?Nt(i.omission):d}t=Fe(t);var x=t.length;if(Yi(t)){var R=rr(t);x=R.length}if(l>=x)return t;var b=l-Zi(d);if(b<1)return d;var P=R?Jr(R,0,b).join(""):t.slice(0,b);if(m===r)return P+d;if(R&&(b+=P.length-b),hc(m)){if(t.slice(b).search(m)){var $,H=P;for(m.global||(m=Mu(m.source,Fe(Jn.exec(m))+"g")),m.lastIndex=0;$=m.exec(H);)var W=$.index;P=P.slice(0,W===r?b:W)}}else if(t.indexOf(Nt(m),b)!=b){var ee=P.lastIndexOf(m);ee>-1&&(P=P.slice(0,ee))}return P+d}function mw(t){return t=Fe(t),t&&Kn.test(t)?t.replace(lt,$y):t}var hw=aa(function(t,i,l){return t+(l?" ":"")+i.toUpperCase()}),yc=dm("toUpperCase");function uh(t,i,l){return t=Fe(t),i=l?r:i,i===r?By(t)?Wy(t):ky(t):t.match(i)||[]}var ch=Se(function(t,i){try{return St(t,r,i)}catch(l){return mc(l)?l:new ye(l)}}),gw=br(function(t,i){return qt(i,function(l){l=xr(l),Rr(t,l,fc(t[l],t))}),t});function vw(t){var i=t==null?0:t.length,l=me();return t=i?an(t,function(d){if(typeof d[1]!="function")throw new $t(c);return[l(d[0]),d[1]]}):[],Se(function(d){for(var m=-1;++m<i;){var x=t[m];if(St(x[0],this,d))return St(x[1],this,d)}})}function yw(t){return $1(Vt(t,C))}function xc(t){return function(){return t}}function xw(t,i){return t==null||t!==t?i:t}var _w=pm(),Cw=pm(!0);function ht(t){return t}function _c(t){return $p(typeof t=="function"?t:Vt(t,C))}function Ew(t){return Vp(Vt(t,C))}function ww(t,i){return Wp(t,Vt(i,C))}var Sw=Se(function(t,i){return function(l){return Za(l,t,i)}}),jw=Se(function(t,i){return function(l){return Za(t,l,i)}});function Cc(t,i,l){var d=kn(i),m=Ns(i,d);l==null&&!(un(i)&&(m.length||!d.length))&&(l=i,i=t,t=this,m=Ns(i,kn(i)));var x=!(un(l)&&"chain"in l)||!!l.chain,R=Pr(t);return qt(m,function(b){var P=i[b];t[b]=P,R&&(t.prototype[b]=function(){var $=this.__chain__;if(x||$){var H=t(this.__wrapped__),W=H.__actions__=ft(this.__actions__);return W.push({func:P,args:arguments,thisArg:t}),H.__chain__=$,H}return P.apply(t,Gr([this.value()],arguments))})}),t}function Nw(){return Pn._===this&&(Pn._=Zy),this}function Ec(){}function Aw(t){return t=Ce(t),Se(function(i){return Gp(i,t)})}var Rw=Ju(an),kw=Ju(mp),bw=Ju(Su);function dh(t){return oc(t)?ju(xr(t)):ox(t)}function Mw(t){return function(i){return t==null?r:Ri(t,i)}}var Pw=hm(),Dw=hm(!0);function wc(){return[]}function Sc(){return!1}function Tw(){return{}}function Iw(){return""}function Ow(){return!0}function Lw(t,i){if(t=Ce(t),t<1||t>V)return[];var l=de,d=zn(t,de);i=me(i),t-=de;for(var m=Ru(d,i);++l<t;)i(l);return m}function Bw(t){return _e(t)?an(t,xr):At(t)?[t]:ft(Mm(Fe(t)))}function zw(t){var i=++Qy;return Fe(t)+i}var Fw=Ps(function(t,i){return t+i},0),Uw=ec("ceil"),qw=Ps(function(t,i){return t/i},1),$w=ec("floor");function Hw(t){return t&&t.length?js(t,ht,zu):r}function Vw(t,i){return t&&t.length?js(t,me(i,2),zu):r}function Ww(t){return vp(t,ht)}function Gw(t,i){return vp(t,me(i,2))}function Kw(t){return t&&t.length?js(t,ht,$u):r}function Xw(t,i){return t&&t.length?js(t,me(i,2),$u):r}var Qw=Ps(function(t,i){return t*i},1),Yw=ec("round"),Zw=Ps(function(t,i){return t-i},0);function Jw(t){return t&&t.length?Au(t,ht):0}function eS(t,i){return t&&t.length?Au(t,me(i,2)):0}return y.after=EC,y.ary=qm,y.assign=uE,y.assignIn=th,y.assignInWith=Vs,y.assignWith=cE,y.at=dE,y.before=$m,y.bind=fc,y.bindAll=gw,y.bindKey=Hm,y.castArray=TC,y.chain=zm,y.chunk=$x,y.compact=Hx,y.concat=Vx,y.cond=vw,y.conforms=yw,y.constant=xc,y.countBy=J_,y.create=fE,y.curry=Vm,y.curryRight=Wm,y.debounce=Gm,y.defaults=pE,y.defaultsDeep=mE,y.defer=wC,y.delay=SC,y.difference=Wx,y.differenceBy=Gx,y.differenceWith=Kx,y.drop=Xx,y.dropRight=Qx,y.dropRightWhile=Yx,y.dropWhile=Zx,y.fill=Jx,y.filter=nC,y.flatMap=iC,y.flatMapDeep=aC,y.flatMapDepth=oC,y.flatten=Im,y.flattenDeep=e_,y.flattenDepth=n_,y.flip=jC,y.flow=_w,y.flowRight=Cw,y.fromPairs=t_,y.functions=CE,y.functionsIn=EE,y.groupBy=sC,y.initial=i_,y.intersection=a_,y.intersectionBy=o_,y.intersectionWith=s_,y.invert=SE,y.invertBy=jE,y.invokeMap=uC,y.iteratee=_c,y.keyBy=cC,y.keys=kn,y.keysIn=mt,y.map=zs,y.mapKeys=AE,y.mapValues=RE,y.matches=Ew,y.matchesProperty=ww,y.memoize=Us,y.merge=kE,y.mergeWith=rh,y.method=Sw,y.methodOf=jw,y.mixin=Cc,y.negate=qs,y.nthArg=Aw,y.omit=bE,y.omitBy=ME,y.once=NC,y.orderBy=dC,y.over=Rw,y.overArgs=AC,y.overEvery=kw,y.overSome=bw,y.partial=pc,y.partialRight=Km,y.partition=fC,y.pick=PE,y.pickBy=ih,y.property=dh,y.propertyOf=Mw,y.pull=d_,y.pullAll=Lm,y.pullAllBy=f_,y.pullAllWith=p_,y.pullAt=m_,y.range=Pw,y.rangeRight=Dw,y.rearg=RC,y.reject=hC,y.remove=h_,y.rest=kC,y.reverse=cc,y.sampleSize=vC,y.set=TE,y.setWith=IE,y.shuffle=yC,y.slice=g_,y.sortBy=CC,y.sortedUniq=w_,y.sortedUniqBy=S_,y.split=iw,y.spread=bC,y.tail=j_,y.take=N_,y.takeRight=A_,y.takeRightWhile=R_,y.takeWhile=k_,y.tap=H_,y.throttle=MC,y.thru=Bs,y.toArray=Jm,y.toPairs=ah,y.toPairsIn=oh,y.toPath=Bw,y.toPlainObject=nh,y.transform=OE,y.unary=PC,y.union=b_,y.unionBy=M_,y.unionWith=P_,y.uniq=D_,y.uniqBy=T_,y.uniqWith=I_,y.unset=LE,y.unzip=dc,y.unzipWith=Bm,y.update=BE,y.updateWith=zE,y.values=la,y.valuesIn=FE,y.without=O_,y.words=uh,y.wrap=DC,y.xor=L_,y.xorBy=B_,y.xorWith=z_,y.zip=F_,y.zipObject=U_,y.zipObjectDeep=q_,y.zipWith=$_,y.entries=ah,y.entriesIn=oh,y.extend=th,y.extendWith=Vs,Cc(y,y),y.add=Fw,y.attempt=ch,y.camelCase=HE,y.capitalize=sh,y.ceil=Uw,y.clamp=UE,y.clone=IC,y.cloneDeep=LC,y.cloneDeepWith=BC,y.cloneWith=OC,y.conformsTo=zC,y.deburr=lh,y.defaultTo=xw,y.divide=qw,y.endsWith=VE,y.eq=ar,y.escape=WE,y.escapeRegExp=GE,y.every=eC,y.find=tC,y.findIndex=Dm,y.findKey=hE,y.findLast=rC,y.findLastIndex=Tm,y.findLastKey=gE,y.floor=$w,y.forEach=Fm,y.forEachRight=Um,y.forIn=vE,y.forInRight=yE,y.forOwn=xE,y.forOwnRight=_E,y.get=gc,y.gt=FC,y.gte=UC,y.has=wE,y.hasIn=vc,y.head=Om,y.identity=ht,y.includes=lC,y.indexOf=r_,y.inRange=qE,y.invoke=NE,y.isArguments=Mi,y.isArray=_e,y.isArrayBuffer=qC,y.isArrayLike=pt,y.isArrayLikeObject=yn,y.isBoolean=$C,y.isBuffer=ei,y.isDate=HC,y.isElement=VC,y.isEmpty=WC,y.isEqual=GC,y.isEqualWith=KC,y.isError=mc,y.isFinite=XC,y.isFunction=Pr,y.isInteger=Xm,y.isLength=$s,y.isMap=Qm,y.isMatch=QC,y.isMatchWith=YC,y.isNaN=ZC,y.isNative=JC,y.isNil=nE,y.isNull=eE,y.isNumber=Ym,y.isObject=un,y.isObjectLike=mn,y.isPlainObject=io,y.isRegExp=hc,y.isSafeInteger=tE,y.isSet=Zm,y.isString=Hs,y.isSymbol=At,y.isTypedArray=sa,y.isUndefined=rE,y.isWeakMap=iE,y.isWeakSet=aE,y.join=l_,y.kebabCase=KE,y.last=Gt,y.lastIndexOf=u_,y.lowerCase=XE,y.lowerFirst=QE,y.lt=oE,y.lte=sE,y.max=Hw,y.maxBy=Vw,y.mean=Ww,y.meanBy=Gw,y.min=Kw,y.minBy=Xw,y.stubArray=wc,y.stubFalse=Sc,y.stubObject=Tw,y.stubString=Iw,y.stubTrue=Ow,y.multiply=Qw,y.nth=c_,y.noConflict=Nw,y.noop=Ec,y.now=Fs,y.pad=YE,y.padEnd=ZE,y.padStart=JE,y.parseInt=ew,y.random=$E,y.reduce=pC,y.reduceRight=mC,y.repeat=nw,y.replace=tw,y.result=DE,y.round=Yw,y.runInContext=M,y.sample=gC,y.size=xC,y.snakeCase=rw,y.some=_C,y.sortedIndex=v_,y.sortedIndexBy=y_,y.sortedIndexOf=x_,y.sortedLastIndex=__,y.sortedLastIndexBy=C_,y.sortedLastIndexOf=E_,y.startCase=aw,y.startsWith=ow,y.subtract=Zw,y.sum=Jw,y.sumBy=eS,y.template=sw,y.times=Lw,y.toFinite=Dr,y.toInteger=Ce,y.toLength=eh,y.toLower=lw,y.toNumber=Kt,y.toSafeInteger=lE,y.toString=Fe,y.toUpper=uw,y.trim=cw,y.trimEnd=dw,y.trimStart=fw,y.truncate=pw,y.unescape=mw,y.uniqueId=zw,y.upperCase=hw,y.upperFirst=yc,y.each=Fm,y.eachRight=Um,y.first=Om,Cc(y,function(){var t={};return vr(y,function(i,l){qe.call(y.prototype,l)||(t[l]=i)}),t}(),{chain:!1}),y.VERSION=a,qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){y[t].placeholder=y}),qt(["drop","take"],function(t,i){Te.prototype[t]=function(l){l=l===r?1:Nn(Ce(l),0);var d=this.__filtered__&&!i?new Te(this):this.clone();return d.__filtered__?d.__takeCount__=zn(l,d.__takeCount__):d.__views__.push({size:zn(l,de),type:t+(d.__dir__<0?"Right":"")}),d},Te.prototype[t+"Right"]=function(l){return this.reverse()[t](l).reverse()}}),qt(["filter","map","takeWhile"],function(t,i){var l=i+1,d=l==ce||l==Be;Te.prototype[t]=function(m){var x=this.clone();return x.__iteratees__.push({iteratee:me(m,3),type:l}),x.__filtered__=x.__filtered__||d,x}}),qt(["head","last"],function(t,i){var l="take"+(i?"Right":"");Te.prototype[t]=function(){return this[l](1).value()[0]}}),qt(["initial","tail"],function(t,i){var l="drop"+(i?"":"Right");Te.prototype[t]=function(){return this.__filtered__?new Te(this):this[l](1)}}),Te.prototype.compact=function(){return this.filter(ht)},Te.prototype.find=function(t){return this.filter(t).head()},Te.prototype.findLast=function(t){return this.reverse().find(t)},Te.prototype.invokeMap=Se(function(t,i){return typeof t=="function"?new Te(this):this.map(function(l){return Za(l,t,i)})}),Te.prototype.reject=function(t){return this.filter(qs(me(t)))},Te.prototype.slice=function(t,i){t=Ce(t);var l=this;return l.__filtered__&&(t>0||i<0)?new Te(l):(t<0?l=l.takeRight(-t):t&&(l=l.drop(t)),i!==r&&(i=Ce(i),l=i<0?l.dropRight(-i):l.take(i-t)),l)},Te.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Te.prototype.toArray=function(){return this.take(de)},vr(Te.prototype,function(t,i){var l=/^(?:filter|find|map|reject)|While$/.test(i),d=/^(?:head|last)$/.test(i),m=y[d?"take"+(i=="last"?"Right":""):i],x=d||/^find/.test(i);m&&(y.prototype[i]=function(){var R=this.__wrapped__,b=d?[1]:arguments,P=R instanceof Te,$=b[0],H=P||_e(R),W=function(Ne){var Ie=m.apply(y,Gr([Ne],b));return d&&ee?Ie[0]:Ie};H&&l&&typeof $=="function"&&$.length!=1&&(P=H=!1);var ee=this.__chain__,le=!!this.__actions__.length,he=x&&!ee,Ee=P&&!le;if(!x&&H){R=Ee?R:new Te(this);var ge=t.apply(R,b);return ge.__actions__.push({func:Bs,args:[W],thisArg:r}),new Ht(ge,ee)}return he&&Ee?t.apply(this,b):(ge=this.thru(W),he?d?ge.value()[0]:ge.value():ge)})}),qt(["pop","push","shift","sort","splice","unshift"],function(t){var i=cs[t],l=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",d=/^(?:pop|shift)$/.test(t);y.prototype[t]=function(){var m=arguments;if(d&&!this.__chain__){var x=this.value();return i.apply(_e(x)?x:[],m)}return this[l](function(R){return i.apply(_e(R)?R:[],m)})}}),vr(Te.prototype,function(t,i){var l=y[i];if(l){var d=l.name+"";qe.call(ta,d)||(ta[d]=[]),ta[d].push({name:i,func:l})}}),ta[Ms(r,_).name]=[{name:"wrapper",func:r}],Te.prototype.clone=m1,Te.prototype.reverse=h1,Te.prototype.value=g1,y.prototype.at=V_,y.prototype.chain=W_,y.prototype.commit=G_,y.prototype.next=K_,y.prototype.plant=Q_,y.prototype.reverse=Y_,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=Z_,y.prototype.first=y.prototype.head,Va&&(y.prototype[Va]=X_),y},Ji=Gy();wi?((wi.exports=Ji)._=Ji,_u._=Ji):Pn._=Ji}).call(ca)}(xo,xo.exports)),xo.exports}var Jc={exports:{}},ed,jg;function zA(){if(jg)return ed;jg=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ed=e,ed}var nd,Ng;function FA(){if(Ng)return nd;Ng=1;var e=zA();function n(){}function r(){}return r.resetWarningCache=n,nd=function(){function a(c,f,p,v,h,C){if(C!==e){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}a.isRequired=a;function o(){return a}var u={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:n};return u.PropTypes=u,u},nd}var Ag;function UA(){return Ag||(Ag=1,Jc.exports=FA()()),Jc.exports}(function(e,n){(function(a,o){e.exports=o(K,BA(),UA())})(ca,function(r,a,o){return function(){var u={"./src/Xarrow/utils/buzzier.js":function(v,h,C){C.r(h),C.d(h,{bzFunction:function(){return A},buzzierMinSols:function(){return w}});var A=function(j,D,_,g){return function(E){return Math.pow(1-E,3)*j+3*Math.pow(1-E,2)*E*D+3*(1-E)*Math.pow(E,2)*_+Math.pow(E,3)*g}},w=function(j,D,_,g){var E=A(j,D,_,g),S=-6*j+12*D-6*_,k=Math.pow(-6*j+12*D-6*_,2)-4*(3*D-3*j)*(-3*j+9*D-9*_+3*g),I=2*(-3*j+9*D-9*_+3*g),L=E((S+Math.sqrt(k))/I),T=E((S-Math.sqrt(k))/I);return[L,T]}},"./src/Xarrow/Xarrow.tsx":function(v,h,C){var A=this&&this.__assign||function(){return A=Object.assign||function(T){for(var q,U=1,Z=arguments.length;U<Z;U++){q=arguments[U];for(var te in q)Object.prototype.hasOwnProperty.call(q,te)&&(T[te]=q[te])}return T},A.apply(this,arguments)},w=this&&this.__createBinding||(Object.create?function(T,q,U,Z){Z===void 0&&(Z=U),Object.defineProperty(T,Z,{enumerable:!0,get:function(){return q[U]}})}:function(T,q,U,Z){Z===void 0&&(Z=U),T[Z]=q[U]}),N=this&&this.__setModuleDefault||(Object.create?function(T,q){Object.defineProperty(T,"default",{enumerable:!0,value:q})}:function(T,q){T.default=q}),j=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var q={};if(T!=null)for(var U in T)U!=="default"&&Object.prototype.hasOwnProperty.call(T,U)&&w(q,T,U);return N(q,T),q},D=this&&this.__spreadArray||function(T,q){for(var U=0,Z=q.length,te=T.length;U<Z;U++,te++)T[te]=q[U];return T},_=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(h,"__esModule",{value:!0});var g=j(C("react")),E=_(C("./src/Xarrow/useXarrowProps.ts")),S=C("./src/Xwrapper.tsx"),k=_(C("./src/Xarrow/propTypes.ts")),I=C("./src/Xarrow/utils/GetPosition.tsx"),L=function(T){var q,U=g.useRef({svgRef:g.useRef(null),lineRef:g.useRef(null),headRef:g.useRef(null),tailRef:g.useRef(null),lineDrawAnimRef:g.useRef(null),lineDashAnimRef:g.useRef(null),headOpacityAnimRef:g.useRef(null)}),Z=U.current,te=Z.svgRef,oe=Z.lineRef,ce=Z.headRef;Z.tailRef;var fe=Z.lineDrawAnimRef,Be=Z.lineDashAnimRef,ke=Z.headOpacityAnimRef;g.useContext(S.XarrowContext);var V=E.default(T,U.current),Q=V[0],J=Q.labels,de=Q.lineColor,ve=Q.headColor,ze=Q.tailColor,Ke=Q.strokeWidth,Xe=Q.showHead,je=Q.showTail,we=Q.dashness,z=Q.headShape,G=Q.tailShape,re=Q.showXarrow,ne=Q.animateDrawing,be=Q.zIndex,ie=Q.passProps,pe=Q.arrowBodyProps,tn=Q.arrowHeadProps,Ln=Q.arrowTailProps,Ve=Q.SVGcanvasProps,Cn=Q.divContainerProps,st=Q.divContainerStyle,pn=Q.SVGcanvasStyle,Me=Q._debug,We=Q.shouldUpdatePosition;ne=T.animateDrawing;var Ze=g.useState(!ne),Vn=Ze[0],Wn=Ze[1],nr=g.useState({}),rn=nr[1],Sn=function(){return rn({})},He=g.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),Y=He[0],xe=He[1];g.useLayoutEffect(function(){if(We.current){var Kn=I.getPosition(V,U);xe(Kn),We.current=!1}});var Pe=Y.x2-Y.arrowHeadOffset.x,Gn=Y.y2-Y.arrowHeadOffset.y,En=Y.x1-Y.arrowTailOffset.x,ln=Y.y1-Y.arrowTailOffset.y,ue=we.strokeLen+we.nonStrokeLen,De=1;we.animation<0&&(we.animation*=-1,De=-1);var hr,Ot,tr,lt,Ct=0;return ne&&Vn==!1?(typeof ne=="boolean"&&(ne=1),Ot=ne+"s",hr=Y.lineLength,lt=Y.lineLength,tr=1,ne<0&&(q=[Ct,lt],lt=q[0],Ct=q[1],Ot=ne*-1+"s")):(hr=we.strokeLen+" "+we.nonStrokeLen,Ot=1/we.animation+"s",lt=ue*De,tr="indefinite",Ct=0),g.useLayoutEffect(function(){oe.current&&xe(function(Kn){var vn,gr;return A(A({},Kn),{lineLength:(gr=(vn=oe.current)===null||vn===void 0?void 0:vn.getTotalLength())!==null&&gr!==void 0?gr:0})})},[oe.current]),g.useEffect(function(){var Kn=function(){window.addEventListener("resize",Sn);var gr=function(){var Lt,Bn;Wn(!0),(Lt=ke.current)===null||Lt===void 0||Lt.beginElement(),(Bn=Be.current)===null||Bn===void 0||Bn.beginElement()},Et=function(){return ce.current.style.opacity="0"};return fe.current&&ce.current&&(fe.current.addEventListener("endEvent",gr),fe.current.addEventListener("beginEvent",Et)),function(){window.removeEventListener("resize",Sn),fe.current&&(fe.current.removeEventListener("endEvent",gr),ce.current&&fe.current.removeEventListener("beginEvent",Et))}},vn=Kn();return function(){Wn(!1),vn()}},[re]),g.default.createElement("div",A({},Cn,{style:A({position:"absolute",zIndex:be},st)}),re?g.default.createElement(g.default.Fragment,null,g.default.createElement("svg",A({ref:te,width:Y.cw,height:Y.ch,style:A({position:"absolute",left:Y.cx0,top:Y.cy0,pointerEvents:"none",border:Me?"1px dashed yellow":null},pn),overflow:"auto"},Ve),g.default.createElement("path",A({ref:oe,d:Y.arrowPath,stroke:de,strokeDasharray:hr,strokeWidth:Ke,fill:"transparent",pointerEvents:"visibleStroke"},ie,pe),g.default.createElement(g.default.Fragment,null,Vn?g.default.createElement(g.default.Fragment,null,we.animation?g.default.createElement("animate",{ref:Be,attributeName:"stroke-dashoffset",values:ue*De+";0",dur:1/we.animation+"s",repeatCount:"indefinite"}):null):g.default.createElement(g.default.Fragment,null,ne?g.default.createElement("animate",{ref:fe,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:lt+";"+Ct,dur:Ot,repeatCount:tr}):null))),je?g.default.createElement("g",A({fill:ze,pointerEvents:"auto",transform:"translate("+En+","+ln+") rotate("+Y.tailOrient+") scale("+Y.fTailSize+")"},ie,Ln),G.svgElem):null,Xe?g.default.createElement("g",A({ref:ce,fill:ve,pointerEvents:"auto",transform:"translate("+Pe+","+Gn+") rotate("+Y.headOrient+") scale("+Y.fHeadSize+")",opacity:ne&&!Vn?0:1},ie,tn),g.default.createElement("animate",{ref:ke,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),z.svgElem):null,Me?g.default.createElement(g.default.Fragment,null,g.default.createElement("circle",{r:"5",cx:Y.cpx1,cy:Y.cpy1,fill:"green"}),g.default.createElement("circle",{r:"5",cx:Y.cpx2,cy:Y.cpy2,fill:"blue"}),g.default.createElement("rect",{x:Y.excLeft,y:Y.excUp,width:Y.absDx,height:Y.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),J.start?g.default.createElement("div",{style:{transform:Y.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:Y.cx0+Y.labelStartPos.x,top:Y.cy0+Y.labelStartPos.y-Ke-5}},J.start):null,J.middle?g.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:Y.cx0+Y.labelMiddlePos.x,top:Y.cy0+Y.labelMiddlePos.y}},J.middle):null,J.end?g.default.createElement("div",{style:{transform:Y.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:Y.cx0+Y.labelEndPos.x,top:Y.cy0+Y.labelEndPos.y+Ke+5}},J.end):null,Me?g.default.createElement(g.default.Fragment,null,D(D([],Y.startPoints),Y.endPoints).map(function(Kn,vn){return g.default.createElement("div",{key:vn,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:Kn.x-Y.mainDivPos.x,top:Kn.y-Y.mainDivPos.y}})})):null):null)};L.propTypes=k.default,h.default=L},"./src/Xarrow/anchors.ts":function(v,h,C){v=C.nmd(v),Object.defineProperty(h,"__esModule",{value:!0}),h.calcAnchors=void 0;var A=function(N,j){return{middle:{x:N*.5,y:j*.5},left:{x:0,y:j*.5},right:{x:N,y:j*.5},top:{x:N*.5,y:0},bottom:{x:N*.5,y:j}}},w=function(N,j){return N.map(function(D){var _=A(j.right-j.x,j.bottom-j.y),g=_[D.position],E=g.x,S=g.y;return{x:j.x+E+D.offset.x,y:j.y+S+D.offset.y,anchor:D}})};h.calcAnchors=w,C.c[C.s]},"./src/Xarrow/propTypes.ts":function(v,h,C){var A=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(h,"__esModule",{value:!0});var w=A(C("prop-types")),N=C("./src/constants.tsx"),j=w.default.oneOf(N.cAnchorEdge),D=w.default.exact({position:j.isRequired,offset:w.default.exact({x:w.default.number,y:w.default.number}).isRequired}),_=w.default.oneOfType([j,D]),g=w.default.oneOfType([_,w.default.arrayOf(_)]),E=w.default.oneOfType([w.default.string,w.default.exact({current:w.default.any})]),S=w.default.oneOfType([w.default.element,w.default.string]),k=w.default.exact({start:S,middle:S,end:S}),I=w.default.oneOf(Object.keys(N.arrowShapes)),L=w.default.any,T=w.default.oneOfType([I,w.default.exact({svgElem:L,offsetForward:w.default.number}).isRequired]),q={start:E.isRequired,end:E.isRequired,startAnchor:g,endAnchor:g,labels:w.default.oneOfType([S,k]),color:w.default.string,lineColor:w.default.string,showHead:w.default.bool,headColor:w.default.string,headSize:w.default.number,tailSize:w.default.number,tailColor:w.default.string,strokeWidth:w.default.number,showTail:w.default.bool,path:w.default.oneOf(N.cPaths),showXarrow:w.default.bool,curveness:w.default.number,gridBreak:w.default.string,dashness:w.default.oneOfType([w.default.bool,w.default.object]),headShape:T,tailShape:T,animateDrawing:w.default.oneOfType([w.default.bool,w.default.number]),zIndex:w.default.number,passProps:w.default.object,arrowBodyProps:w.default.object,arrowHeadProps:w.default.object,arrowTailProps:w.default.object,SVGcanvasProps:w.default.object,divContainerProps:w.default.object,_extendSVGcanvas:w.default.number,_debug:w.default.bool,_cpx1Offset:w.default.number,_cpy1Offset:w.default.number,_cpx2Offset:w.default.number,_cpy2Offset:w.default.number};h.default=q},"./src/Xarrow/useXarrowProps.ts":function(v,h,C){var A=this&&this.__assign||function(){return A=Object.assign||function(z){for(var G,re=1,ne=arguments.length;re<ne;re++){G=arguments[re];for(var be in G)Object.prototype.hasOwnProperty.call(G,be)&&(z[be]=G[be])}return z},A.apply(this,arguments)},w=this&&this.__createBinding||(Object.create?function(z,G,re,ne){ne===void 0&&(ne=re),Object.defineProperty(z,ne,{enumerable:!0,get:function(){return G[re]}})}:function(z,G,re,ne){ne===void 0&&(ne=re),z[ne]=G[re]}),N=this&&this.__setModuleDefault||(Object.create?function(z,G){Object.defineProperty(z,"default",{enumerable:!0,value:G})}:function(z,G){z.default=G}),j=this&&this.__importStar||function(z){if(z&&z.__esModule)return z;var G={};if(z!=null)for(var re in z)re!=="default"&&Object.prototype.hasOwnProperty.call(z,re)&&w(G,z,re);return N(G,z),G},D=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(h,"__esModule",{value:!0});var _=j(C("react")),g=C("./src/Xarrow/utils/index.ts"),E=D(C("lodash")),S=C("./src/constants.tsx"),k=function(z){var G={start:null,middle:null,end:null};if(z)if(typeof z=="string"||_.default.isValidElement(z))G.middle=z;else for(var re in z)G[re]=z[re];return G},I=function(z){var G=Array.isArray(z)?z:[z],re=G.map(function(ie){return typeof ie=="string"?{position:ie}:ie});re=re.filter(function(ie){return S.cAnchorEdge.includes(ie.position)}),re.length==0&&(re=[{position:"auto"}]);var ne=re.filter(function(ie){return ie.position==="auto"});ne.length>0&&(re=re.filter(function(ie){return ie.position!=="auto"}),re.push.apply(re,ne.flatMap(function(ie){return["left","right","top","bottom"].map(function(pe){return A(A({},ie),{position:pe})})})));var be=re.map(function(ie){if(typeof ie=="object"){var pe=ie;return pe.position||(pe.position="auto"),pe.offset||(pe.offset={x:0,y:0}),pe.offset.y||(pe.offset.y=0),pe.offset.x||(pe.offset.x=0),pe=pe,pe}else return ie});return be},L=function(z,G){var re=0,ne=0,be,ie=1;return typeof z=="object"?(re=z.strokeLen||G.strokeWidth*2,ne=z.strokeLen?z.nonStrokeLen:G.strokeWidth,be=z.animation?z.animation:null):typeof z=="boolean"&&z&&(re=G.strokeWidth*2,ne=G.strokeWidth,be=null),{strokeLen:re,nonStrokeLen:ne,animation:be,animDirection:ie}},T=function(z){return typeof z=="string"&&(z in S.arrowShapes?z=S.arrowShapes[z]:(console.warn("'"+z+"' is not supported arrow shape. the supported arrow shapes is one of "+S.cArrowShapes+`.
           reverting to default shape.`),z=S.arrowShapes.arrow1)),z=z,(z==null?void 0:z.offsetForward)===void 0&&(z.offsetForward=.25),(z==null?void 0:z.svgElem)===void 0&&(z.svgElem="path"),z},q=function(z){var G=g.xStr2absRelative(z);return G||(G={relative:.5,abs:0}),G},U=function(z,G){return G&&(G.current=!0),z},Z=function(z){return z},te=function(z,G,re){return U(z,re)},oe=function(z,G,re){return U(Number(z),re)},ce=function(z){return Number(z)},fe={start:function(z){return g.getElementByPropGiven(z)},end:function(z){return g.getElementByPropGiven(z)},startAnchor:function(z,G,re){return U(I(z),re)},endAnchor:function(z,G,re){return U(I(z),re)},labels:function(z){return k(z)},color:Z,lineColor:function(z,G){return z||G.color},headColor:function(z,G){return z||G.color},tailColor:function(z,G){return z||G.color},strokeWidth:oe,showHead:te,headSize:oe,showTail:te,tailSize:oe,path:te,curveness:oe,gridBreak:function(z,G,re){return U(q(z),re)},dashness:function(z,G){return L(z,G)},headShape:function(z){return T(z)},tailShape:function(z){return T(z)},showXarrow:Z,animateDrawing:Z,zIndex:ce,passProps:Z,arrowBodyProps:te,arrowHeadProps:te,arrowTailProps:te,SVGcanvasProps:te,divContainerProps:te,divContainerStyle:te,SVGcanvasStyle:te,_extendSVGcanvas:te,_debug:te,_cpx1Offset:te,_cpy1Offset:te,_cpx2Offset:te,_cpy2Offset:te},Be={};for(var ke in fe)Be[ke]=[ke];for(var V=0,Q=["lineColor","headColor","tailColor"];V<Q.length;V++){var ke=Q[V];Be[ke].push("color")}var J=function(z,G){for(var re,ne=0,be=Object.entries(z);ne<be.length;ne++){var ie=be[ne],pe=ie[0],tn=ie[1];G[pe]=(re=fe==null?void 0:fe[pe])===null||re===void 0?void 0:re.call(fe,tn,G)}return G},de={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},ve={};ve=J(de,ve);var ze={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function Ke(z,G){return E.default.isEqual(z,G)}function Xe(z){var G=_.useRef();return Ke(z,G.current)||(G.current=z),G.current}function je(z,G){_.useLayoutEffect(z,G.map(Xe))}var we=function(z,G){var re=_.useState(ve),ne=re[0],be=re[1],ie=_.useRef(!1);ne.shouldUpdatePosition=ie;var pe=A(A({},de),z),tn=function(We){_.useLayoutEffect(function(){var Ze;ne[We]=(Ze=fe==null?void 0:fe[We])===null||Ze===void 0?void 0:Ze.call(fe,pe[We],ne,ie),be(A({},ne))},Be[We].map(function(Ze){return z[Ze]}))};for(var Ln in de)tn(Ln);var Ve=_.useState(ze),Cn=Ve[0],st=Ve[1],pn=g.getElemPos(ne.start);je(function(){Cn.startPos=pn,ie.current=!0,st(A({},Cn))},[pn]);var Me=g.getElemPos(ne.end);return je(function(){Cn.endPos=Me,ie.current=!0,st(A({},Cn))},[Me]),_.useLayoutEffect(function(){ie.current=!0,st(A({},Cn))},[ne.headShape.svgElem,ne.tailShape.svgElem]),[ne,Cn]};h.default=we},"./src/Xarrow/utils/GetPosition.tsx":function(v,h,C){var A=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(h,"__esModule",{value:!0}),h.getPosition=void 0;var w=C("./src/Xarrow/anchors.ts"),N=C("./src/Xarrow/utils/index.ts"),j=A(C("lodash")),D=C("./src/constants.tsx"),_=C("./src/Xarrow/utils/buzzier.js"),g=function(E,S){var k,I,L,T,q=E[0],U=E[1],Z=q.startAnchor,te=q.endAnchor,oe=q.strokeWidth,ce=q.showHead,fe=q.headSize,Be=q.showTail,ke=q.tailSize,V=q.path,Q=q.curveness,J=q.gridBreak,de=q.headShape,ve=q.tailShape,ze=q._extendSVGcanvas,Ke=q._cpx1Offset,Xe=q._cpy1Offset,je=q._cpx2Offset,we=q._cpy2Offset,z=U.startPos,G=U.endPos,re=S.current,ne=re.svgRef,be=re.lineRef,ie=0,pe=0,tn=w.calcAnchors(Z,z),Ln=w.calcAnchors(te,G),Ve=N.getShortestLine(tn,Ln),Cn=Ve.chosenStart,st=Ve.chosenEnd,pn=Cn.anchor.position,Me=st.anchor.position,We=j.default.pick(Cn,["x","y"]),Ze=j.default.pick(st,["x","y"]),Vn=N.getSvgPos(ne),Wn=Math.min(We.x,Ze.x)-Vn.x,nr=Math.min(We.y,Ze.y)-Vn.y,rn=Ze.x-We.x,Sn=Ze.y-We.y,He=Math.abs(Ze.x-We.x),Y=Math.abs(Ze.y-We.y),xe=rn>0?1:-1,Pe=Sn>0?1:-1,Gn=[de.offsetForward,ve.offsetForward],En=Gn[0],ln=Gn[1],ue=fe*oe,De=ke*oe,hr=0,Ot=0,tr=0,lt=0,Ct=ue*En,Kn=De*ln,vn=Number(Q);D.cPaths.includes(V)||(V="smooth"),V==="straight"&&(vn=0,V="smooth");var gr=fe>ke?fe:ke,Et=oe+oe*gr/2,Lt=Et,Bn=Et,Bt=Et,Ci=Et;Bn+=Number(ze),Lt+=Number(ze),Bt+=Number(ze),Ci+=Number(ze);var Xn=0,ut=He,Qn=0,ct=Y;if(rn<0&&(k=[ut,Xn],Xn=k[0],ut=k[1]),Sn<0&&(I=[ct,Qn],Qn=I[0],ct=I[1]),vn===0){var zt=Math.atan(Y/He);ce&&(ut-=ue*(1-En)*xe*Math.cos(zt),ct-=ue*(1-En)*Pe*Math.sin(zt),zt*=Pe,xe<0&&(zt=(Math.PI-zt*xe)*xe),hr=Math.cos(zt)*Ct-Math.sin(zt)*ue/2,Ot=Math.cos(zt)*ue/2+Math.sin(zt)*Ct,ie=zt*180/Math.PI);var Ft=Math.atan(Y/He);Be&&(Xn+=De*(1-ln)*xe*Math.cos(Ft),Qn+=De*(1-ln)*Pe*Math.sin(Ft),Ft*=-Pe,xe>0&&(Ft=(Math.PI-Ft*xe)*xe),tr=Math.cos(Ft)*Kn-Math.sin(Ft)*De/2,lt=Math.cos(Ft)*De/2+Math.sin(Ft)*Kn,pe=Ft*180/Math.PI)}else Me==="middle"&&(He>Y?Me=xe?"left":"right":Me=Pe?"top":"bottom"),ce&&(["left","right"].includes(Me)?(hr+=Ct*xe,ut-=ue*(1-En)*xe,Ot+=ue*xe/2,Me==="left"?(ie=0,xe<0&&(ie+=180)):(ie=180,xe>0&&(ie+=180))):["top","bottom"].includes(Me)&&(hr+=ue*-Pe/2,Ot+=Ct*Pe,ct-=ue*Pe-Ot,Me==="top"?(ie=270,Pe>0&&(ie+=180)):(ie=90,Pe<0&&(ie+=180))));Be&&vn!==0&&(["left","right"].includes(pn)?(tr+=Kn*-xe,Xn+=De*xe+tr,lt+=-(De*xe)/2,pn==="left"?(pe=180,xe<0&&(pe+=180)):(pe=0,xe>0&&(pe+=180))):["top","bottom"].includes(pn)&&(lt+=Kn*-Pe,Qn+=De*Pe+lt,tr+=De*Pe/2,pn==="top"?(pe=90,Pe>0&&(pe+=180)):(pe=270,Pe<0&&(pe+=180))));var fu={x:hr,y:Ot},pu={x:tr,y:lt},Yn=Xn,Zn=Qn,dt=ut,Jn=ct,Fa={};V==="smooth"?Fa={hh:function(){Yn+=He*vn*xe,dt-=He*vn*xe},vv:function(){Zn+=Y*vn*Pe,Jn-=Y*vn*Pe},hv:function(){Yn+=He*vn*xe,Jn-=Y*vn*Pe},vh:function(){Zn+=Y*vn*Pe,dt-=He*vn*xe}}:V==="grid"&&(Fa={hh:function(){Yn+=(He*J.relative+J.abs)*xe,dt-=(He*(1-J.relative)-J.abs)*xe,ce&&(Yn-=ue*(1-En)/2*xe,dt+=ue*(1-En)/2*xe),Be&&(Yn-=De*(1-ln)/2*xe,dt+=De*(1-ln)/2*xe)},vv:function(){Zn+=(Y*J.relative+J.abs)*Pe,Jn-=(Y*(1-J.relative)-J.abs)*Pe,ce&&(Zn-=ue*(1-En)/2*Pe,Jn+=ue*(1-En)/2*Pe),Be&&(Zn-=De*(1-ln)/2*Pe,Jn+=De*(1-ln)/2*Pe)},hv:function(){Yn=ut},vh:function(){Zn=ct}});var wt="";["left","right"].includes(pn)?wt+="h":["bottom","top"].includes(pn)?wt+="v":pn==="middle"&&(wt+="m"),["left","right"].includes(Me)?wt+="h":["bottom","top"].includes(Me)?wt+="v":Me==="middle"&&(wt+="m"),He>Y?wt=wt.replace(/m/g,"h"):wt=wt.replace(/m/g,"v"),Fa[wt](),Yn+=Ke,Zn+=Xe,dt+=je,Jn+=we;var Zo=_.buzzierMinSols(Xn,Yn,dt,ut),Jo=Zo[0],es=Zo[1],ns=_.buzzierMinSols(Qn,Zn,Jn,ct),Ei=ns[0],ts=ns[1];Jo<0&&(Bn+=-Jo),es>He&&(Lt+=es-He),Ei<0&&(Bt+=-Ei),ts>Y&&(Ci+=ts-Y),V==="grid"&&(Bn+=Et,Lt+=Et,Bt+=Et,Ci+=Et),Xn+=Bn,ut+=Bn,Qn+=Bt,ct+=Bt,Yn+=Bn,dt+=Bn,Zn+=Bt,Jn+=Bt;var Ki=He+Bn+Lt,mu=Y+Bt+Ci;Wn-=Bn,nr-=Bt;var Ua=_.bzFunction(Xn,Yn,dt,ut),qa=_.bzFunction(Qn,Zn,Jn,ct),rs={x:Ua(.01),y:qa(.01)},is={x:Ua(.5),y:qa(.5)},as={x:Ua(.99),y:qa(.99)},$a;return V==="grid"?$a="M "+Xn+" "+Qn+" L  "+Yn+" "+Zn+" L "+dt+" "+Jn+" "+ut+" "+ct:V==="smooth"&&($a="M "+Xn+" "+Qn+" C "+Yn+" "+Zn+", "+dt+" "+Jn+", "+ut+" "+ct),{cx0:Wn,cy0:nr,x1:Xn,x2:ut,y1:Qn,y2:ct,cw:Ki,ch:mu,cpx1:Yn,cpy1:Zn,cpx2:dt,cpy2:Jn,dx:rn,dy:Sn,absDx:He,absDy:Y,headOrient:ie,tailOrient:pe,labelStartPos:rs,labelMiddlePos:is,labelEndPos:as,excLeft:Bn,excRight:Lt,excUp:Bt,excDown:Ci,headOffset:Ct,arrowHeadOffset:fu,arrowTailOffset:pu,startPoints:tn,endPoints:Ln,mainDivPos:Vn,xSign:xe,ySign:Pe,lineLength:(T=(L=be.current)===null||L===void 0?void 0:L.getTotalLength())!==null&&T!==void 0?T:0,fHeadSize:ue,fTailSize:De,arrowPath:$a}};h.getPosition=g},"./src/Xarrow/utils/index.ts":function(v,h){Object.defineProperty(h,"__esModule",{value:!0}),h.getSvgPos=h.getElemPos=h.getShortestLine=h.xStr2absRelative=h.factorDpathStr=h.getElementByPropGiven=void 0;var C=function(g){var E;return typeof g=="string"?E=document.getElementById(g):E=g==null?void 0:g.current,E};h.getElementByPropGiven=C;var A=function(g,E){var S=g.split(/(\d+(?:\.\d+)?)/);return S=S.map(function(k){return Number(k)?(Number(k)*E).toString():k}),S.join("")};h.factorDpathStr=A;var w=function(g){if(typeof g!="string")return{abs:0,relative:.5};var E=g.split("%"),S=0,k=0;if(E.length==1){var I=parseFloat(E[0]);if(!isNaN(I))return S=I,{abs:S,relative:0}}else if(E.length==2){var L=[parseFloat(E[0]),parseFloat(E[1])],T=L[0],q=L[1];if(isNaN(T)||(k=T/100),isNaN(q)||(S=q),!isNaN(T)||!isNaN(q))return{abs:S,relative:k}}};h.xStr2absRelative=w;var N=function(g,E){return Math.sqrt(Math.pow(g.x-E.x,2)+Math.pow(g.y-E.y,2))},j=function(g,E){var S=1/0,k=1/0,I;return g.forEach(function(L){E.forEach(function(T){k=N(L,T),k<S&&(S=k,I={chosenStart:L,chosenEnd:T})})}),I};h.getShortestLine=j;var D=function(g){if(!g)return{x:0,y:0,right:0,bottom:0};var E=g.getBoundingClientRect();return{x:E.left,y:E.top,right:E.right,bottom:E.bottom}};h.getElemPos=D;var _=function(g){if(!g.current)return{x:0,y:0};var E=g.current.getBoundingClientRect(),S=E.left,k=E.top,I=getComputedStyle(g.current),L=Number(I.left.slice(0,-2)),T=Number(I.top.slice(0,-2));return{x:S-L,y:k-T}};h.getSvgPos=_},"./src/Xwrapper.tsx":function(v,h,C){var A=this&&this.__createBinding||(Object.create?function(k,I,L,T){T===void 0&&(T=L),Object.defineProperty(k,T,{enumerable:!0,get:function(){return I[L]}})}:function(k,I,L,T){T===void 0&&(T=L),k[T]=I[L]}),w=this&&this.__setModuleDefault||(Object.create?function(k,I){Object.defineProperty(k,"default",{enumerable:!0,value:I})}:function(k,I){k.default=I}),N=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var I={};if(k!=null)for(var L in k)L!=="default"&&Object.prototype.hasOwnProperty.call(k,L)&&A(I,k,L);return w(I,k),I};Object.defineProperty(h,"__esModule",{value:!0}),h.XarrowContext=h.XelemContext=void 0;var j=N(C("react"));h.XelemContext=j.default.createContext(null),h.XarrowContext=j.default.createContext(null);var D={},_=0,g=function(k){var I=k.children,L=k.instanceCount,T=j.useState({}),q=T[1],U=function(){return q({})};return j.useEffect(function(){L.current=_,D[L.current]=U},[]),j.default.createElement(h.XarrowContext.Provider,{value:U},I)},E=function(k){var I=k.children,L=k.instanceCount;return j.default.createElement(h.XelemContext.Provider,{value:D[L.current]},I)},S=function(k){var I=k.children,L=j.useRef(_),T=j.useState({}),q=T[1];return j.useEffect(function(){return _++,q({}),function(){delete D[L.current]}},[]),j.default.createElement(E,{instanceCount:L},j.default.createElement(g,{instanceCount:L},I))};h.default=S},"./src/constants.tsx":function(v,h,C){var A=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(h,"__esModule",{value:!0}),h.cArrowShapes=h.arrowShapes=h.cSvgElems=h.cPaths=h.cAnchorEdge=void 0;var w=A(C("react"));h.cAnchorEdge=["middle","left","right","top","bottom","auto"],h.cPaths=["smooth","grid","straight"],h.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],h.arrowShapes={arrow1:{svgElem:w.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:w.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:w.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},h.cArrowShapes=Object.keys(h.arrowShapes)},"./src/index.tsx":function(v,h,C){var A=this&&this.__createBinding||(Object.create?function(g,E,S,k){k===void 0&&(k=S),Object.defineProperty(g,k,{enumerable:!0,get:function(){return E[S]}})}:function(g,E,S,k){k===void 0&&(k=S),g[k]=E[S]}),w=this&&this.__exportStar||function(g,E){for(var S in g)S!=="default"&&!Object.prototype.hasOwnProperty.call(E,S)&&A(E,g,S)},N=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(h,"__esModule",{value:!0}),h.useXarrow=h.Xwrapper=h.default=void 0;var j=C("./src/Xarrow/Xarrow.tsx");Object.defineProperty(h,"default",{enumerable:!0,get:function(){return N(j).default}}),w(C("./src/types.ts"),h),w(C("./src/constants.tsx"),h);var D=C("./src/Xwrapper.tsx");Object.defineProperty(h,"Xwrapper",{enumerable:!0,get:function(){return N(D).default}});var _=C("./src/useXarrow.tsx");Object.defineProperty(h,"useXarrow",{enumerable:!0,get:function(){return N(_).default}})},"./src/types.ts":function(v,h){Object.defineProperty(h,"__esModule",{value:!0})},"./src/useXarrow.tsx":function(v,h,C){Object.defineProperty(h,"__esModule",{value:!0});var A=C("react"),w=C("./src/Xwrapper.tsx"),N=function(){var j=A.useState({}),D=j[1],_=function(){return D({})},g=A.useContext(w.XelemContext);return g||(g=function(){}),A.useLayoutEffect(function(){g()}),_};h.default=N},lodash:function(v){v.exports=a},"prop-types":function(v){v.exports=o},react:function(v){v.exports=r}},c={};function f(v){var h=c[v];if(h!==void 0)return h.exports;var C=c[v]={id:v,loaded:!1,exports:{}};return u[v].call(C.exports,C,C.exports,f),C.loaded=!0,C.exports}f.c=c,function(){f.d=function(v,h){for(var C in h)f.o(h,C)&&!f.o(v,C)&&Object.defineProperty(v,C,{enumerable:!0,get:h[C]})}}(),function(){f.o=function(v,h){return Object.prototype.hasOwnProperty.call(v,h)}}(),function(){f.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})}}(),function(){f.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var p=f(f.s="./src/index.tsx");return p}()})})(Xv);var Qv=Xv.exports;const qA=Xd(Qv);const $A=({gameState:e,onResearchUpgrade:n,onClose:r})=>{const{techCenter:a,workshop:{drones:o},resources:u}=e,{unlocked:c,researchPoints:f,upgrades:p}=a,[v,h]=K.useState(!1),C=.1*(1+(p.researchEfficiency||0)*.2),w=Object.values(o).reduce((S,k)=>S+k,0)*.01*(1+(p.advancedAnalysis||0)*.1),j=Math.max(0,u.energyProduction-u.energyConsumption)*.005*(1+(p.algorithmOptimization||0)*.15),D=(C+w+j)/(1-(p.quantumComputing||0)*.05),_=[{id:"collectionEfficiency",tier:1,category:"Drones",title:"Recoleccin Mejorada",description:"Aumenta la chatarra recolectada por los drones.",effect:S=>`+${S*10}% Prod. Chatarra`,cost:100,maxLevel:5,requirements:[]},{id:"powerOptimization",tier:1,category:"Energia",title:"Optimizacin Energtica",description:"Reduce el consumo de energa de los drones.",effect:S=>`-${S*5}% Consumo Energa`,cost:120,maxLevel:5,requirements:[]},{id:"researchEfficiency",tier:1,category:"Investigacion",title:"Protocolos de Datos",description:"Aumenta la generacin base de RP.",effect:S=>`+${S*20}% RP Base`,cost:150,maxLevel:5,requirements:[]},{id:"storageOptimization",tier:1,category:"Almacenamiento",title:"Logstica Mejorada",description:"Aumenta la capacidad de almacenamiento de chatarra.",effect:S=>`+${S*15}% Cap. Chatarra`,cost:80,maxLevel:5,requirements:[]},{id:"foundryProtocols",tier:1,category:"Fundicion",title:"Protocolos de Fundicin",description:"Desbloquea la Fundicin para crear Metal Refinado.",effect:()=>"Desbloquea la Fundicin",cost:50,maxLevel:1,requirements:[]},{id:"droneAssembly",tier:2,category:"Drones",title:"Lnea de Ensamblaje",description:"Acelera la construccin de todo tipo de drones.",effect:S=>`-${S*5}% Tiempo Constr.`,cost:150,maxLevel:5,requirements:["collectionEfficiency"]},{id:"reassignProtocols",tier:2,category:"Drones",title:"Protocolos de Reasignacin",description:"Desbloquea la capacidad de desmantelar drones.",effect:()=>"Desbloquea Desmantelamiento",cost:300,maxLevel:1,requirements:["collectionEfficiency"]},{id:"energyCalibration",tier:2,category:"Energia",title:"Calibracin de Componentes",description:"Acelera la construccin de unidades de energa.",effect:S=>`-${S*5}% Tiempo Constr.`,cost:180,maxLevel:5,requirements:["powerOptimization"]},{id:"batteryTech",tier:2,category:"Energia",title:"Tecnologa de Bateras",description:"Aumenta la capacidad mxima de energa.",effect:S=>`+${S*15}% Cap. Energa`,cost:300,maxLevel:5,requirements:["powerOptimization"]},{id:"advancedAnalysis",tier:2,category:"Investigacion",title:"Anlisis de Flota",description:"Los drones generan ms RP.",effect:S=>`+${S*10}% RP por Dron`,cost:300,maxLevel:4,requirements:["researchEfficiency"]},{id:"quantumComputing",tier:2,category:"Investigacion",title:"Computacin Cuntica",description:"Reduce el coste de todas las investigaciones.",effect:S=>`-${S*5}% Coste Investigacin`,cost:1500,maxLevel:3,requirements:["researchEfficiency"]},{id:"storageConstruction",tier:2,category:"Almacenamiento",title:"Logstica Eficiente",description:"Acelera la construccin de unidades de almacenamiento.",effect:S=>`-${S*5}% Tiempo Constr.`,cost:130,maxLevel:5,requirements:["storageOptimization"]},{id:"metalSmeltingSpeed",tier:2,category:"Fundicion",title:"Fundicin Eficiente",description:"Reduce el tiempo de crafteo del Metal Refinado.",effect:S=>`-${S*5}% Tiempo Crafteo`,cost:200,maxLevel:5,requirements:["foundryProtocols"]},{id:"smeltingEfficiency",tier:2,category:"Fundicion",title:"Eficiencia de Costes I",description:"Reduce el coste de chatarra para crear Metal Refinado.",effect:S=>`-${S*5}% Coste Chatarra`,cost:400,maxLevel:4,requirements:["foundryProtocols"]},{id:"reinforcedBasicDrones",tier:3,category:"Drones",title:"Drones Reforzados I",description:"Desbloquea drones bsicos reforzados.",effect:()=>"Desbloquea DBR-F",cost:250,maxLevel:1,requirements:["droneAssembly"]},{id:"geologicalScanners",tier:3,category:"Drones",title:"Scanners Geolgicos",description:"Los drones tienen una pequea probabilidad de encontrar recursos raros.",effect:S=>`+${S*.01}% Prob.`,cost:3e3,maxLevel:5,requirements:["reassignProtocols"]},{id:"energyEfficiency",tier:3,category:"Energia",title:"Eficiencia de Paneles",description:"Aumenta la produccin de los paneles solares.",effect:S=>`+${S*10}% Prod. Paneles`,cost:200,maxLevel:4,requirements:["energyCalibration"]},{id:"energyStorage",tier:3,category:"Almacenamiento",title:"Almacenamiento Energtico",description:"Aumenta la capacidad de las bateras.",effect:S=>`+${S*10}% Bono Bateras`,cost:350,maxLevel:4,requirements:["batteryTech","storageConstruction"]},{id:"algorithmOptimization",tier:3,category:"Investigacion",title:"Algoritmos Predictivos",description:"La energa sobrante genera ms RP.",effect:S=>`+${S*15}% RP por Energa Excedente`,cost:450,maxLevel:4,requirements:["advancedAnalysis"]},{id:"cargoDrones",tier:3,category:"Almacenamiento",title:"Drones de Carga",description:"Aumenta la capacidad de las unidades de almacenamiento.",effect:S=>`+${S*10}% Bono Almacenamiento`,cost:220,maxLevel:4,requirements:["storageConstruction"]},{id:"steelProductionSpeed",tier:3,category:"Fundicion",title:"Produccin de Acero",description:"Reduce el tiempo de crafteo del Acero Estructural.",effect:S=>`-${S*5}% Tiempo Crafteo`,cost:400,maxLevel:5,requirements:["metalSmeltingSpeed"]},{id:"foundryEnergy",tier:3,category:"Fundicion",title:"Eficiencia de Costes II",description:"Reduce el coste de energa para crear Metal Refinado.",effect:S=>`-${S*5}% Coste Energa`,cost:400,maxLevel:4,requirements:["smeltingEfficiency"]},{id:"reinforcedMediumDrones",tier:4,category:"Drones",title:"Drones Reforzados II",description:"Desbloquea drones medios reforzados.",effect:()=>"Desbloquea DMR-F",cost:500,maxLevel:1,requirements:["reinforcedBasicDrones"]},{id:"powerGrid",tier:4,category:"Energia",title:"Red Elctrica Mejorada",description:"Aumenta la produccin de todas las fuentes de energa.",effect:S=>`+${S*5}% Prod. Global`,cost:400,maxLevel:5,requirements:["energyEfficiency"]},{id:"constructionEfficiency",tier:4,category:"Investigacion",title:"Eficiencia de Construccin",description:"Reduce el tiempo de construccin de todas las unidades.",effect:S=>`-${S*5}% Tiempo de Construccin`,cost:600,maxLevel:5,requirements:["algorithmOptimization","quantumComputing"]},{id:"hullPlateProduction",tier:4,category:"Fundicion",title:"Produccin de Placas",description:"Reduce el tiempo de crafteo de las Placas de Casco.",effect:S=>`-${S*5}% Tiempo Crafteo`,cost:600,maxLevel:5,requirements:["steelProductionSpeed"]},{id:"reinforcedAdvancedDrones",tier:5,category:"Drones",title:"Drones Reforzados III",description:"Desbloquea drones avanzados reforzados.",effect:()=>"Desbloquea DAR-F",cost:1e3,maxLevel:1,requirements:["reinforcedMediumDrones"]},{id:"coreEfficiency",tier:5,category:"Energia",title:"Eficiencia de Ncleos",description:"Aumenta la produccin de los Ncleos Energticos.",effect:S=>`+${S*10}% Prod. Ncleos`,cost:800,maxLevel:3,requirements:["powerGrid"]},{id:"wiringProduction",tier:5,category:"Fundicion",title:"Cableado Avanzado",description:"Reduce el tiempo de crafteo del Cableado Superconductor.",effect:S=>`-${S*5}% Tiempo Crafteo`,cost:800,maxLevel:5,requirements:["hullPlateProduction"]},{id:"matterCompression",tier:5,category:"Almacenamiento",title:"Compresin de Materia",description:"Reduce el coste de construccin de unidades de almacenamiento.",effect:S=>`-${S*5}% Coste Almacenamiento`,cost:1200,maxLevel:3,requirements:["energyStorage"]},{id:"golemChassis",tier:6,category:"Drones",title:"Chasis Golem",description:"Desbloquea los poderosos Drones Golem.",effect:()=>"Desbloquea DG-1",cost:2500,maxLevel:1,requirements:["reinforcedAdvancedDrones"]},{id:"fuelRodProduction",tier:6,category:"Fundicion",title:"Sntesis de Combustible",description:"Reduce el tiempo de crafteo de las Barras de Combustible.",effect:S=>`-${S*5}% Tiempo Crafteo`,cost:1e3,maxLevel:5,requirements:["wiringProduction"]},{id:"swarmAI",tier:7,category:"Drones",title:"IA de Enjambre",description:"Por cada 50 drones, +1% a la produccin global de chatarra (mx 10%).",effect:S=>`Actualmente: +${S}%`,cost:5e3,maxLevel:10,requirements:["golemChassis"]},{id:"fusionTech",tier:7,category:"Energia",title:"Reactores de Fusin",description:"Desbloquea el Reactor de Fusin.",effect:()=>"Desbloquea Reactor",cost:5e3,maxLevel:1,requirements:["coreEfficiency"]},{id:"globalEfficiency",category:"Investigacion",title:"Eficiencia Global (Infinita)",description:"Aumenta permanentemente toda la produccin de chatarra.",effect:S=>`+${S}% Prod. Chatarra`,cost:1e4,maxLevel:1/0,requirements:[],isInfinite:!0},{id:"poweredFabricators",tier:8,category:"Energia",title:"Fabricadores Potenciados",description:"Si la energa est por encima del 90%, la construccin y crafteo es un 10% ms rpida.",effect:S=>`+${S*10}% Velocidad (Bono)`,cost:2e3,maxLevel:3,requirements:["fusionTech"]}],g=["Drones","Energia","Investigacion","Almacenamiento","Fundicion"],E=S=>S.requirements.length===0?!0:S.requirements.every(k=>{const I=_.find(T=>T.id===k);return I?p[k]>=I.maxLevel:!1});return c?s.jsxs("div",{className:"tech-center-container",children:[s.jsxs("div",{className:"tech-center-header",children:[s.jsx("h2",{children:"LABORATORIO"}),s.jsx("button",{onClick:r,className:"close-button",children:"Cerrar"})]}),s.jsxs("div",{className:"research-points-summary",children:[s.jsxs("h3",{onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[s.jsxs("span",{children:[" Puntos de Investigacin: ",B(f)]}),s.jsx("span",{className:"info-icon",children:""})]}),v&&s.jsx(HA,{base:C,fromDrones:w,fromEnergy:j,total:D,quantumComputingLevel:p.quantumComputing||0})]}),s.jsx("div",{className:"tech-tree-scroll-container",children:s.jsx("div",{className:"tech-tree-container",children:s.jsxs(Qv.Xwrapper,{children:[g.map(S=>s.jsxs("div",{className:"tech-row",children:[s.jsx("h3",{className:"tech-row-title",children:S.toUpperCase()}),s.jsx("div",{className:"tech-cards-container",children:_.filter(k=>k.category===S).map(k=>s.jsx(VA,{tech:k,researchPoints:f,upgrades:p,onResearchUpgrade:n,isAvailable:E(k)},k.id))})]},S)),_.map(S=>S.requirements.map(k=>s.jsx(qA,{start:k,end:S.id,strokeWidth:2,color:"#4B5563",path:"smooth",startAnchor:"right",endAnchor:"left",dashness:!0,headSize:0,zIndex:-1},`${k}-${S.id}`)))]})})})]}):s.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[s.jsx("h2",{children:"LABORATORIO"}),s.jsx("button",{onClick:r,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),s.jsxs("div",{style:{padding:"2rem",backgroundColor:"#1F2737",borderRadius:"4px",textAlign:"center",border:"2px solid #F59E0B"},children:[s.jsx("h3",{style:{color:"#F59E0B"},children:" LABORATORIO BLOQUEADO"}),s.jsx("p",{children:"Para desbloquear el Laboratorio, necesitas:"}),s.jsxs("ul",{style:{textAlign:"left",display:"inline-block",margin:"1rem 0"},children:[s.jsx("li",{children:" 3 Drones Medios"}),s.jsx("li",{children:" 1 Generador Solar Avanzado"}),s.jsx("li",{children:" 1000 Chatarra"})]})]})]})},HA=({base:e,fromDrones:n,fromEnergy:r,total:a,quantumComputingLevel:o})=>s.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#111827",border:"1px solid #374151",borderRadius:"8px",padding:"1rem",width:"300px",textAlign:"left",fontSize:"0.9rem",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",zIndex:10},children:[s.jsx("h4",{style:{margin:0,color:"#06B6D4"},children:"Generacin de Investigacin"}),s.jsx("hr",{style:{borderColor:"#374151",margin:"0.5rem 0"}}),s.jsxs("p",{style:{margin:"0.5rem 0"},children:["Tasa Base: ",s.jsxs("strong",{children:["+",e.toFixed(2)," /s"]})]}),s.jsxs("p",{style:{margin:"0.5rem 0"},children:["Anlisis de Drones: ",s.jsxs("strong",{children:["+",n.toFixed(2)," /s"]})]}),s.jsxs("p",{style:{margin:"0.5rem 0"},children:["Supervit Energtico: ",s.jsxs("strong",{children:["+",r.toFixed(2)," /s"]})]}),o>0&&s.jsxs("p",{style:{margin:"0.5rem 0",color:"#22C55E"},children:["Multiplicador Cuntico: ",s.jsxs("strong",{children:["x",(1/(1-o*.05)).toFixed(2)]})]}),s.jsx("hr",{style:{borderColor:"#374151",margin:"0.5rem 0"}}),s.jsxs("p",{style:{margin:"0.5rem 0",fontWeight:"bold"},children:["Total: ",s.jsxs("strong",{children:["+",a.toFixed(2)," /s"]})]})]}),VA=({tech:e,researchPoints:n,upgrades:r,onResearchUpgrade:a,isAvailable:o})=>{const u=r[e.id]||0,c=o&&n>=e.cost&&u<e.maxLevel,f=typeof e.effect=="function"?e.effect(u):e.effect,p=`tech-card ${o?c?"available":u>0?"researched":"":"locked"}`;return s.jsxs("div",{id:e.id,className:p,children:[s.jsx("h4",{children:e.title}),s.jsx("p",{className:"tech-card-description",children:e.description}),s.jsx("p",{className:"tech-card-effect",children:f}),s.jsxs("div",{className:"tech-card-footer",children:[s.jsxs("span",{children:["Nivel: ",u,"/",e.maxLevel]}),s.jsxs("button",{onClick:()=>a(e.id,e.cost),disabled:!c,className:`research-button ${c?"can-research":""}`,children:[u>0?"Mejorar":"Investigar"," (",e.cost," RP)"]})]})]})},WA=mr.memo($A);const GA="/Mekadron-idle/assets/refined-metal-icon-0d54587c.png",KA="/Mekadron-idle/assets/structural-steel-icon-5ae8597a.png",XA="/Mekadron-idle/assets/hull-plate-icon-454c928b.png",QA="/Mekadron-idle/assets/superconductor-wiring-icon-994ea02c.png",YA="/Mekadron-idle/assets/fuel-rod-icon-bad289dd.png",ZA=mr.memo(({scrap:e,energy:n,metalRefinado:r,aceroEstructural:a,fragmentosPlaca:o,circuitosDaados:u,placasCasco:c,cableadoSuperconductor:f,barraCombustible:p,metalRefinadoQueue:v,aceroEstructuralQueue:h,placasCascoQueue:C,cableadoSuperconductorQueue:A,barraCombustibleQueue:w,onCraftRefinedMetal:N,onCraftStructuralSteel:j,onCraftHullPlate:D,onCraftSuperconductorWiring:_,onCraftFuelRod:g,onCraftPurifiedMetal:E,upgrades:S,buyAmount:k,onSetBuyAmount:I,onClose:L,onCancel:T})=>{const q={scrap:1e3,energy:100},U={scrap:1e3,metal:10,energy:250},Z={fragmentos:10,acero:5,energy:500},te={circuitos:10,metal:25,energy:1e3},oe={metal:10,acero:5,energy:1500},ce={scrap:5e3,energy:500},fe=Math.min(Math.floor(e/q.scrap),Math.floor(n/q.energy)),Be=Math.min(Math.floor(e/U.scrap),Math.floor(r/U.metal),Math.floor(n/U.energy)),ke=Math.min(Math.floor(o/Z.fragmentos),Math.floor(a/Z.acero),Math.floor(n/Z.energy)),V=Math.min(Math.floor(u/te.circuitos),Math.floor(r/te.metal),Math.floor(n/te.energy)),Q=Math.min(Math.floor(r/oe.metal),Math.floor(a/oe.acero),Math.floor(n/oe.energy)),J=Math.min(Math.floor(e/ce.scrap),Math.floor(n/ce.energy));return s.jsxs("div",{className:"foundry-view-container",children:[s.jsxs("div",{className:"foundry-view-header",children:[s.jsx("h2",{children:"FUNDICIN"}),s.jsx("button",{onClick:L,className:"close-button",children:"Cerrar"})]}),s.jsx(du,{buyAmount:k,onSetBuyAmount:I}),s.jsxs("div",{className:`foundry-item ${fe>0?"available":""}`,children:[s.jsxs("div",{className:"foundry-item-content",children:[s.jsx("h4",{style:{color:"#F59E0B"},children:"Metal Refinado"}),s.jsxs("p",{children:["Coste: ",B(q.scrap)," Chatarra + ",B(q.energy)," Energa"]}),s.jsxs("p",{children:["En Posesin: ",B(r)]}),s.jsx(hn,{queue:v,itemName:"metalRefinado",onCancel:T}),s.jsxs("button",{onClick:N,disabled:fe<=0,className:`craft-button ${fe>0?"available":""}`,children:["Encargar ",k==="max"&&`(${fe})`]})]}),s.jsx("img",{src:GA,alt:"Metal Refinado",className:"foundry-item-image"})]}),s.jsxs("div",{className:`foundry-item ${Be>0?"available":""}`,children:[s.jsxs("div",{className:"foundry-item-content",children:[s.jsx("h4",{style:{color:"#06B6D4"},children:"Acero Estructural"}),s.jsxs("p",{children:["Coste: ",B(U.scrap)," Chatarra + ",U.metal," Metal + ",U.energy," Energa"]}),s.jsxs("p",{children:["En Posesin: ",B(a)]}),s.jsx(hn,{queue:h,itemName:"aceroEstructural",onCancel:T}),s.jsxs("button",{onClick:j,disabled:Be<=0,className:`craft-button ${Be>0?"available":""}`,children:["Encargar ",k==="max"&&`(${Be})`]})]}),s.jsx("img",{src:KA,alt:"Acero Estructural",className:"foundry-item-image"})]}),s.jsx("h3",{className:"section-title",children:"Componentes de Nave"}),s.jsxs("div",{className:`foundry-item ${ke>0?"available":""}`,children:[s.jsxs("div",{className:"foundry-item-content",children:[s.jsx("h4",{style:{color:"#F59E0B"},children:"Placa de Casco Reforzado"}),s.jsxs("p",{children:["Coste: ",Z.fragmentos," Fragmentos + ",Z.acero," Acero + ",Z.energy," Energa"]}),s.jsxs("p",{children:["En Posesin: ",B(c)]}),s.jsx(hn,{queue:C,itemName:"placasCasco",onCancel:T}),s.jsxs("button",{onClick:D,disabled:ke<=0,className:`craft-button ${ke>0?"available":""}`,children:["Encargar ",k==="max"&&`(${ke})`]})]}),s.jsx("img",{src:XA,alt:"Placa de Casco",className:"foundry-item-image"})]}),s.jsxs("div",{className:`foundry-item ${V>0?"available":""}`,children:[s.jsxs("div",{className:"foundry-item-content",children:[s.jsx("h4",{style:{color:"#06B6D4"},children:"Cableado de Superconductores"}),s.jsxs("p",{children:["Coste: ",te.circuitos," Circuitos + ",te.metal," Metal + ",te.energy," Energa"]}),s.jsxs("p",{children:["En Posesin: ",B(f)]}),s.jsx(hn,{queue:A,itemName:"cableadoSuperconductor",onCancel:T}),s.jsxs("button",{onClick:_,disabled:V<=0,className:`craft-button ${V>0?"available":""}`,children:["Encargar ",k==="max"&&`(${V})`]})]}),s.jsx("img",{src:QA,alt:"Cableado",className:"foundry-item-image"})]}),s.jsxs("div",{className:`foundry-item ${Q>0?"available":""}`,children:[s.jsxs("div",{className:"foundry-item-content",children:[s.jsx("h4",{style:{color:"#FCD34D"},children:"Barra de Combustible"}),s.jsxs("p",{children:["Coste: ",oe.metal," Metal + ",oe.acero," Acero + ",oe.energy," Energa"]}),s.jsxs("p",{children:["En Posesin: ",B(p)]}),s.jsx(hn,{queue:w,itemName:"barraCombustible",onCancel:T}),s.jsxs("button",{onClick:g,disabled:Q<=0,className:`craft-button ${Q>0?"available":""}`,children:["Encargar ",k==="max"&&`(${Q})`]})]}),s.jsx("img",{src:YA,alt:"Barra de Combustible",className:"foundry-item-image"})]}),S.scrapPurification>0&&s.jsx("div",{className:`crafting-item ${J>0?"available":""}`,style:{borderColor:J>0?"#A855F7":""},children:s.jsxs("div",{className:"crafting-item-content full-width",children:[s.jsxs("div",{className:"crafting-item-info",children:[s.jsx("h4",{style:{color:"#A855F7"},children:"Purificacin de Chatarra"}),s.jsx("p",{children:"Convierte una gran cantidad de recursos bsicos en Metal Refinado. Es ineficiente, pero til en emergencias."}),s.jsxs("p",{children:[" Coste: ",B(ce.scrap)," Chatarra + ",B(ce.energy)," Energa"]})]}),s.jsxs("button",{onClick:E,disabled:J<=0,className:`craft-button ${J>0?"available":""}`,style:{backgroundColor:J>0?"#A855F7":"",color:J>0?"white":""},children:["Purificar Chatarra ",k==="max"&&`(${J})`]})]})})]})});const JA=({shipyard:e,vindicator:n,resources:r,researchPoints:a,blueprints:o,dispatch:u,onClose:c})=>{const f=wa[e.currentProjectIndex],p={...r,researchPoints:a,blueprints:o},v={scrap:"Chatarra",metalRefinado:"Metal Refinado",aceroEstructural:"Acero Estructural",placasCasco:"Placas de Casco",cableadoSuperconductor:"Cableado de Superconductores",nucleoSingularidad:"Ncleo de Singularidad",researchPoints:"Puntos de Investigacin",aleacionReforzada:"Aleacin Reforzada",neuroChipCorrupto:"Neuro-Chip Corrupto",blueprints:"Planos"},h={hull:"Estructura del Casco",powerCore:"Ncleo de Energa",targetingSystem:"Sistemas de Puntera",warpDrive:"Motor de Curvatura",chasisReforzado:"Chasis Reforzado",nucleoSingularidad:"Ncleo de Singularidad Avanzado",sistemaArmamento:'Sistema de Armamento "Devastator"',ensamblajeFinal:"Ensamblaje Final"},C=(N,j)=>{u({type:"DONATE_TO_SHIPYARD",payload:{component:N,resource:j,amount:1}})},A=(N,j)=>{const D=p[j]||0;D>0&&u({type:"DONATE_TO_SHIPYARD",payload:{component:N,resource:j,amount:D}})},w=(N,j)=>{const D=e.progress[N]||{},_=Object.keys(j).every(E=>(D[E]||0)>=j[E]),g=h[N]||N.replace(/([A-Z])/g," $1").replace(/^./,E=>E.toUpperCase());return s.jsxs("div",{className:`component-progress ${_?"completed":""}`,children:[s.jsxs("h3",{className:"component-title",children:[g," ",_&&""]}),Object.keys(j).map(E=>{const S=j[E],k=D[E]||0,I=p[E]||0,L=v[E]||E;return s.jsxs("div",{className:"resource-progress",children:[s.jsxs("p",{children:[L,": ",B(k)," / ",B(S)]}),s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar",style:{width:`${Math.min(k/S*100,100)}%`}})}),!_&&s.jsxs("div",{className:"donation-buttons",children:[s.jsx("button",{onClick:()=>C(N,E),disabled:I<1,className:"donate-button",children:"Donar 1"}),s.jsxs("button",{onClick:()=>A(N,E),disabled:I<=0,className:"donate-max-button",children:["Donar MAX (",B(I),")"]})]})]},E)})]},N)};return s.jsx("div",{className:"shipyard-view-container",children:n.vindicatorType==="mk1"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"shipyard-view-header",children:[s.jsx("h2",{children:"ESTADO DEL VINDICATOR"}),s.jsx("button",{onClick:c,className:"close-button",children:"Cerrar"})]}),s.jsxs("div",{className:"shipyard-intro",children:[s.jsx("h3",{children:'VINDICATOR MK.I "ACORAZADO"'}),s.jsx("p",{children:'Aurora: "El nuevo chasis est operativo. Todos los sistemas de combate han sido mejorados a un nuevo estndar. La antigua armera ya no es compatible; he preparado un nuevo sistema de mdulos de especializacin."'})]}),s.jsxs("div",{className:"mk1-stats-panel",children:[s.jsx("h4",{children:"Estadsticas Base:"}),s.jsxs("p",{children:["Vida del Casco: ",B(n.maxHealth)]}),s.jsxs("p",{children:["Escudo de Energa: ",B(n.maxShield)]}),s.jsxs("p",{children:["Potencia de Fuego: ",B(n.damage)]}),s.jsxs("p",{children:["Habilidad Pasiva: ",s.jsx("strong",{children:"Sobrecarga Reactiva"})]})]}),s.jsxs("div",{className:"mk1-actions",children:[s.jsx("button",{className:"mk1-action-button",onClick:()=>{u({type:"GO_TO_PHASE_2_VIEW",payload:"armory"})},children:"Ir a la Armera MK.I"}),s.jsx("button",{className:"mk1-action-button",onClick:()=>{u({type:"GO_TO_PHASE_2_VIEW",payload:"battleRoom"})},children:"Ir a la Sala de Batalla"})]})]}):f?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"shipyard-view-header",children:[s.jsxs("h2",{children:['ASTILLERO - PROYECTO "',f.name.toUpperCase(),'"']}),s.jsx("button",{onClick:c,className:"close-button",children:"Cerrar"})]}),s.jsx("div",{className:"shipyard-intro",children:s.jsx("p",{children:f.id==="vindicator_base"?`Aurora: "Reconstruir el 'Vindicator' es nuestra nica opcin. Necesitaremos los materiales avanzados de las expediciones para ensamblar los componentes principales."`:'Aurora: "Es hora de mejorar el Vindicator a la versin Mk.I. Necesitaremos los materiales que hemos conseguido en nuestras batallas para reforzarlo."'})}),Object.entries(f.costs).map(([N,j])=>w(N,j))]}):s.jsxs("div",{className:"shipyard-view-container",children:[s.jsxs("div",{className:"shipyard-view-header",children:[s.jsx("h2",{children:"ASTILLERO"}),s.jsx("button",{onClick:c,className:"close-button",children:"Cerrar"})]}),s.jsx("div",{className:"shipyard-intro",children:s.jsx("p",{children:"Todos los proyectos del astillero han sido completados!"})})]})})},e2=mr.memo(JA);const n2=({completionTimestamp:e})=>{const[n,r]=K.useState(e-Date.now());K.useEffect(()=>{const u=setInterval(()=>{r(c=>Math.max(0,c-1e3))},1e3);return()=>clearInterval(u)},[]);const a=Math.floor(n/6e4),o=Math.floor(n%6e4/1e3);return s.jsxs("span",{children:[a,"m ",o,"s"]})},Rg={scrap:{name:"Chatarra",icon:""},metalRefinado:{name:"Metal Refinado",icon:""},aceroEstructural:{name:"Acero Estructural",icon:""},fragmentosPlaca:{name:"Fragmentos de Placa",icon:""},circuitosDaados:{name:"Circuitos Daados",icon:""},aleacionReforzada:{name:"Aleacin Reforzada",icon:""},neuroChipCorrupto:{name:"Neuro-Chip Corrupto",icon:""}},t2=mr.memo(({resources:e,drones:n,activeExpeditions:r,onStartExpedition:a,onClaimReward:o,onClose:u})=>{const c={expeditionDrone:r.filter(p=>{var v;return((v=Bi.find(h=>h.id===p.id))==null?void 0:v.droneType)==="expeditionDrone"}).reduce((p,v)=>p+v.dronesSent,0),expeditionV2Drone:r.filter(p=>{var v;return((v=Bi.find(h=>h.id===p.id))==null?void 0:v.droneType)==="expeditionV2Drone"}).reduce((p,v)=>p+v.dronesSent,0)},f={expeditionDrone:n.expeditionDrone-c.expeditionDrone,expeditionV2Drone:n.expeditionV2Drone-c.expeditionV2Drone};return s.jsxs("div",{className:"expedition-view-container",children:[s.jsxs("div",{className:"expedition-view-header",children:[s.jsx("h2",{children:"MDULO DE EXPEDICIONES"}),s.jsx("button",{onClick:u,className:"close-button",children:"Cerrar"})]}),s.jsxs("div",{className:"fleet-status",children:[s.jsx("h3",{children:"Estado de la Flota de Expedicin"}),s.jsxs("p",{children:["Drones de Expedicin (DE-1) Disponibles: ",s.jsx("strong",{style:{color:"#22C55E"},children:f.expeditionDrone})," / ",n.expeditionDrone]}),s.jsxs("p",{children:["Drones de Expedicin (DE-2) Disponibles: ",s.jsx("strong",{style:{color:"#10B981"},children:f.expeditionV2Drone})," / ",n.expeditionV2Drone]})]}),r.length>0&&s.jsxs("div",{className:"active-expeditions",children:[s.jsx("h3",{className:"section-title",children:"Expediciones en Curso"}),r.map(p=>{const v=Bi.find(C=>C.id===p.id);if(!v)return null;const h=p.completionTimestamp<=Date.now();return s.jsxs("div",{className:"expedition-item",children:[s.jsx("h4",{children:v.title}),s.jsxs("p",{children:[p.dronesSent," ",v.droneType==="expeditionV2Drone"?"Drones (DE-2)":"Drones (DE-1)"," enviados."]}),h?s.jsxs("div",{children:[s.jsx("p",{style:{color:"#22C55E"},children:"Expedicin Completada!"}),s.jsx("button",{onClick:()=>o(p),className:"claim-button",children:"Reclamar Recompensa"})]}):s.jsxs("p",{children:["Tiempo Restante: ",s.jsx(n2,{completionTimestamp:p.completionTimestamp})]})]},p.id)})]}),s.jsxs("div",{className:"available-expeditions",children:[s.jsx("h3",{className:"section-title",children:"Destinos Disponibles"}),Bi.map(p=>{if(r.some(N=>N.id===p.id))return null;const h=p.droneType,C=p.costs.drones,A=f[h];let w=A>=C;for(const[N,j]of Object.entries(p.costs))if(N!=="drones"&&e[N]<j){w=!1;break}return s.jsxs("div",{className:`expedition-item ${w?"":"unavailable"}`,children:[s.jsx("h4",{children:p.title}),s.jsx("p",{children:p.description}),s.jsxs("p",{children:[s.jsx("strong",{children:"Duracin:"})," ",p.duration/60," minutos"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Requisitos:"}),s.jsxs("ul",{children:[s.jsxs("li",{className:A>=C?"requirement met":"requirement unmet",children:[h==="expeditionV2Drone"?"Drones (DE-2):":"Drones (DE-1):"," ",C]}),Object.entries(p.costs).map(([N,j])=>{if(N==="drones")return null;const D=e[N]>=j,_=Rg[N]||{name:N,icon:""};return s.jsxs("li",{className:D?"requirement met":"requirement unmet",children:[_.icon," ",_.name,": ",B(j)]},N)})]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Posibles Recompensas:"}),s.jsx("ul",{children:Object.entries(p.rewards).map(([N,j])=>{const D=Rg[N];if(!D)return null;const[_,g]=j;return s.jsxs("li",{children:[D.icon," ",D.name,": ",B(_)," - ",B(g)]},N)})})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Riesgo:"})," ",p.risk.chance*100,"% de posibilidad de perder el dron."]}),s.jsxs("button",{onClick:()=>a(p.id),disabled:!w,className:"send-button",children:["Enviar ",C," ",h==="expeditionV2Drone"?"Dron (DE-2)":"Dron (DE-1)"]})]},p.id)})]})]})});const r2="/Mekadron-idle/assets/settings-button-690f2b7a.png",Yv=()=>{const{gameState:e,dispatch:n}=Vr(),[r,a]=K.useState(!1),{volume:o}=e.settings,u=C=>{n({type:"SET_VOLUME",payload:C})},c=()=>{const C=new CustomEvent("debugUnlockTechCenter");window.dispatchEvent(C),a(!1)},f=()=>{if(window.confirm("Ests seguro de que quieres reiniciar todo el progreso? Esta accin no se puede deshacer.")){const C=new CustomEvent("resetGame");window.dispatchEvent(C),a(!1)}},p=()=>{const C=new CustomEvent("debugCompleteVindicator");window.dispatchEvent(C),a(!1)},v=()=>{const C=new CustomEvent("debugFinishExpeditions");window.dispatchEvent(C),a(!1)},h=()=>{n({type:"DEBUG_UNLOCK_VINDICATOR_MK1"}),a(!1)};return s.jsxs("div",{className:"settings-menu-container",children:[r&&s.jsxs("div",{className:"settings-menu-content",children:[s.jsx("strong",{className:"settings-section-title",children:"AJUSTES"}),s.jsxs("div",{className:"volume-control",children:[s.jsxs("label",{htmlFor:"volume-slider",children:["Volumen: ",o,"%"]}),s.jsx("input",{id:"volume-slider",type:"range",min:"0",max:"100",value:o,onChange:C=>u(Number(C.target.value))})]}),s.jsx("button",{onClick:()=>{alert("Crditos: Prximamente..."),a(!1)},className:"settings-button credits-button",children:"Crditos"}),s.jsx("hr",{style:{border:"none",borderBottom:"1px solid #374151",marginBottom:"1rem"}}),s.jsx("strong",{className:"dev-section-title",children:"AJUSTES DE DESARROLLO"}),s.jsx("button",{onClick:c,className:"dev-button",children:"Desbloquear Mdulos"}),s.jsx("button",{onClick:p,className:"dev-button",children:"Completar Vindicator"}),s.jsx("button",{onClick:v,className:"dev-button",children:"Finalizar Expediciones"}),s.jsx("button",{onClick:h,className:"dev-button",children:"Desbloquear Vindicator MK.I"}),s.jsx("button",{onClick:f,className:"dev-button reset-button",children:"Reiniciar Juego"}),s.jsx("button",{onClick:()=>{window.confirm("Ests seguro de que quieres salir del juego?")&&window.close()},className:"dev-button exit-button",children:"Salir"})]}),s.jsx("button",{onClick:()=>a(!r),title:"Ajustes",className:"settings-toggle-button",children:s.jsx("img",{src:r2,alt:"Ajustes"})})]})};const i2=({notification:e,onDismiss:n})=>{const[r,a]=K.useState(!1);K.useEffect(()=>{if(e){a(!0);const u=setTimeout(()=>{o()},6e3);return()=>clearTimeout(u)}else a(!1)},[e]);const o=()=>{a(!1),setTimeout(()=>{n()},300)};return e?s.jsxs("div",{className:`notification-toast ${r?"visible":""}`,onClick:o,children:[s.jsx("h2",{className:"notification-title",children:e.title}),s.jsx("p",{className:"notification-message",children:e.message})]}):null};const a2=()=>{const[e,n]=K.useState([]),r=K.useCallback((a,o)=>{const u={id:Date.now(),text:o,x:a.clientX,y:a.clientY};n(c=>[...c,u])},[]);return K.useEffect(()=>{const a=o=>{r(o.detail.originalEvent,o.detail.text)};return document.addEventListener("showFloatingText",a),()=>{document.removeEventListener("showFloatingText",a)}},[r]),K.useEffect(()=>{const a=setInterval(()=>{n(o=>o.filter(u=>Date.now()-u.id<3e3))},500);return()=>clearInterval(a)},[]),RN.createPortal(s.jsx(s.Fragment,{children:e.map(a=>s.jsx("span",{className:"floating-text",style:{left:a.x,top:a.y},children:a.text},a.id))}),document.body)},o2=()=>{var ln;const e=cu();if(!e||!((ln=e.workshop)!=null&&ln.drones)||!e.techCenter)return s.jsx("div",{children:"Cargando..."});const n=Kv(),r=K.useRef(null);K.useEffect(()=>{r.current&&(r.current.volume=e.settings.volume/100)},[e.settings.volume]),K.useEffect(()=>{const ue=r.current;ue&&ue.play().catch(()=>console.log("La reproduccin automtica fue bloqueada. Se requiere interaccin del usuario."))},[]);const{currentView:a,workshopBuyAmount:o,energyBuyAmount:u,storageBuyAmount:c,foundryBuyAmount:f,modules:p,resources:v,workshop:h,energy:C,techCenter:A,storage:w,activeExpeditions:N,shipyard:j,foundry:D,rates:_,notificationQueue:g,phase2Unlocked:E,currentBackground:S}=e,{drones:k,queues:I}=h,L=K.useCallback(()=>{n({type:"DISMISS_NOTIFICATION"})},[n]),T=K.useCallback(ue=>{n(ue==="goToPhase2"?{type:"GO_TO_PHASE_2"}:{type:"SET_CURRENT_VIEW",payload:ue})},[n]),q=K.useCallback(()=>n({type:"CLOSE_CURRENT_VIEW"}),[n]),U=K.useCallback(()=>n({type:"BUILD_BASIC_DRONE"}),[n]),Z=K.useCallback(()=>n({type:"BUILD_MEDIUM_DRONE"}),[n]),te=K.useCallback(()=>n({type:"BUILD_ADVANCED_DRONE"}),[n]),oe=K.useCallback(()=>n({type:"BUILD_REINFORCED_BASIC"}),[n]),ce=K.useCallback(()=>n({type:"BUILD_REINFORCED_MEDIUM"}),[n]),fe=K.useCallback(()=>n({type:"BUILD_REINFORCED_ADVANCED"}),[n]),Be=K.useCallback(()=>n({type:"BUILD_GOLEM_DRONE"}),[n]),ke=K.useCallback(()=>n({type:"BUILD_EXPEDITION_DRONE"}),[n]),V=K.useCallback(()=>n({type:"BUILD_EXPEDITION_V2_DRONE"}),[n]),Q=K.useCallback(()=>n({type:"BUILD_WYRM"}),[n]),J=K.useCallback(ue=>n({type:"SET_WORKSHOP_BUY_AMOUNT",payload:ue}),[n]),de=K.useCallback((ue,De)=>{n({type:"CANCEL_QUEUE_ITEM",payload:{category:"workshop",itemName:ue,amount:De}})},[n]),ve=K.useCallback((ue,De)=>{n({type:"DISMANTLE_DRONE",payload:{droneType:ue,amount:De}})},[n]),ze=K.useCallback(()=>n({type:"BUILD_SOLAR_PANEL"}),[n]),Ke=K.useCallback(()=>n({type:"BUILD_MEDIUM_SOLAR"}),[n]),Xe=K.useCallback(()=>n({type:"BUILD_ADVANCED_SOLAR"}),[n]),je=K.useCallback(()=>n({type:"BUILD_ENERGY_CORE"}),[n]),we=K.useCallback(()=>n({type:"BUILD_STABILIZED_ENERGY_CORE"}),[n]),z=K.useCallback(()=>n({type:"BUILD_EMPOWERED_ENERGY_CORE"}),[n]),G=K.useCallback(()=>n({type:"BUILD_FUSION_REACTOR"}),[n]),re=K.useCallback(ue=>n({type:"SET_ENERGY_BUY_AMOUNT",payload:ue}),[n]),ne=K.useCallback((ue,De)=>{n({type:"CANCEL_QUEUE_ITEM",payload:{category:"energy",itemName:ue,amount:De}})},[n]),be=K.useCallback(()=>n({type:"BUILD_BASIC_STORAGE"}),[n]),ie=K.useCallback(()=>n({type:"BUILD_MEDIUM_STORAGE"}),[n]),pe=K.useCallback(()=>n({type:"BUILD_ADVANCED_STORAGE"}),[n]),tn=K.useCallback(()=>n({type:"BUILD_QUANTUM_HOARD_UNIT"}),[n]),Ln=K.useCallback(()=>n({type:"BUILD_LITHIUM_ION_BATTERY"}),[n]),Ve=K.useCallback(()=>n({type:"BUILD_PLASMA_ACCUMULATOR"}),[n]),Cn=K.useCallback(()=>n({type:"BUILD_HARMONIC_CONTAINMENT_FIELD"}),[n]),st=K.useCallback(ue=>n({type:"SET_STORAGE_BUY_AMOUNT",payload:ue}),[n]),pn=K.useCallback((ue,De)=>{n({type:"CANCEL_QUEUE_ITEM",payload:{category:"storage",itemName:ue,amount:De}})},[n]),Me=K.useCallback(ue=>n({type:"CLAIM_REWARD",payload:ue}),[n]),We=K.useCallback(()=>n({type:"CLOSE_CURRENT_VIEW"}),[n]),Ze=K.useCallback(ue=>{n({type:"START_EXPEDITION",payload:{expeditionId:ue}})},[n]),Vn=K.useCallback(ue=>{n({type:"CLAIM_EXPEDITION_REWARDS",payload:ue})},[n]),Wn=K.useCallback(()=>n({type:"CRAFT_REFINED_METAL"}),[n]),nr=K.useCallback(()=>n({type:"CRAFT_STRUCTURAL_STEEL"}),[n]),rn=K.useCallback(()=>n({type:"CRAFT_HULL_PLATE"}),[n]),Sn=K.useCallback(()=>n({type:"CRAFT_SUPERCONDUCTOR_WIRING"}),[n]),He=K.useCallback(()=>n({type:"CRAFT_FUEL_ROD"}),[n]),Y=K.useCallback(ue=>n({type:"SET_FOUNDRY_BUY_AMOUNT",payload:ue}),[n]),xe=K.useCallback((ue,De)=>{n({type:"CANCEL_QUEUE_ITEM",payload:{category:"foundry",itemName:ue,amount:De}})},[n]),Pe=K.useCallback(()=>n({type:"CRAFT_PURIFIED_METAL"}),[n]),Gn=()=>new URL(Object.assign({"../assets/images/backgrounds/Phase0-background.png":$N,"../assets/images/backgrounds/Phase1-background.png":HN,"../assets/images/backgrounds/Phase2-background.png":VN,"../assets/images/backgrounds/Phase3-background.png":WN,"../assets/images/backgrounds/Phase4-background.png":GN})[`../assets/images/backgrounds/Phase${S-1}-background.png`],self.location).href,En=()=>{switch(a){case"workshop":return s.jsx(_A,{scrap:v.scrap,metalRefinado:v.metalRefinado,aceroEstructural:v.aceroEstructural,drones:k,queues:I,upgrades:A.upgrades,onBuildBasicDrone:U,onBuildMediumDrone:Z,onBuildAdvancedDrone:te,onBuildReinforcedBasic:oe,onBuildReinforcedMedium:ce,onBuildReinforcedAdvanced:fe,onBuildGolemDrone:Be,onBuildExpeditionDrone:ke,onBuildExpeditionV2Drone:V,onBuildWyrm:Q,onDismantle:ve,buyAmount:o,onSetBuyAmount:J,onClose:q,onCancel:de});case"energy":return s.jsx(RA,{scrap:v.scrap,currentEnergy:v.energy,maxEnergy:v.maxEnergy,energyConsumption:v.energyConsumption,solarPanels:C.solarPanels,mediumSolarPanels:C.mediumSolarPanels,advancedSolar:C.advancedSolar,energyCores:C.energyCores,stabilizedEnergyCores:C.stabilizedEnergyCores,empoweredEnergyCores:C.empoweredEnergyCores,fusionReactors:C.fusionReactor,solarPanelsQueue:C.queues.solarPanels,mediumSolarPanelsQueue:C.queues.mediumSolarPanels,advancedSolarQueue:C.queues.advancedSolar,energyCoresQueue:C.queues.energyCores,stabilizedEnergyCoresQueue:C.queues.stabilizedEnergyCores,empoweredEnergyCoresQueue:C.queues.empoweredEnergyCores,fusionReactorQueue:C.queues.fusionReactor,onBuildSolarPanel:ze,onBuildMediumSolar:Ke,onBuildAdvancedSolar:Xe,onBuildEnergyCore:je,onBuildStabilizedEnergyCore:we,onBuildEmpoweredEnergyCore:z,onBuildFusionReactor:G,buyAmount:u,onSetBuyAmount:re,onClose:q,onCancel:ne,upgrades:A.upgrades,metalRefinado:v.metalRefinado});case"storage":return s.jsx(OA,{scrap:v.scrap,metalRefinado:v.metalRefinado,basicStorage:w.basicStorage,mediumStorage:w.mediumStorage,advancedStorage:w.advancedStorage,quantumHoardUnit:w.quantumHoardUnit,lithiumIonBattery:w.lithiumIonBattery,plasmaAccumulator:w.plasmaAccumulator,harmonicContainmentField:w.harmonicContainmentField,basicStorageQueue:w.queues.basicStorage,mediumStorageQueue:w.queues.mediumStorage,advancedStorageQueue:w.queues.advancedStorage,quantumHoardUnitQueue:w.queues.quantumHoardUnit,lithiumIonBatteryQueue:w.queues.lithiumIonBattery,plasmaAccumulatorQueue:w.queues.plasmaAccumulator,harmonicContainmentFieldQueue:w.queues.harmonicContainmentField,onBuildBasicStorage:be,onBuildMediumStorage:ie,onBuildAdvancedStorage:pe,onBuildQuantumHoardUnit:tn,onBuildLithiumIonBattery:Ln,onBuildPlasmaAccumulator:Ve,onBuildHarmonicContainmentField:Cn,buyAmount:c,onSetBuyAmount:st,onClose:q,onCancel:pn});case"missions":return s.jsx(LA,{activeMissions:e.missions.activeMissions,completedMissions:e.missions.completedMissions,currentScrap:e.resources.scrap,maxScrap:e.resources.maxScrap,currentEnergy:e.resources.energy,maxEnergy:e.resources.maxEnergy,onClaimReward:Me,onClose:We});case"laboratory":return s.jsx(WA,{gameState:e,onResearchUpgrade:(ue,De)=>n({type:"RESEARCH_UPGRADE",payload:{upgradeName:ue,cost:De}}),onClose:()=>n({type:"CLOSE_CURRENT_VIEW"})});case"foundry":return s.jsx(ZA,{scrap:v.scrap,energy:v.energy,metalRefinado:v.metalRefinado,aceroEstructural:v.aceroEstructural,fragmentosPlaca:v.fragmentosPlaca,circuitosDaados:v.circuitosDaados,placasCasco:v.placasCasco,cableadoSuperconductor:v.cableadoSuperconductor,barraCombustible:v.barraCombustible,metalRefinadoQueue:D.queues.metalRefinado,aceroEstructuralQueue:D.queues.aceroEstructural,placasCascoQueue:D.queues.placasCasco,cableadoSuperconductorQueue:D.queues.cableadoSuperconductor,barraCombustibleQueue:D.queues.barraCombustible,onCraftRefinedMetal:Wn,onCraftStructuralSteel:nr,onCraftHullPlate:rn,onCraftSuperconductorWiring:Sn,onCraftFuelRod:He,onCraftPurifiedMetal:Pe,upgrades:A.upgrades,buyAmount:f,onSetBuyAmount:Y,onClose:q,onCancel:xe});case"expeditions":return s.jsx(t2,{resources:v,drones:k,activeExpeditions:N,onStartExpedition:Ze,onClaimReward:Vn,onClose:q});case"shipyard":return s.jsx(e2,{shipyard:j,vindicator:e.vindicator,resources:v,researchPoints:A.researchPoints,blueprints:e.blueprints,dispatch:n,onClose:()=>n({type:"CLOSE_CURRENT_VIEW"})});case"":default:return s.jsx("div",{className:"collection-button-container",children:s.jsx(ZN,{onCollectScrap:()=>n({type:"COLLECT_SCRAP"}),scrapPerClick:_.scrapPerClick})})}};return s.jsxs("div",{className:"game-scene-container",style:{backgroundImage:`url(${Gn()})`},children:[s.jsx(QN,{}),v.energy<=0&&v.energyProduction<v.energyConsumption&&s.jsxs("div",{className:"energy-warning",children:[s.jsx("strong",{children:"Advertencia:"})," Balance energtico negativo. La produccin de recursos est detenida."]}),s.jsxs("div",{className:"main-content",children:[s.jsx("div",{className:"module-container",children:En()}),s.jsx(lA,{workshopUnlocked:v.scrap>=75,energyUnlocked:p.energy,storageUnlocked:p.storage,laboratoryUnlocked:p.techCenter,foundryUnlocked:p.foundry,expeditionsUnlocked:p.expeditions,shipyardUnlocked:p.shipyard,phase2Unlocked:E,currentView:a,onModuleSelect:T,scrapForUnlock:v.scrap,mediumDronesForUnlock:k.medium,advancedSolarForUnlock:C.advancedSolar,foundryProtocolsUpgrade:A.upgrades.foundryProtocols})]}),s.jsx(Yv,{}),s.jsx(i2,{notification:g&&g.length>0?g[0]:null,onDismiss:L}),s.jsx(a2,{}),s.jsx("audio",{ref:r,src:KN,loop:!0})]})},s2=({message:e,onClose:n,autoHide:r=!0})=>{const[a,o]=K.useState(!1);K.useEffect(()=>{o(!0)},[]),K.useEffect(()=>{if(r){const c=setTimeout(()=>{u()},5e3);return()=>clearTimeout(c)}},[r,n]);const u=()=>{o(!1),setTimeout(n,300)};return s.jsx("div",{style:{maxWidth:"40rem",backgroundColor:"#111827",color:"#E5E7EB",padding:"1.6rem",borderRadius:"0.8rem",border:"2px solid #06B6D4",boxShadow:"0 0.4rem 1.2rem rgba(0,0,0,0.5)",transform:a?"translateX(0)":"translateX(100%)",opacity:a?1:0,transition:"all 0.3s ease-in-out",fontFamily:"Inter, sans-serif"},children:s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1.2rem"},children:[s.jsx("div",{style:{width:"3.2rem",height:"3.2rem",backgroundColor:"#06B6D4",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:"1.8rem",fontWeight:"bold"},children:"A"}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.8rem"},children:[s.jsx("strong",{style:{color:"#06B6D4"},children:"AURORA"}),s.jsx("button",{onClick:u,style:{background:"none",border:"none",color:"#9CA3AF",cursor:"pointer",fontSize:"2rem",padding:"0 0.4rem",marginLeft:"1.6rem"},children:""})]}),s.jsx("p",{style:{margin:0,lineHeight:"1.4",fontSize:"1.4rem"},children:e})]})]})})},l2=e=>{const n=K.useRef(null),r=1e3;K.useEffect(()=>{let a;const o=u=>{n.current===null&&(n.current=u);const c=u-n.current;if(c>=r){const f=Math.floor(c/r);n.current=u-c%r;for(let p=0;p<f;p++)e({type:"GAME_TICK"})}a=requestAnimationFrame(o)};return a=requestAnimationFrame(o),()=>cancelAnimationFrame(a)},[e])},u2=()=>{const{gameState:e,dispatch:n}=Vr();return l2(n),K.useEffect(()=>{try{const r={...e,lastSaveTimestamp:Date.now(),aurora:{...e.aurora,shownMessages:Array.from(e.aurora.shownMessages)}};localStorage.setItem("mekadron-savegame",JSON.stringify(r))}catch(r){console.error("No se pudo guardar la partida:",r)}},[e]),K.useEffect(()=>{const r=()=>{n({type:"DEBUG_UNLOCK_TECH_CENTER"}),n({type:"ADD_AURORA_MESSAGE",payload:{message:"Modo desarrollo activado. Centro Tcnico y Fundicin desbloqueados.",messageKey:"debug_unlock"}})};window.addEventListener("debugUnlockTechCenter",r);const a=()=>{n({type:"DEBUG_COMPLETE_VINDICATOR"}),n({type:"ADD_AURORA_MESSAGE",payload:{message:"Modo desarrollo: 'Vindicator' completado.",messageKey:"debug_vindicator"}})},o=()=>{n({type:"DEBUG_FINISH_EXPEDITIONS"}),n({type:"ADD_AURORA_MESSAGE",payload:{message:"Modo desarrollo: Expediciones en curso finalizadas.",messageKey:"debug_expeditions"}})};return window.addEventListener("debugCompleteVindicator",a),window.addEventListener("debugFinishExpeditions",o),()=>{window.removeEventListener("debugUnlockTechCenter",r),window.removeEventListener("debugCompleteVindicator",a),window.removeEventListener("debugFinishExpeditions",o)}},[n]),K.useEffect(()=>{const r=setInterval(()=>{e.aurora.pendingMessages.length>0&&e.aurora.activeMessages.length<3&&n({type:"PROCESS_AURORA_QUEUE"})},1e3);return()=>clearInterval(r)},[e.aurora.pendingMessages.length,e.aurora.activeMessages.length,n]),s.jsxs(s.Fragment,{children:[s.jsx(o2,{}),s.jsx("div",{style:{position:"fixed",bottom:"2rem",right:"2rem",zIndex:1e3},children:e.aurora.activeMessages.map((r,a)=>s.jsx("div",{style:{marginBottom:a>0?"1.6rem":"0"},children:s.jsx(s2,{message:r.text,onClose:()=>n({type:"REMOVE_AURORA_MESSAGE",payload:{messageId:r.id}})})},r.id))})]})};const c2=({onComplete:e})=>{const[n,r]=K.useState(!1),a=K.useRef(null);K.useEffect(()=>{const u=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(u)},[]);const o=()=>{console.log("Video terminado")};return s.jsxs("div",{className:"phase2-intro-container",children:[s.jsxs("video",{ref:a,className:"intro-video",autoPlay:!0,muted:!0,loop:!1,onEnded:o,children:[s.jsx("source",{src:"/videos/phase2-intro.mp4",type:"video/mp4"}),"Tu navegador no soporta el elemento video."]}),n&&s.jsx("button",{onClick:e,className:"continue-button",children:"[ CONTINUAR ]"})]})};const d2="/Mekadron-idle/assets/Vindicator-background-72fdf11f.png";const f2=({metalRefinado:e,aceroEstructural:n,placasCasco:r,cableadoSuperconductor:a,aleacionReforzada:o,neuroChipCorrupto:u,barraCombustible:c})=>{const{gameState:f}=Vr(),{vindicator:p}=f;return s.jsxs("div",{className:"phase2-resource-bar",children:[s.jsxs("div",{className:"resource-group",children:[s.jsxs("div",{className:"resource-item",title:"Metal Refinado",children:[s.jsx("span",{className:"icon",style:{color:"#F59E0B"},children:""}),s.jsx("span",{children:B(e)})]}),s.jsxs("div",{className:"resource-item",title:"Acero Estructural",children:[s.jsx("span",{className:"icon",style:{color:"#94A3B8"},children:""}),s.jsx("span",{children:B(n)})]}),s.jsxs("div",{className:"resource-item",title:"Placas de Casco",children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{children:B(r)})]}),s.jsxs("div",{className:"resource-item",title:"Cableado Superconductor",children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{children:B(a)})]}),s.jsx("div",{className:"separator"}),s.jsxs("div",{className:"resource-item",title:"Aleacin Reforzada",children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{children:B(o)})]}),s.jsxs("div",{className:"resource-item",title:"Neuro-Chip Corrupto",children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{children:B(u)})]}),s.jsxs("div",{className:"resource-item",title:"Barras de Combustible",children:[s.jsx("span",{className:"icon",children:""}),s.jsx("span",{children:B(c)})]})]}),s.jsxs("div",{className:"vindicator-stats",children:[s.jsxs("div",{className:"stat-item",title:"Salud",children:[s.jsx("span",{className:"icon",style:{color:"#EF4444"},children:""}),s.jsxs("span",{className:"value",children:[B(p.currentHealth),"/",B(p.maxHealth)]})]}),s.jsxs("div",{className:"stat-item",title:"Escudo",children:[s.jsx("span",{className:"icon",style:{color:"#3B82F6"},children:""}),s.jsxs("span",{className:"value",children:[B(p.currentShield),"/",B(p.maxShield)]})]}),s.jsxs("div",{className:"stat-item",title:"Dao",children:[s.jsx("span",{className:"icon",style:{color:"#F59E0B"},children:""}),s.jsx("span",{className:"value",children:B(p.damage)})]})]})]})};const p2=({onClose:e})=>{const{gameState:n,dispatch:r}=Vr(),{battleRoom:a}=n,o=h=>{r({type:"SELECT_CHAPTER",payload:h})},u=()=>{r({type:"BACK_TO_CHAPTER_SELECT"})},c=h=>{r({type:"SELECT_BATTLE_DESTINATION",payload:h})},f=()=>{r({type:"START_BATTLE"})},p=()=>s.jsxs("div",{className:"chapter-selection",children:[s.jsx("h3",{children:"Selecciona un Captulo"}),s.jsx("div",{className:"chapter-list",children:wl.map((h,C)=>{const w=h.destinations.reduce((j,D,_)=>j+(n.battleRoom.battlesCompleted[_]||0),0),N=h.destinations.reduce((j,D)=>j+D.battles.length,0);return s.jsxs("button",{className:"chapter-button ",onClick:()=>o(C),disabled:!1,children:[s.jsx("span",{className:"chapter-title",children:h.name}),N>0&&s.jsxs("span",{className:"chapter-progress",children:["Progreso: ",Math.floor(w/N*100),"%"]}),N===0&&s.jsx("span",{className:"chapter-progress",children:"(Prximamente)"}),!1]},h.name)})})]}),v=()=>{if(a.selectedChapterIndex===null)return null;const h=wl[a.selectedChapterIndex],C=a.selectedDestination;return s.jsxs("div",{className:"battle-room-content",children:[s.jsx("div",{className:"destination-list-header",children:s.jsx("button",{onClick:u,className:"back-button",children:" Volver a Captulos"})}),s.jsx("div",{className:"destination-list",children:h.destinations.map((A,w)=>{const N=n.battleRoom.battlesCompleted[w]||0,j=A.battles.length,D=N>=j;let _=!1;if(w>0){const g=h.destinations[w-1];(n.battleRoom.battlesCompleted[w-1]||0)<g.battles.length&&(_=!0)}return A.isBoss&&w===5&&(h.destinations.slice(0,5).every((E,S)=>(n.battleRoom.battlesCompleted[S]||0)>=E.battles.length)||(_=!0)),s.jsxs("button",{onClick:()=>c(w),disabled:_,className:`destination-list-item ${C===w?"active":""} ${D?"completed":""} ${_?"locked":""} ${A.isBoss?"boss-destination":""}`,children:[_&&s.jsx("span",{className:"lock-icon",children:""}),A.isBoss&&s.jsx("span",{className:"boss-icon",children:""}),A.name,!_&&s.jsxs("span",{className:"battle-progress",children:["Progreso: ",N," / ",j]})]},A.name)})}),s.jsx("div",{className:"destination-details",children:C!==null?(()=>{const A=h.destinations[C],w=n.battleRoom.battlesCompleted[C]||0,N=A.battles.length;if(w>=N)return s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:A.isBoss?"boss-title":"",children:A.name}),s.jsx("p",{children:A.description}),s.jsx("p",{className:"completed-message",children:A.isBoss?"Jefe final derrotado! Captulo completado.":"Destino completado!"}),A.isBoss&&s.jsxs("div",{className:"chapter-rewards",children:[s.jsxs("h4",{children:[" Has completado ",h.name,"!"]}),s.jsx("p",{children:"Recompensas desbloqueadas:"}),s.jsx("ul",{children:s.jsx("li",{children:"Siguiente Captulo"})})]})]});const j=A.battles[w],D={scrap:{name:"Chatarra",icon:""},aleacionReforzada:{name:"Aleacin Reforzada",icon:""},neuroChipCorrupto:{name:"Neuro-Chip Corrupto",icon:""},matrizCristalina:{name:"Matriz Cristalina",icon:""},IA_Fragmentada:{name:"IA Fragmentada",icon:""},planosMK2:{name:"Planos MK2",icon:""},blueprints:{name:"Planos",icon:" blueprint-icon-class"}};return s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:A.isBoss?"boss-title":"",children:A.name}),s.jsx("p",{children:A.description}),s.jsxs("div",{className:"next-battle-info",children:[s.jsxs("h4",{children:["Prxima Batalla: ",j.enemyName]}),s.jsxs("div",{className:"enemy-stats",children:[s.jsxs("p",{children:["Vida: ",B(j.health)]}),s.jsxs("p",{children:["Escudo: ",B(j.shield)]}),s.jsxs("p",{children:["Dao: ",B(j.damage)]})]}),s.jsxs("div",{className:"battle-rewards",children:[s.jsx("h5",{children:" Recompensas de Victoria:"}),s.jsx("div",{className:"rewards-list",children:Object.entries(j.reward).map(([_,g])=>{if(!g||g<=0)return null;const E=D[_];return E?s.jsxs("div",{className:"reward-item",children:[s.jsx("span",{className:"reward-icon",children:E.icon}),s.jsx("span",{className:"reward-amount",children:B(g)}),s.jsx("span",{className:"reward-name",children:E.name})]},_):null})})]}),s.jsxs("div",{className:"fuel-cost",children:[s.jsx("span",{className:"fuel-icon",children:""}),"Coste: 1 Barra de Combustible"]}),s.jsxs("div",{className:"battle-warning",children:[s.jsx("p",{children:" Advertencia: El Vindicator mantendr el dao entre batallas."}),s.jsx("p",{children:"Si pierdes, el progreso de este destino se reiniciar."})]}),s.jsxs("button",{className:`start-battle-btn ${A.isBoss?"boss-battle-btn":""}`,onClick:f,disabled:n.resources.barraCombustible<1,children:[A.isBoss?" ":"","Iniciar Combate ",w>0?`(${w+1}/${N})`:"",A.isBoss?" ":""]}),n.resources.barraCombustible<1&&s.jsx("p",{className:"fuel-warning",children:"No tienes suficiente combustible. Fabrica ms en la Fundicin."})]})]})})():s.jsx("p",{children:"Selecciona un destino para ver los detalles."})})]})};return s.jsxs("div",{className:"battle-view",children:[s.jsxs("div",{className:"battle-view-header",children:[s.jsx("h2",{children:"SALA DE BATALLA"}),s.jsx("button",{onClick:e,className:"close-button",children:"Cerrar"})]}),a.selectedChapterIndex!==null&&s.jsx("h3",{className:"battle-view-subtitle",children:wl[a.selectedChapterIndex].name}),a.selectedChapterIndex===null?p():v()]})};const m2=({onClose:e})=>{const{gameState:n,dispatch:r}=Vr(),{vindicator:a,resources:o,vindicatorUpgrades:u,blueprints:c,vindicatorLevel:f}=n,p=50,v=.2,h=()=>{const S=a.maxHealth-a.currentHealth;return Math.floor(S*p)},C=()=>{const S=a.maxShield-a.currentShield;return Math.floor(S*v*10)/10},A=()=>{const S=a.maxHealth-a.currentHealth,k=h();S>0&&o.scrap>=k&&r({type:"REPAIR_VINDICATOR_HEALTH",payload:{healthAmount:S,scrapCost:k}})},w=()=>{const S=a.maxShield-a.currentShield,k=C();S>0&&o.barraCombustible>=k&&r({type:"REPAIR_VINDICATOR_SHIELD",payload:{shieldAmount:S,fuelCost:k}})},N=a.maxHealth-a.currentHealth,j=a.maxShield-a.currentShield,D=h(),_=C(),g=N>0&&o.scrap>=D,E=j>0&&o.barraCombustible>=_;return s.jsxs("div",{className:"armory-view",children:[s.jsxs("div",{className:"armory-view-header",children:[s.jsx("h2",{children:"ARMERA - VINDICATOR"}),s.jsx("button",{onClick:e,className:"close-button",children:"Cerrar"})]}),s.jsxs("div",{className:"armory-content",children:[s.jsxs("div",{className:"armory-top-section",children:[s.jsxs("div",{className:"vindicator-status",children:[s.jsx("h3",{children:"Estado Actual"}),s.jsxs("div",{className:"status-bars",children:[s.jsxs("div",{className:"status-bar",children:[s.jsxs("span",{children:["Vida: ",B(a.currentHealth)," / ",B(a.maxHealth)]}),s.jsx("div",{className:"bar-container",children:s.jsx("div",{className:"health-fill",style:{width:`${a.currentHealth/a.maxHealth*100}%`}})})]}),s.jsxs("div",{className:"status-bar",children:[s.jsxs("span",{children:["Escudo: ",B(a.currentShield)," / ",B(a.maxShield)]}),s.jsx("div",{className:"bar-container",children:s.jsx("div",{className:"shield-fill",style:{width:`${a.currentShield/a.maxShield*100}%`}})})]})]})]}),s.jsxs("div",{className:"repair-section",children:[s.jsx("h3",{children:"SISTEMA DE REPARACIN"}),s.jsxs("div",{className:"repair-option",children:[s.jsxs("div",{className:"repair-info",children:[s.jsx("h4",{children:"Reparar Vida"}),s.jsxs("p",{children:["Repara ",B(N)," puntos de vida faltantes"]}),s.jsxs("div",{className:"repair-cost",children:[s.jsx("span",{className:"cost-icon",children:""}),s.jsx("span",{className:"cost-amount",children:B(D)}),s.jsx("span",{className:"cost-name",children:"Chatarra"})]})]}),s.jsx("button",{className:`repair-button ${g?"":"disabled"}`,onClick:A,disabled:!g,children:g?" REPARAR VIDA":" NO HAY SUFICIENTE CHATARRA"})]}),s.jsxs("div",{className:"repair-option",children:[s.jsxs("div",{className:"repair-info",children:[s.jsx("h4",{children:"Reparar Escudo"}),s.jsxs("p",{children:["Repara ",B(j)," puntos de escudo faltantes"]}),s.jsxs("div",{className:"repair-cost",children:[s.jsx("span",{className:"cost-icon",children:""}),s.jsx("span",{className:"cost-amount",children:_.toFixed(1)}),s.jsx("span",{className:"cost-name",children:"Barras de Combustible"})]})]}),s.jsx("button",{className:`repair-button ${E?"":"disabled"}`,onClick:w,disabled:!E,children:E?" REPARAR ESCUDO":" NO HAY SUFICIENTE COMBUSTIBLE"})]})]})]}),s.jsxs("div",{className:"upgrades-section",children:[s.jsx("h3",{children:"MEJORAS DE COMPONENTES"}),Object.entries(u).map(([S,k])=>{if(!k)return null;const{phase1Resources:I,phase2Resources:L}=k.costPerStar,T=Object.entries(I).every(([oe,ce])=>o[oe]>=ce),q=Object.entries(L).every(([oe,ce])=>o[oe]>=ce),U=k.currentStars>=k.maxStars,Z=T&&q&&!U,te=()=>{Z&&r({type:"UPGRADE_VINDICATOR_STAR",payload:{upgradeId:S}})};return s.jsxs("div",{className:"upgrade-card",children:[s.jsxs("div",{className:"upgrade-card-header",children:[s.jsx("h4",{children:k.name}),s.jsxs("div",{className:"stars-container",children:[k.currentStars," / ",k.maxStars]})]}),s.jsx("p",{children:k.description}),U?s.jsx("p",{className:"max-level",children:"NIVEL MXIMO ALCANZADO"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"level-up-bonus",children:[s.jsx("h5",{children:"BONIFICACIN PRXIMA MEJORA:"}),s.jsxs("ul",{children:[k.statIncreasePerStar.health&&s.jsxs("li",{children:["+",k.statIncreasePerStar.health," Vida Mxima"]}),k.statIncreasePerStar.shield&&s.jsxs("li",{children:["+",k.statIncreasePerStar.shield," Escudo Mximo"]}),k.statIncreasePerStar.damage&&s.jsxs("li",{children:["+",k.statIncreasePerStar.damage," Dao"]})]})]}),s.jsxs("div",{className:"upgrade-cost",children:[s.jsx("h5",{children:"COSTE PRXIMA MEJORA:"}),s.jsxs("ul",{children:[Object.entries(I).map(([oe,ce])=>s.jsx("li",{className:o[oe]>=ce?"has-enough":"not-enough",children:`${oe.charAt(0).toUpperCase()+oe.slice(1)}: ${B(o[oe])} / ${B(ce)}`},oe)),Object.entries(L).map(([oe,ce])=>s.jsx("li",{className:o[oe]>=ce?"has-enough":"not-enough",children:`${oe.charAt(0).toUpperCase()+oe.slice(1)}: ${B(o[oe])} / ${B(ce)}`},oe))]})]}),s.jsx("button",{className:`upgrade-button ${Z?"":"disabled"}`,onClick:te,disabled:!Z,children:Z?" MEJORAR":"RECURSOS INSUFICIENTES"})]})]},S)})]}),s.jsxs("div",{className:"vindicator-level-up-section",children:[s.jsx("h3",{children:"NIVEL DEL VINDICATOR"}),s.jsxs("div",{className:"level-up-card",children:[s.jsxs("div",{className:"level-display",children:["NIVEL ACTUAL: ",s.jsx("span",{children:f})]}),(()=>{const S=qv.find(L=>L.level===f+1);if(!S)return s.jsx("p",{className:"max-level",children:"MXIMO NIVEL ALCANZADO"});const k=c>=S.blueprintCost,I=()=>{k&&r({type:"LEVEL_UP_VINDICATOR"})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"level-up-bonus",children:[s.jsx("h5",{children:"BONIFICACIN AL SUBIR DE NIVEL:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:["+",S.statBonus.health," Vida Mxima"]}),s.jsxs("li",{children:["+",S.statBonus.shield," Escudo Mximo"]}),s.jsxs("li",{children:["+",S.statBonus.damage," Dao"]})]})]}),s.jsxs("div",{className:"upgrade-cost",children:[s.jsxs("h5",{children:["COSTE PARA NIVEL ",S.level,":"]}),s.jsx("ul",{children:s.jsxs("li",{className:k?"has-enough":"not-enough",children:["Planos: ",B(c)," / ",B(S.blueprintCost)]})})]}),s.jsx("button",{className:`level-up-button ${k?"":"disabled"}`,onClick:I,disabled:!k,children:k?" SUBIR DE NIVEL":"PLANOS INSUFICIENTES"})]})})()]})]})]})]})},h2=({onClose:e})=>{const{gameState:n,dispatch:r}=Vr(),{vindicator:a}=n,o=u=>{r({type:"CRAFT_VINDICATOR_MODULE",payload:{moduleId:u}})};return s.jsxs("div",{className:"armory-view",children:[s.jsxs("div",{className:"armory-view-header",children:[s.jsx("h2",{children:"Armera del Vindicator MK.I"}),s.jsx("button",{onClick:e,className:"close-button",children:"Cerrar"})]}),s.jsxs("div",{className:"armory-content",children:[s.jsxs("div",{className:"module-slots-section",children:[s.jsx("h3",{children:"Mdulos Equipados"}),s.jsxs("div",{className:"module-slot-display",children:[s.jsx("strong",{children:"Ofensivo:"}),s.jsx("span",{children:a.modules.offensive||"Ninguno"})]}),s.jsxs("div",{className:"module-slot-display",children:[s.jsx("strong",{children:"Defensivo:"}),s.jsx("span",{children:a.modules.defensive||"Ninguno"})]}),s.jsxs("div",{className:"module-slot-display",children:[s.jsx("strong",{children:"Tctico:"}),s.jsx("span",{children:a.modules.tactical||"Ninguno"})]})]}),s.jsxs("div",{className:"module-fabrication-section",children:[s.jsx("h3",{children:"Mdulos Fabricables"}),s.jsx("div",{className:"module-list",children:ko.map(u=>{const{resources:c}=n,f=u.costs,p=c.matrizCristalina>=f.matrizCristalina&&c.IA_Fragmentada>=f.IA_Fragmentada&&c.planosMK2>=f.planosMK2,v=Object.values(a.modules).includes(u.id);return s.jsxs("div",{className:"module-card",children:[s.jsx("div",{className:"upgrade-card-header",children:s.jsxs("h4",{children:[u.name," (",u.slot,")"]})}),s.jsx("p",{children:u.description}),s.jsxs("div",{className:"upgrade-cost",children:[s.jsx("h5",{children:"Coste:"}),s.jsxs("ul",{children:[s.jsxs("li",{className:c.matrizCristalina<f.matrizCristalina?"not-enough":"",children:["Matriz Cristalina: ",f.matrizCristalina]}),s.jsxs("li",{className:c.IA_Fragmentada<f.IA_Fragmentada?"not-enough":"",children:["IA Fragmentada: ",f.IA_Fragmentada]}),s.jsxs("li",{className:c.planosMK2<f.planosMK2?"not-enough":"",children:["Planos MK2: ",f.planosMK2]})]})]}),s.jsx("button",{className:`upgrade-button ${v?"disabled":""}`,onClick:()=>o(u.id),disabled:!p||v,children:v?"Equipado":"Fabricar"})]},u.id)})})]})]})]})},g2="/Mekadron-idle/assets/battle-room-button-5898a2bc.png",v2="/Mekadron-idle/assets/armory-button-f7b8255f.png",y2="/Mekadron-idle/assets/return-station-button-4839c309.png",x2=()=>{const{gameState:e,dispatch:n}=Vr(),{resources:r,currentView:a}=e,o=()=>{n({type:"CLOSE_CURRENT_VIEW"})};return s.jsxs("div",{className:"phase2-scene-container",style:{backgroundImage:`url(${d2})`},children:[s.jsx(f2,{metalRefinado:r.metalRefinado,aceroEstructural:r.aceroEstructural,placasCasco:r.placasCasco,cableadoSuperconductor:r.cableadoSuperconductor,aleacionReforzada:r.aleacionReforzada,neuroChipCorrupto:r.neuroChipCorrupto,barraCombustible:r.barraCombustible}),s.jsxs("div",{className:"main-content",children:[s.jsxs("div",{className:"content-area",children:[a==="battleRoom"&&s.jsx(p2,{onClose:o}),a==="armory"&&(e.vindicator.vindicatorType==="mk1"?s.jsx(h2,{onClose:o}):s.jsx(m2,{onClose:o}))]}),s.jsxs("div",{className:"modules-panel",children:[s.jsx("button",{onClick:()=>n({type:"SET_CURRENT_VIEW",payload:"battleRoom"}),className:`image-button ${a==="battleRoom"?"active":""}`,children:s.jsx("img",{src:g2,alt:"Sala de Batalla",className:"button-image"})}),s.jsx("button",{onClick:()=>n({type:"SET_CURRENT_VIEW",payload:"armory"}),className:`image-button ${a==="armory"?"active":""}`,children:s.jsx("img",{src:v2,alt:"Armera",className:"button-image"})}),s.jsx("button",{onClick:()=>n({type:"RETURN_TO_PHASE_1"}),className:"image-button",children:s.jsx("img",{src:y2,alt:"Volver a la Estacin",className:"button-image"})})]})]}),s.jsx(Yv,{})]})};const _2=()=>{const{gameState:e,dispatch:n}=Vr(),{vindicator:r,activeBattle:a}=e,[o,u]=K.useState("idle"),[c,f]=K.useState("normal"),[p,v]=K.useState(null);if(!a)return s.jsx("div",{children:"Cargando batalla..."});const h={slow:2e3,normal:1e3,fast:500},C=K.useCallback(()=>{n({type:"PLAYER_ATTACK"})},[n]),A=()=>{u("running");const _=setInterval(()=>{C()},h[c]);v(_)},w=()=>{u("paused"),p&&(clearInterval(p),v(null))},N=()=>{u("running");const _=setInterval(()=>{C()},h[c]);v(_)},j=()=>{u("finished"),p&&(clearInterval(p),v(null))},D=()=>{j(),n({type:"ESCAPE_COMBAT"})};return K.useEffect(()=>()=>{p&&clearInterval(p)},[p]),K.useEffect(()=>{!a&&o==="running"&&j()},[a,o,j]),s.jsxs("div",{className:"combat-scene",children:[s.jsx("div",{className:"combat-status",children:s.jsxs("span",{className:`status-indicator ${o}`,children:["Estado: ",o==="idle"?"Listo":o==="running"?"En combate":o==="paused"?"Pausado":"Finalizado"]})}),s.jsxs("div",{className:"combat-header",children:[s.jsxs("div",{className:"vindicator-header",children:[s.jsx("div",{className:"unit-name vindicator-name",children:"VINDICATOR"}),s.jsxs("div",{className:"health-display",children:[s.jsx("span",{className:"health-label",children:"VIDA:"}),s.jsx("div",{className:"health-bar-container",children:s.jsx("div",{className:"health-fill vindicator-health",style:{width:`${r.currentHealth/r.maxHealth*100}%`}})}),s.jsxs("span",{className:"health-value",children:[Math.round(r.currentHealth)," / ",Math.round(r.maxHealth)]})]}),s.jsxs("div",{className:"health-display",children:[s.jsx("span",{className:"health-label",children:"ESCUDO:"}),s.jsx("div",{className:"health-bar-container",children:s.jsx("div",{className:"shield-fill",style:{width:`${r.currentShield/r.maxShield*100}%`}})}),s.jsxs("span",{className:"health-value",children:[Math.round(r.currentShield)," / ",Math.round(r.maxShield)]})]})]}),s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",color:"#ecc94b",textShadow:"2px 2px 0px #000"},children:"VS"}),s.jsxs("div",{className:"enemy-header",children:[s.jsx("div",{className:"unit-name enemy-name",children:a.enemyName.toUpperCase()}),s.jsxs("div",{className:"health-display",children:[s.jsx("span",{className:"health-label",children:"VIDA:"}),s.jsx("div",{className:"health-bar-container",children:s.jsx("div",{className:"health-fill enemy-health",style:{width:`${a.enemyCurrentHealth/a.enemyMaxHealth*100}%`}})}),s.jsxs("span",{className:"health-value",children:[Math.round(a.enemyCurrentHealth)," / ",Math.round(a.enemyMaxHealth)]})]}),s.jsxs("div",{className:"health-display",children:[s.jsx("span",{className:"health-label",children:"ESCUDO:"}),s.jsx("div",{className:"health-bar-container",children:s.jsx("div",{className:"shield-fill",style:{width:`${a.enemyCurrentShield/a.enemyMaxShield*100}%`}})}),s.jsxs("span",{className:"health-value",children:[Math.round(a.enemyCurrentShield)," / ",Math.round(a.enemyMaxShield)]})]})]})]}),s.jsxs("div",{className:"combat-area",children:[s.jsxs("div",{className:"combatant vindicator-combatant",children:[s.jsx("div",{className:"unit-sprite",children:""}),s.jsxs("div",{className:"unit-stats",children:[s.jsxs("div",{className:"stat-item",children:["DAO: ",r.damage]}),s.jsx("div",{className:"stat-item",children:"TIPO: ASALTO"}),s.jsx("div",{className:"stat-item",children:"MOV: 6"}),s.jsx("div",{className:"stat-item",children:"RANGO: 1-2"})]})]}),s.jsxs("div",{className:"combatant enemy-combatant",children:[s.jsx("div",{className:"unit-sprite",children:""}),s.jsxs("div",{className:"unit-stats",children:[s.jsxs("div",{className:"stat-item",children:["DAO: ",a.enemyCurrentHealth>0?"???":"0"]}),s.jsx("div",{className:"stat-item",children:"TIPO: ENEMIGO"}),s.jsx("div",{className:"stat-item",children:"MOV: 4"}),s.jsx("div",{className:"stat-item",children:"RANGO: 1"})]})]})]}),s.jsxs("div",{className:"combat-controls-center",children:[o==="idle"&&s.jsx("button",{className:"central-action-button",onClick:A,children:" INICIAR COMBATE AUTOMTICO"}),o==="running"&&s.jsx("button",{className:"central-action-button",onClick:w,children:" PAUSAR COMBATE"}),o==="paused"&&s.jsx("button",{className:"central-action-button",onClick:N,children:" REANUDAR COMBATE"}),s.jsxs("div",{className:"speed-controls-center",children:[s.jsx("label",{children:"Velocidad:"}),s.jsxs("select",{value:c,onChange:_=>f(_.target.value),disabled:o==="running",children:[s.jsx("option",{value:"slow",children:"Lenta"}),s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"fast",children:"Rpida"})]})]}),s.jsxs("div",{className:"secondary-actions",children:[(o==="paused"||o==="idle")&&s.jsx("button",{className:"secondary-button stop-button",onClick:j,children:" Detener"}),s.jsx("button",{className:"secondary-button escape-button",onClick:D,disabled:o==="running",children:" Escapar"})]})]})]})};class C2 extends K.Component{constructor(){super(...arguments);ph(this,"state",{hasError:!1,error:void 0})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("----------------------------------------"),console.error("--- ERROR ATRAPADO POR ERROR BOUNDARY ---"),console.error("----------------------------------------"),console.error("Error:",r),console.error("Component Stack:",a.componentStack),console.error("----------------------------------------")}render(){var r;return this.state.hasError?s.jsxs("div",{style:{backgroundColor:"#111827",color:"white",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2rem",fontFamily:"monospace"},children:[s.jsx("h1",{style:{color:"#EF4444"},children:"Algo ha salido muy mal."}),s.jsx("p",{children:"Ha ocurrido un error de renderizado que ha bloqueado la aplicacin."}),s.jsx("p",{children:"Por favor, recarga la pgina. Si el error persiste, informa de ello."}),s.jsxs("pre",{style:{backgroundColor:"#1F2937",padding:"1rem",borderRadius:"8px",border:"1px solid #374151",color:"#F3F4F6",maxWidth:"800px",overflow:"auto",whiteSpace:"pre-wrap",marginTop:"2rem"},children:[s.jsx("strong",{children:"Error:"})," ",(r=this.state.error)==null?void 0:r.toString()]})]}):this.props.children}}const E2=()=>{const{gameState:e,dispatch:n}=Vr();K.useEffect(()=>{const a=()=>{n({type:"RESET_GAME"})};return window.addEventListener("resetGame",a),()=>{window.removeEventListener("resetGame",a)}},[n]);const r=()=>{switch(e.currentScene){case"startMenu":return s.jsx(wg,{onStartGame:()=>n({type:"START_GAME"})});case"introScene":return s.jsx(qN,{onComplete:()=>n({type:"SHOW_MAIN_SCENE"})});case"main":return s.jsx(u2,{});case"phase2Intro":return s.jsx(c2,{onComplete:()=>n({type:"GO_TO_PHASE_2"})});case"phase2Main":return s.jsx(x2,{});case"combatScene":return s.jsx(_2,{},e.battleCount);default:return s.jsx(wg,{onStartGame:()=>n({type:"START_GAME"})})}};return s.jsx("div",{className:"game-container",children:s.jsx(C2,{children:r()})})};td.createRoot(document.getElementById("root")).render(s.jsx(mr.StrictMode,{children:s.jsx(BN,{children:s.jsx(E2,{})})}));
