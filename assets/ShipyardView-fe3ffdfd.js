import{R as P,b as z,m as R,j as a,f as d}from"./index-e50c8843.js";import{u as O}from"./useDragToScroll-cb384b04.js";const _=({shipyard:m,resources:v,researchPoints:C,blueprints:b,onClose:p})=>{const u=z(),j=O(),n=R[m.currentProjectIndex],h={...v,researchPoints:C,blueprints:b},x={scrap:"Chatarra",metalRefinado:"Metal Refinado",aceroEstructural:"Acero Estructural",placasCasco:"Placas de Casco",cableadoSuperconductor:"Cableado de Superconductores",nucleoSingularidad:"Núcleo de Singularidad",researchPoints:"Puntos de Investigación",aleacionReforzada:"Aleación Reforzada",neuroChipCorrupto:"Neuro-Chip Corrupto",blueprints:"Planos",matrizDeManiobra:"Matriz de Maniobra",placasDeSigilo:"Placas de Sigilo",planosDeInterceptor:"Planos de Interceptor",IA_Fragmentada:"IA Fragmentada",matrizCristalina:"Matriz Cristalina",esenciaDelVacio:"Esencia del Vacío",reliquiaCorrupta:"Reliquia Corrupta",planosMK7:"Planos MK7",nucleoEspectral:"Núcleo Espectral",conexionFantasmal:"Conexión Fantasmal",planosMK8:"Planos MK8",fragmentoDeCiudadela:"Fragmento de Ciudadela",matrizDeOverlord:"Matriz de Overlord",planosMK9:"Planos MK9"},g={hull:"Estructura del Casco",powerCore:"Núcleo de Energía",targetingSystem:"Sistemas de Puntería",warpDrive:"Motor de Curvatura",chasisReforzado:"Chasis Reforzado",nucleoSingularidad:"Núcleo de Singularidad Avanzado",sistemaArmamento:'Sistema de Armamento "Devastator"',ensamblajeFinal:"Ensamblaje Final",chasisDeSigilo:"Chasis de Sigilo",motorDeManiobraAvanzado:"Motor de Maniobra Avanzado",sistemaDeCamuflajeEspectral:"Sistema de Camuflaje Espectral",cascoDeEspectro:"Casco de Espectro",nucleoDelVacio:"Núcleo del Vacío",modulosDeCorrupcion:"Módulos de Corrupción",chasisEspectral:"Chasis Espectral",sincronizadorFantasmal:"Sincronizador Fantasmal",armamentoDeFase:"Armamento de Fase",blindajeDeCiudadela:"Blindaje de Ciudadela",matrizDeOverlord:"Matriz de Overlord",sistemasDeArmasDefinitivos:"Sistemas de Armas Definitivos"},A={vindicator_base:`Aurora: "Reconstruir el 'Vindicator' es nuestra única opción. Necesitaremos los materiales avanzados de las expediciones para ensamblar los componentes principales."`,vindicator_mk1:'Aurora: "Es hora de mejorar el Vindicator a la versión Mk.I. Necesitaremos los materiales que hemos conseguido en nuestras batallas para reforzarlo."',vindicator_mk2_interceptor:'Aurora: "Hemos conseguido los planos del Interceptor. Con esta tecnología de sigilo y maniobra, seremos imparables."',vindicator_mk7_wraith:`Aurora: "Esta tecnología es... diferente. Parece alimentarse del vacío mismo. El 'Wraith' será una leyenda, o nuestra perdición."`,vindicator_mk8_phantom:`Aurora: "Si el 'Wraith' caminaba por el vacío, el 'Phantom' es el vacío mismo. Esta nave podría ser la clave para acabar con las flotas fantasma."`,vindicator_mk9_apex:`Aurora: "Hemos llegado al final. La tecnología de la Ciudadela es nuestra. Con el 'Apex', reclamaremos el futuro. Por todos nosotros."`},D=(s,o)=>{u({type:"DONATE_TO_SHIPYARD",payload:{component:s,resource:o,amount:1}})},N=(s,o)=>{const r=h[o]||0;r>0&&u({type:"DONATE_TO_SHIPYARD",payload:{component:s,resource:o,amount:r}})},S=(s,o)=>{const r=m.progress[s]||{},i=Object.keys(o).every(e=>(r[e]||0)>=o[e]),f=g[s]||s.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());return a.jsxs("div",{className:`component-progress ${i?"completed":""}`,children:[a.jsxs("h3",{className:"component-title",children:[f," ",i&&"✅"]}),Object.keys(o).map(e=>{const t=o[e],l=r[e]||0,c=h[e]||0,E=x[e]||e,M=t-l,y=Math.min(c,M);return a.jsxs("div",{className:"resource-progress",children:[a.jsxs("p",{children:[E,": ",d(l)," / ",d(t)]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar",style:{width:`${Math.min(l/t*100,100)}%`}})}),!i&&a.jsxs("div",{className:"donation-buttons",children:[a.jsx("button",{onClick:()=>D(s,e),disabled:c<1,className:"donate-button",children:"Donar 1"}),a.jsxs("button",{onClick:()=>N(s,e),disabled:c<=0,className:"donate-max-button",children:["Donar MAX (",d(y),")"]})]})]},e)})]},s)};return a.jsx("div",{className:"shipyard-view-container",ref:j,children:n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"shipyard-view-header",children:[a.jsxs("h2",{children:['ASTILLERO - PROYECTO "',n.name.toUpperCase(),'"']}),a.jsx("button",{onClick:p,className:"close-button",children:"Cerrar"})]}),a.jsx("div",{className:"shipyard-intro",children:a.jsx("p",{children:A[n.id]||"Iniciando nuevo proyecto..."})}),Object.entries(n.costs).map(([s,o])=>S(s,o))]}):a.jsxs("div",{className:"shipyard-view-container",children:[a.jsxs("div",{className:"shipyard-view-header",children:[a.jsx("h2",{children:"ASTILLERO"}),a.jsx("button",{onClick:p,className:"close-button",children:"Cerrar"})]}),a.jsx("div",{className:"shipyard-intro",children:a.jsx("p",{children:"¡Todos los proyectos del astillero han sido completados!"})})]})})},w=P.memo(_);export{w as default};
