import{R as ce,j as e,f as a,a as l,g as s,d as oe}from"./index-18808fcb.js";import{B as ne,a as p}from"./BotonConTooltip-fccefd16.js";import{Q as D}from"./QueueControls-afa7ca48.js";import{u as ae}from"./useDragToScroll-43b99b71.js";const de="/Mekadron-idle/assets/drone-basic-85491f9f.png",te="/Mekadron-idle/assets/drone-medium-fd303461.png",le="/Mekadron-idle/assets/drone-advanced-474a19f4.png",me="/Mekadron-idle/assets/drone-expedition-cdc67b44.png",xe="/Mekadron-idle/assets/drone-reinforced-basic-d13b19bd.png",pe="/Mekadron-idle/assets/drone-reinforced-medium-4a10a63f.png",he="/Mekadron-idle/assets/drone-reinforced-advanced-f52beac6.png",fe="/Mekadron-idle/assets/drone-expedition-v2-cdfeb4b3.png",je="/Mekadron-idle/assets/drone-golem-bb288f4d.png",ve="/Mekadron-idle/assets/drone-wyrm-2cd90d83.png",k=({progress:h,time:r})=>e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${h/r*100}%`}})}),we=ce.memo(({resources:h,drones:r,hasBuilt:m,queues:o,upgrades:d,onBuildBasicDrone:I,onBuildMediumDrone:U,onBuildAdvancedDrone:P,onBuildReinforcedBasic:G,onBuildReinforcedMedium:z,onBuildReinforcedAdvanced:y,onBuildGolemDrone:M,onBuildExpeditionDrone:S,onBuildExpeditionV2Drone:A,onBuildWyrm:V,onDismantle:x,onRetrofit:R,buyAmount:c,onSetBuyAmount:O,onClose:u,onCancel:f,numberFormat:i})=>{const{scrap:n,metalRefinado:t,aceroEstructural:N}=h,re=ae(),W=1-(d.droneScrapCost||0)*.05,C=Math.round(s.workshop.basic.costs.scrap*W),$=Math.round(s.workshop.medium.costs.scrap*W),E=Math.round(s.workshop.advanced.costs.scrap*W),j=b=>{let B=1/0;for(const T in b){const w=b[T],ie=h[T]||0;w>0&&(B=Math.min(B,Math.floor(ie/w)))}return B},L=j({scrap:C}),Q=j({scrap:$}),X=j({scrap:E}),Y=j(s.workshop.reinforcedBasic.costs),Z=j(s.workshop.reinforcedMedium.costs),H=j(s.workshop.reinforcedAdvanced.costs),J=j(s.workshop.expeditionDrone.costs),K=j(s.workshop.expeditionV2Drone.costs),_=j(s.workshop.golem.costs),F=c==="max"?_:Math.min(c,_),q=j(s.workshop.wyrm.costs),ee=c==="max"?q:Math.min(c,q),v=(b,B)=>{const T=b.filter(w=>w.current<w.amount);return T.length===0?"":"Requiere: "+T.map(w=>`${w.text} (${a(w.amount,B)})`).join(", ")};return e.jsx("div",{className:"workshop-container",children:e.jsxs("div",{className:"workshop-content-area",ref:re,children:[e.jsx("button",{onClick:u,className:"close-button",children:"×"}),e.jsxs("div",{className:"drone-category",style:{borderColor:"#F59E0B"},children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"DRONES DE RECICLADO"}),e.jsx(ne,{buyAmount:c,onSetBuyAmount:O}),e.jsxs("div",{className:`drone-item ${n>=C?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#F59E0B"},children:"Dron Básico de Reciclado (DBR)"}),e.jsxs("p",{children:["Producción: +",a(1,i)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(1,i)," energía"]}),e.jsxs("p",{children:["Coste: ",a(C,i)," chatarra"]}),e.jsxs("p",{children:["Flota: ",r.basic," ",o.basic.queue>0?`| En cola: ${o.basic.queue} | Tiempo: ~${l(o.basic.queue*o.basic.time)}`:""]})]}),e.jsxs("div",{className:"controls-container",children:[e.jsx(g,{upgrades:d,droneType:"basic",onDismantle:x,droneCount:r.basic,buyAmount:c}),e.jsx(se,{resources:h,upgrades:d,droneType:"basic",toDrone:"medium",onRetrofit:R,droneCount:r.basic,numberFormat:i})]}),o.basic.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.basic.time)]}),e.jsx(k,{progress:o.basic.progress,time:o.basic.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:I,disabled:n<C,tooltipText:v([{resource:"scrap",amount:C,current:n,text:"Chatarra"}],i),className:`build-button ${n>=C?"unlocked":""}`,children:["Encargar Dron Básico ",c==="max"?`(${L})`:c>0&&`(${Math.min(c,L)})`]}),o.basic.queue>0&&e.jsx(D,{itemName:"basic",onCancel:f})]})]}),e.jsx("img",{src:de,alt:"Dron Básico",className:"drone-item-image"})]}),e.jsxs("div",{className:`drone-item ${n>=$&&(r.basic>=10||m.medium)?"unlocked":""} ${r.basic>=10||m.medium?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#06B6D4"},children:"Dron Medio de Reciclado (DMR)"}),e.jsxs("p",{children:["Producción: +",a(5,i)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(3,i)," energía"]}),e.jsxs("p",{children:["Coste: ",a($,i)," chatarra"]}),e.jsxs("p",{children:["Flota: ",r.medium," ",o.medium.queue>0?`| En cola: ${o.medium.queue} | Tiempo: ~${l(o.medium.queue*o.medium.time)}`:""]}),e.jsx("p",{children:"Requisitos: 10 Drones Básicos (solo para el primero)"})]}),e.jsxs("div",{className:"controls-container",children:[e.jsx(g,{upgrades:d,droneType:"medium",onDismantle:x,droneCount:r.medium,buyAmount:c}),e.jsx(se,{resources:h,upgrades:d,droneType:"medium",toDrone:"advanced",onRetrofit:R,droneCount:r.medium,numberFormat:i})]}),o.medium.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.medium.time)]}),e.jsx(k,{progress:o.medium.progress,time:o.medium.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:U,disabled:n<$||r.basic<10&&!m.medium,tooltipText:v([{amount:$,current:n,text:"Chatarra"},{amount:10,current:r.basic,text:"Drones Básicos"}],i),className:`build-button ${n>=$&&(r.basic>=10||m.medium)?"unlocked":""}`,children:["Encargar Dron Medio ",c==="max"?`(${Q})`:c>0&&`(${Math.min(c,Q)})`]}),o.medium.queue>0&&e.jsx(D,{itemName:"medium",onCancel:f})]}),r.basic<10&&!m.medium&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 10 Drones Básicos para desbloquear"})]}),e.jsx("img",{src:te,alt:"Dron Medio",className:"drone-item-image"})]}),e.jsxs("div",{className:`drone-item ${n>=E&&(r.medium>=3||m.advanced)?"unlocked":""} ${r.medium>=3||m.advanced?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#22C55E"},children:"Dron Avanzado de Reciclado (DAR)"}),e.jsxs("p",{children:["Producción: +",a(20,i)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(5,i)," energía"]}),e.jsxs("p",{children:["Coste: ",a(E,i)," chatarra"]}),e.jsxs("p",{children:["Flota: ",r.advanced," ",o.advanced.queue>0?`| En cola: ${o.advanced.queue} | Tiempo: ~${l(o.advanced.queue*o.advanced.time)}`:""]}),e.jsx("p",{children:"Requisitos: 3 Drones Medios (solo para el primero)"})]}),e.jsx("div",{className:"controls-container",children:e.jsx(g,{upgrades:d,droneType:"advanced",onDismantle:x,droneCount:r.advanced,buyAmount:c})}),o.advanced.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.advanced.time)]}),e.jsx(k,{progress:o.advanced.progress,time:o.advanced.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:P,disabled:n<E||r.medium<3&&!m.advanced,tooltipText:v([{amount:E,current:n,text:"Chatarra"},{amount:3,current:r.medium,text:"Drones Medios"}],i),className:`build-button ${n>=E&&(r.medium>=3||m.advanced)?"unlocked":""}`,children:["Encargar Dron Avanzado ",c==="max"?`(${X})`:c>0&&`(${Math.min(c,X)})`]}),o.advanced.queue>0&&e.jsx(D,{itemName:"advanced",onCancel:f})]}),r.medium<3&&!m.advanced&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Drones Medios para desbloquear"})]}),e.jsx("img",{src:le,alt:"Dron Avanzado",className:"drone-item-image"})]})]}),e.jsxs("div",{className:"drone-category",style:{borderColor:"#10B981"},children:[e.jsx("h3",{style:{color:"#10B981"},children:"DRONES DE EXPEDICIÓN"}),e.jsxs("div",{className:`drone-item ${n>=s.workshop.expeditionDrone.costs.scrap&&t>=s.workshop.expeditionDrone.costs.metalRefinado&&r.advanced>=2?"unlocked":""} ${r.advanced>=2?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#10B981"},children:"Dron de Expedición (DE-1)"}),e.jsx("p",{children:"Función: Realiza expediciones para obtener recursos especiales"}),e.jsxs("p",{children:["Consumo: ",a(2,i)," energía (en expediciones)"]}),e.jsxs("p",{children:["Coste: ",a(s.workshop.expeditionDrone.costs.scrap,i)," chatarra, ",a(s.workshop.expeditionDrone.costs.metalRefinado,i)," metal refinado"]}),e.jsx("p",{children:"Requisitos: 2 Drones Avanzados"}),e.jsxs("p",{children:["Flota: ",r.expeditionDrone," ",o.expeditionDrone.queue>0?`| En cola: ${o.expeditionDrone.queue} | Tiempo: ~${l(o.expeditionDrone.queue*o.expeditionDrone.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(g,{upgrades:d,droneType:"expeditionDrone",onDismantle:x,droneCount:r.expeditionDrone,buyAmount:c})}),o.expeditionDrone.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.expeditionDrone.time)]}),e.jsx(k,{progress:o.expeditionDrone.progress,time:o.expeditionDrone.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:S,disabled:n<s.workshop.expeditionDrone.costs.scrap||t<s.workshop.expeditionDrone.costs.metalRefinado||r.advanced<2,tooltipText:v([{amount:s.workshop.expeditionDrone.costs.scrap,current:n,text:"Chatarra"},{amount:s.workshop.expeditionDrone.costs.metalRefinado,current:t,text:"Metal Refinado"},{amount:2,current:r.advanced,text:"Drones Avanzados"}],i),className:`build-button ${n>=s.workshop.expeditionDrone.costs.scrap&&t>=s.workshop.expeditionDrone.costs.metalRefinado&&r.advanced>=2?"unlocked":""}`,children:["Encargar Dron de Expedición ",c==="max"?`(${J})`:c>0&&`(${Math.min(c,J)})`]}),o.expeditionDrone.queue>0&&e.jsx(D,{itemName:"expeditionDrone",onCancel:f})]}),r.advanced<2&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 2 Drones Avanzados para desbloquear"})]}),e.jsx("img",{src:me,alt:"Dron de Expedición",className:"drone-item-image"})]}),e.jsxs("div",{className:`drone-item ${n>=s.workshop.expeditionV2Drone.costs.scrap&&t>=s.workshop.expeditionV2Drone.costs.metalRefinado&&r.expeditionDrone>=5?"unlocked":""} ${r.expeditionDrone>=5?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#059669"},children:"Dron de Expedición v2 (DE-2)"}),e.jsx("p",{children:"Función: Realiza expediciones avanzadas para obtener recursos raros"}),e.jsxs("p",{children:["Consumo: ",a(5,i)," energía (en expediciones)"]}),e.jsxs("p",{children:["Coste: ",a(s.workshop.expeditionV2Drone.costs.scrap,i)," chatarra, ",a(s.workshop.expeditionV2Drone.costs.metalRefinado,i)," metal refinado"]}),e.jsx("p",{children:"Requisitos: 5 Drones de Expedición"}),e.jsxs("p",{children:["Flota: ",r.expeditionV2Drone," ",o.expeditionV2Drone.queue>0?`| En cola: ${o.expeditionV2Drone.queue} | Tiempo: ~${l(o.expeditionV2Drone.queue*o.expeditionV2Drone.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(g,{upgrades:d,droneType:"expeditionV2Drone",onDismantle:x,droneCount:r.expeditionV2Drone,buyAmount:c})}),o.expeditionV2Drone.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.expeditionV2Drone.time)]}),e.jsx(k,{progress:o.expeditionV2Drone.progress,time:o.expeditionV2Drone.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:A,disabled:n<s.workshop.expeditionV2Drone.costs.scrap||t<s.workshop.expeditionV2Drone.costs.metalRefinado||r.expeditionDrone<5,tooltipText:v([{amount:s.workshop.expeditionV2Drone.costs.scrap,current:n,text:"Chatarra"},{amount:s.workshop.expeditionV2Drone.costs.metalRefinado,current:t,text:"Metal Refinado"},{amount:5,current:r.expeditionDrone,text:"Drones de Expedición"}],i),className:`build-button ${n>=s.workshop.expeditionV2Drone.costs.scrap&&t>=s.workshop.expeditionV2Drone.costs.metalRefinado&&r.expeditionDrone>=5?"unlocked":""}`,children:["Encargar Dron de Expedición v2 ",c==="max"?`(${K})`:c>0&&`(${Math.min(c,K)})`]}),o.expeditionV2Drone.queue>0&&e.jsx(D,{itemName:"expeditionV2Drone",onCancel:f})]}),r.expeditionDrone<5&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Drones de Expedición para desbloquear"})]}),e.jsx("img",{src:fe,alt:"Dron de Expedición v2",className:"drone-item-image"})]})]}),(d.reinforcedBasicDrones>0||d.reinforcedMediumDrones>0||d.reinforcedAdvancedDrones>0)&&e.jsxs("div",{className:"drone-category",style:{borderColor:"#8B5CF6"},children:[e.jsx("h3",{style:{color:"#8B5CF6"},children:"DRONES REFORZADOS"}),d.reinforcedBasicDrones>0&&e.jsxs("div",{className:`drone-item ${n>=s.workshop.reinforcedBasic.costs.scrap&&t>=s.workshop.reinforcedBasic.costs.metalRefinado?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Básico Reforzado (DBR-F)"}),e.jsxs("p",{children:["Producción: +",a(8,i)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(3,i)," energía"]}),e.jsxs("p",{children:["Coste: ",a(s.workshop.reinforcedBasic.costs.scrap,i)," chatarra, ",a(s.workshop.reinforcedBasic.costs.metalRefinado,i)," metal refinado"]}),e.jsxs("p",{children:["Flota: ",r.reinforcedBasic," ",o.reinforcedBasic.queue>0?`| En cola: ${o.reinforcedBasic.queue} | Tiempo: ~${l(o.reinforcedBasic.queue*o.reinforcedBasic.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(g,{upgrades:d,droneType:"reinforcedBasic",onDismantle:x,droneCount:r.reinforcedBasic,buyAmount:c})}),o.reinforcedBasic.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.reinforcedBasic.time)]}),e.jsx(k,{progress:o.reinforcedBasic.progress,time:o.reinforcedBasic.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:G,disabled:n<s.workshop.reinforcedBasic.costs.scrap||t<s.workshop.reinforcedBasic.costs.metalRefinado,tooltipText:v([{amount:s.workshop.reinforcedBasic.costs.scrap,current:n,text:"Chatarra"},{amount:s.workshop.reinforcedBasic.costs.metalRefinado,current:t,text:"Metal Refinado"}],i),className:`build-button ${n>=s.workshop.reinforcedBasic.costs.scrap&&t>=s.workshop.reinforcedBasic.costs.metalRefinado?"unlocked":""}`,children:["Encargar Dron Básico Reforzado ",c==="max"?`(${Y})`:c>0&&`(${Math.min(c,Y)})`]}),o.reinforcedBasic.queue>0&&e.jsx(D,{itemName:"reinforcedBasic",onCancel:f})]})]}),e.jsx("img",{src:xe,alt:"Dron Básico Reforzado",className:"drone-item-image"})]}),d.reinforcedMediumDrones>0&&e.jsxs("div",{className:`drone-item ${n>=s.workshop.reinforcedMedium.costs.scrap&&t>=s.workshop.reinforcedMedium.costs.metalRefinado&&r.reinforcedBasic>=10?"unlocked":""} ${r.reinforcedBasic>=10?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Medio Reforzado (DMR-F)"}),e.jsxs("p",{children:["Producción: +",a(25,i)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(6,i)," energía"]}),e.jsxs("p",{children:["Coste: ",a(s.workshop.reinforcedMedium.costs.scrap,i)," chatarra, ",a(s.workshop.reinforcedMedium.costs.metalRefinado,i)," metal refinado"]}),e.jsxs("p",{children:["Flota: ",r.reinforcedMedium," ",o.reinforcedMedium.queue>0?`| En cola: ${o.reinforcedMedium.queue} | Tiempo: ~${l(o.reinforcedMedium.queue*o.reinforcedMedium.time)}`:""]}),e.jsx("p",{children:"Requisitos: 10 Drones Básicos Reforzados"})]}),e.jsx("div",{className:"controls-container",children:e.jsx(g,{upgrades:d,droneType:"reinforcedMedium",onDismantle:x,droneCount:r.reinforcedMedium,buyAmount:c})}),o.reinforcedMedium.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.reinforcedMedium.time)]}),e.jsx(k,{progress:o.reinforcedMedium.progress,time:o.reinforcedMedium.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:z,disabled:n<s.workshop.reinforcedMedium.costs.scrap||t<s.workshop.reinforcedMedium.costs.metalRefinado||r.reinforcedBasic<10,tooltipText:v([{amount:s.workshop.reinforcedMedium.costs.scrap,current:n,text:"Chatarra"},{amount:s.workshop.reinforcedMedium.costs.metalRefinado,current:t,text:"Metal Refinado"},{amount:10,current:r.reinforcedBasic,text:"Drones Básicos Reforzados"}],i),className:`build-button ${n>=s.workshop.reinforcedMedium.costs.scrap&&t>=s.workshop.reinforcedMedium.costs.metalRefinado&&r.reinforcedBasic>=10?"unlocked":""}`,children:["Encargar Dron Medio Reforzado ",c==="max"?`(${Z})`:c>0&&`(${Math.min(c,Z)})`]}),o.reinforcedMedium.queue>0&&e.jsx(D,{itemName:"reinforcedMedium",onCancel:f})]}),r.reinforcedBasic<10&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 10 Drones Básicos Reforzados para desbloquear"})]}),e.jsx("img",{src:pe,alt:"Dron Medio Reforzado",className:"drone-item-image"})]}),d.reinforcedAdvancedDrones>0&&e.jsxs("div",{className:`drone-item ${n>=s.workshop.reinforcedAdvanced.costs.scrap&&t>=s.workshop.reinforcedAdvanced.costs.metalRefinado&&r.reinforcedMedium>=10?"unlocked":""} ${r.reinforcedMedium>=10?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Avanzado Reforzado (DAR-F)"}),e.jsxs("p",{children:["Producción: +",a(80,i)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",a(12,i)," energía"]}),e.jsxs("p",{children:["Coste: ",a(s.workshop.reinforcedAdvanced.costs.scrap,i)," chatarra, ",a(s.workshop.reinforcedAdvanced.costs.metalRefinado,i)," metal refinado"]}),e.jsxs("p",{children:["Flota: ",r.reinforcedAdvanced," ",o.reinforcedAdvanced.queue>0?`| En cola: ${o.reinforcedAdvanced.queue} | Tiempo: ~${l(o.reinforcedAdvanced.queue*o.reinforcedAdvanced.time)}`:""]}),e.jsx("p",{children:"Requisitos: 10 Drones Medios Reforzados"})]}),e.jsx("div",{className:"controls-container",children:e.jsx(g,{upgrades:d,droneType:"reinforcedAdvanced",onDismantle:x,droneCount:r.reinforcedAdvanced,buyAmount:c})}),o.reinforcedAdvanced.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.reinforcedAdvanced.time)]}),e.jsx(k,{progress:o.reinforcedAdvanced.progress,time:o.reinforcedAdvanced.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:y,disabled:n<s.workshop.reinforcedAdvanced.costs.scrap||t<s.workshop.reinforcedAdvanced.costs.metalRefinado||r.reinforcedMedium<10,tooltipText:v([{amount:s.workshop.reinforcedAdvanced.costs.scrap,current:n,text:"Chatarra"},{amount:s.workshop.reinforcedAdvanced.costs.metalRefinado,current:t,text:"Metal Refinado"},{amount:10,current:r.reinforcedMedium,text:"Drones Medios Reforzados"}],i),className:`build-button ${n>=s.workshop.reinforcedAdvanced.costs.scrap&&t>=s.workshop.reinforcedAdvanced.costs.metalRefinado&&r.reinforcedMedium>=10?"unlocked":""}`,children:["Encargar Dron Avanzado Reforzado ",c==="max"?`(${H})`:c>0&&`(${Math.min(c,H)})`]}),o.reinforcedAdvanced.queue>0&&e.jsx(D,{itemName:"reinforcedAdvanced",onCancel:f})]}),r.reinforcedMedium<10&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 10 Drones Medios Reforzados para desbloquear"})]}),e.jsx("img",{src:he,alt:"Dron Avanzado Reforzado",className:"drone-item-image"})]})]}),(d.golemChassis>0||d.wyrm>0)&&e.jsxs("div",{className:"drone-category",style:{borderColor:"#F43F5E"},children:[e.jsx("h3",{style:{color:"#F43F5E"},children:"DRONES DE ÉLITE"}),d.golemChassis>0&&e.jsxs("div",{className:`drone-item ${n>=s.workshop.golem.costs.scrap&&N>=s.workshop.golem.costs.aceroEstructural&&r.reinforcedAdvanced>=5?"unlocked":""} ${r.reinforcedAdvanced>=5?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#F43F5E"},children:"Dron Golem (DG-1)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Descripción:"})," Un chasis masivo diseñado para sintetizar Metal Refinado de forma pasiva utilizando su reactor interno."]}),e.jsxs("p",{children:["Consumo: ",a(150,i)," energía/segundo"]}),e.jsx("p",{children:"Produce: 0.5 Metal Refinado/s"}),e.jsxs("p",{children:["Coste: ",a(s.workshop.golem.costs.scrap,i)," chatarra, ",a(s.workshop.golem.costs.aceroEstructural,i)," acero estructural"]}),e.jsx("p",{children:'Requisitos: 5 Drones Avanzados Reforzados Y la investigación "Chasis Golem"'}),e.jsxs("p",{children:["Flota: ",r.golem," ",o.golem.queue>0?`| En cola: ${o.golem.queue} | Tiempo: ~${l(o.golem.queue*o.golem.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(g,{upgrades:d,droneType:"golem",onDismantle:x,droneCount:r.golem,buyAmount:c})}),o.golem.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.golem.time)]}),e.jsx(k,{progress:o.golem.progress,time:o.golem.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:M,disabled:n<s.workshop.golem.costs.scrap||N<s.workshop.golem.costs.aceroEstructural||r.reinforcedAdvanced<5||d.golemChassis===0,tooltipText:v([{amount:s.workshop.golem.costs.scrap,current:n,text:"Chatarra"},{amount:s.workshop.golem.costs.aceroEstructural,current:N,text:"Acero Estructural"},{amount:5,current:r.reinforcedAdvanced,text:"Drones Avanzados Reforzados"},{amount:1,current:d.golemChassis,text:"Investigación: Chasis Golem"}],i),className:`build-button ${n>=s.workshop.golem.costs.scrap&&N>=s.workshop.golem.costs.aceroEstructural&&r.reinforcedAdvanced>=5&&d.golemChassis>0?"unlocked":""}`,children:["Encargar Dron Golem ",F>0&&`(${F})`]}),o.golem.queue>0&&e.jsx(D,{itemName:"golem",onCancel:f})]})]}),e.jsx("img",{src:je,alt:"Dron Golem",className:"drone-item-image"})]}),d.golemChassis>0&&e.jsxs("div",{className:`drone-item ${n>=s.workshop.wyrm.costs.scrap&&N>=s.workshop.wyrm.costs.aceroEstructural&&r.golem>=1?"unlocked":""} ${r.golem>=1?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#F43F5E"},children:"Dron Wyrm (DW-1)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Descripción:"})," Una maravilla de la ingeniería. Sintetiza Acero Estructural de forma pasiva a partir de la energía de su núcleo."]}),e.jsxs("p",{children:["Consumo: ",a(500,i)," energía/segundo"]}),e.jsx("p",{children:"Produce: 0.25 Acero Estructural/s"}),e.jsxs("p",{children:["Coste: ",a(s.workshop.wyrm.costs.scrap,i)," chatarra, ",a(s.workshop.wyrm.costs.aceroEstructural,i)," acero estructural"]}),e.jsx("p",{children:"Requisitos: 1 Dron Golem"}),e.jsxs("p",{children:["Flota: ",r.wyrm," ",o.wyrm.queue>0?`| En cola: ${o.wyrm.queue} | Tiempo: ~${l(o.wyrm.queue*o.wyrm.time)}`:""]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(g,{upgrades:d,droneType:"wyrm",onDismantle:x,droneCount:r.wyrm,buyAmount:c})}),o.wyrm.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l(o.wyrm.time)]}),e.jsx(k,{progress:o.wyrm.progress,time:o.wyrm.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(p,{onClick:V,disabled:n<s.workshop.wyrm.costs.scrap||N<s.workshop.wyrm.costs.aceroEstructural||r.golem<1,tooltipText:v([{amount:s.workshop.wyrm.costs.scrap,current:n,text:"Chatarra"},{amount:s.workshop.wyrm.costs.aceroEstructural,current:N,text:"Acero"},{amount:1,current:r.golem,text:"Drones Golem"}],i),className:`build-button ${n>=s.workshop.wyrm.costs.scrap&&N>=s.workshop.wyrm.costs.aceroEstructural&&r.golem>=1?"unlocked":""}`,children:["Encargar Dron Wyrm ",ee>0&&`(${ee})`]}),o.wyrm.queue>0&&e.jsx(D,{itemName:"wyrm",onCancel:f})]}),r.golem<1&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Dron Golem para desbloquear"})]}),e.jsx("img",{src:ve,alt:"Dron Wyrm",className:"drone-item-image"})]})]})]})})}),g=({upgrades:h,droneType:r,droneCount:m,buyAmount:o,onDismantle:d})=>h.reassignProtocols?e.jsx("button",{onClick:()=>d(r,o),disabled:m<=0,style:{padding:"0.5rem",backgroundColor:m>0?"#EF4444":"#374151",color:"white",border:"none",borderRadius:"4px",cursor:m>0?"pointer":"not-allowed",fontSize:"0.8rem",width:"100px"},children:"Desmantelar"}):null,se=({resources:h,upgrades:r,droneType:m,toDrone:o,droneCount:d,onRetrofit:I,numberFormat:U})=>{var V,x;if(!r.droneRetrofitting)return e.jsx("div",{style:{width:"100px"}});const P=((V=oe[m])==null?void 0:V.cost)||{},G=((x=oe[o])==null?void 0:x.cost)||{},z={};let y=!0,M="Reacondicionar: ";const S=Object.entries(G);for(const[R,c]of S){const O=P[R]||0,u=c-O;u>0&&(z[R]=u,h[R]<u&&(y=!1),M+=`${a(u,U)} ${R}, `)}Object.keys(z).length===0?M="Mejora gratuita":M=M.slice(0,-2);const A=d>0&&y;return e.jsx(p,{onClick:()=>I(m,o),disabled:!A,tooltipText:d>0?M:"No hay drones para reacondicionar",className:`build-button retrofit-button ${A?"unlocked":""}`,children:"Mejorar"})};export{we as default};
