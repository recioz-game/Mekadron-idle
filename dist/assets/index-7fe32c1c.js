var nd=Object.defineProperty;var td=(e,r,n)=>r in e?nd(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var js=(e,r,n)=>(td(e,typeof r!="symbol"?r+"":r,n),n);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Pl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fl={exports:{}},Ho={},Bl={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=Symbol.for("react.element"),od=Symbol.for("react.portal"),id=Symbol.for("react.fragment"),ad=Symbol.for("react.strict_mode"),sd=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),cd=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),dd=Symbol.for("react.suspense"),pd=Symbol.for("react.memo"),md=Symbol.for("react.lazy"),ws=Symbol.iterator;function fd(e){return e===null||typeof e!="object"?null:(e=ws&&e[ws]||e["@@iterator"],typeof e=="function"?e:null)}var zl={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ll=Object.assign,Ol={};function Gn(e,r,n){this.props=e,this.context=r,this.refs=Ol,this.updater=n||zl}Gn.prototype.isReactComponent={};Gn.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Gn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ul(){}Ul.prototype=Gn.prototype;function ba(e,r,n){this.props=e,this.context=r,this.refs=Ol,this.updater=n||zl}var Aa=ba.prototype=new Ul;Aa.constructor=ba;Ll(Aa,Gn.prototype);Aa.isPureReactComponent=!0;var ks=Array.isArray,ql=Object.prototype.hasOwnProperty,Da={current:null},$l={key:!0,ref:!0,__self:!0,__source:!0};function Hl(e,r,n){var t,o={},a=null,s=null;if(r!=null)for(t in r.ref!==void 0&&(s=r.ref),r.key!==void 0&&(a=""+r.key),r)ql.call(r,t)&&!$l.hasOwnProperty(t)&&(o[t]=r[t]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(t in l=e.defaultProps,l)o[t]===void 0&&(o[t]=l[t]);return{$$typeof:Bt,type:e,key:a,ref:s,props:o,_owner:Da.current}}function hd(e,r){return{$$typeof:Bt,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Ma(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bt}function gd(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var Rs=/\/+/g;function ci(e,r){return typeof e=="object"&&e!==null&&e.key!=null?gd(""+e.key):r.toString(36)}function ao(e,r,n,t,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Bt:case od:s=!0}}if(s)return s=e,o=o(s),e=t===""?"."+ci(s,0):t,ks(o)?(n="",e!=null&&(n=e.replace(Rs,"$&/")+"/"),ao(o,r,n,"",function(u){return u})):o!=null&&(Ma(o)&&(o=hd(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Rs,"$&/")+"/")+e)),r.push(o)),1;if(s=0,t=t===""?".":t+":",ks(e))for(var l=0;l<e.length;l++){a=e[l];var c=t+ci(a,l);s+=ao(a,r,n,c,o)}else if(c=fd(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=t+ci(a,l++),s+=ao(a,r,n,c,o);else if(a==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return s}function qt(e,r,n){if(e==null)return e;var t=[],o=0;return ao(e,t,"","",function(a){return r.call(n,a,o++)}),t}function yd(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},so={transition:null},xd={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:so,ReactCurrentOwner:Da};function Vl(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:qt,forEach:function(e,r,n){qt(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return qt(e,function(){r++}),r},toArray:function(e){return qt(e,function(r){return r})||[]},only:function(e){if(!Ma(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Gn;z.Fragment=id;z.Profiler=sd;z.PureComponent=ba;z.StrictMode=ad;z.Suspense=dd;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xd;z.act=Vl;z.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var t=Ll({},e.props),o=e.key,a=e.ref,s=e._owner;if(r!=null){if(r.ref!==void 0&&(a=r.ref,s=Da.current),r.key!==void 0&&(o=""+r.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in r)ql.call(r,c)&&!$l.hasOwnProperty(c)&&(t[c]=r[c]===void 0&&l!==void 0?l[c]:r[c])}var c=arguments.length-2;if(c===1)t.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];t.children=l}return{$$typeof:Bt,type:e.type,key:o,ref:a,props:t,_owner:s}};z.createContext=function(e){return e={$$typeof:cd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ld,_context:e},e.Consumer=e};z.createElement=Hl;z.createFactory=function(e){var r=Hl.bind(null,e);return r.type=e,r};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:ud,render:e}};z.isValidElement=Ma;z.lazy=function(e){return{$$typeof:md,_payload:{_status:-1,_result:e},_init:yd}};z.memo=function(e,r){return{$$typeof:pd,type:e,compare:r===void 0?null:r}};z.startTransition=function(e){var r=so.transition;so.transition={};try{e()}finally{so.transition=r}};z.unstable_act=Vl;z.useCallback=function(e,r){return Be.current.useCallback(e,r)};z.useContext=function(e){return Be.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};z.useEffect=function(e,r){return Be.current.useEffect(e,r)};z.useId=function(){return Be.current.useId()};z.useImperativeHandle=function(e,r,n){return Be.current.useImperativeHandle(e,r,n)};z.useInsertionEffect=function(e,r){return Be.current.useInsertionEffect(e,r)};z.useLayoutEffect=function(e,r){return Be.current.useLayoutEffect(e,r)};z.useMemo=function(e,r){return Be.current.useMemo(e,r)};z.useReducer=function(e,r,n){return Be.current.useReducer(e,r,n)};z.useRef=function(e){return Be.current.useRef(e)};z.useState=function(e){return Be.current.useState(e)};z.useSyncExternalStore=function(e,r,n){return Be.current.useSyncExternalStore(e,r,n)};z.useTransition=function(){return Be.current.useTransition()};z.version="18.3.1";Bl.exports=z;var k=Bl.exports;const dr=Pl(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=k,Cd=Symbol.for("react.element"),Ed=Symbol.for("react.fragment"),Sd=Object.prototype.hasOwnProperty,jd=vd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wd={key:!0,ref:!0,__self:!0,__source:!0};function Wl(e,r,n){var t,o={},a=null,s=null;n!==void 0&&(a=""+n),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(s=r.ref);for(t in r)Sd.call(r,t)&&!wd.hasOwnProperty(t)&&(o[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps,r)o[t]===void 0&&(o[t]=r[t]);return{$$typeof:Cd,type:e,key:a,ref:s,props:o,_owner:jd.current}}Ho.Fragment=Ed;Ho.jsx=Wl;Ho.jsxs=Wl;Fl.exports=Ho;var i=Fl.exports,Pi={},Gl={exports:{}},Qe={},Ql={exports:{}},Yl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(A,D){var N=A.length;A.push(D);e:for(;0<N;){var H=N-1>>>1,F=A[H];if(0<o(F,D))A[H]=D,A[N]=F,N=H;else break e}}function n(A){return A.length===0?null:A[0]}function t(A){if(A.length===0)return null;var D=A[0],N=A.pop();if(N!==D){A[0]=N;e:for(var H=0,F=A.length,Ne=F>>>1;H<Ne;){var Se=2*(H+1)-1,Re=A[Se],Y=Se+1,ne=A[Y];if(0>o(Re,N))Y<F&&0>o(ne,Re)?(A[H]=ne,A[Y]=N,H=Y):(A[H]=Re,A[Se]=N,H=Se);else if(Y<F&&0>o(ne,N))A[H]=ne,A[Y]=N,H=Y;else break e}}return D}function o(A,D){var N=A.sortIndex-D.sortIndex;return N!==0?N:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,g=null,p=3,v=!1,m=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var D=n(u);D!==null;){if(D.callback===null)t(u);else if(D.startTime<=A)t(u),D.sortIndex=D.expirationTime,r(c,D);else break;D=n(u)}}function x(A){if(C=!1,y(A),!m)if(n(c)!==null)m=!0,ce(S);else{var D=n(u);D!==null&&xe(x,D.startTime-A)}}function S(A,D){m=!1,C&&(C=!1,h(_),_=-1),v=!0;var N=p;try{for(y(D),g=n(c);g!==null&&(!(g.expirationTime>D)||A&&!I());){var H=g.callback;if(typeof H=="function"){g.callback=null,p=g.priorityLevel;var F=H(g.expirationTime<=D);D=e.unstable_now(),typeof F=="function"?g.callback=F:g===n(c)&&t(c),y(D)}else t(c);g=n(c)}if(g!==null)var Ne=!0;else{var Se=n(u);Se!==null&&xe(x,Se.startTime-D),Ne=!1}return Ne}finally{g=null,p=N,v=!1}}var b=!1,j=null,_=-1,P=5,T=-1;function I(){return!(e.unstable_now()-T<P)}function $(){if(j!==null){var A=e.unstable_now();T=A;var D=!0;try{D=j(!0,A)}finally{D?L():(b=!1,j=null)}}else b=!1}var L;if(typeof f=="function")L=function(){f($)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=$,L=function(){Q.postMessage(null)}}else L=function(){w($,0)};function ce(A){j=A,b||(b=!0,L())}function xe(A,D){_=w(function(){A(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||v||(m=!0,ce(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var N=p;p=D;try{return A()}finally{p=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var N=p;p=A;try{return D()}finally{p=N}},e.unstable_scheduleCallback=function(A,D,N){var H=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?H+N:H):N=H,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=N+F,A={id:d++,callback:D,priorityLevel:A,startTime:N,expirationTime:F,sortIndex:-1},N>H?(A.sortIndex=N,r(u,A),n(c)===null&&A===n(u)&&(C?(h(_),_=-1):C=!0,xe(x,N-H))):(A.sortIndex=F,r(c,A),m||v||(m=!0,ce(S))),A},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(A){var D=p;return function(){var N=p;p=D;try{return A.apply(this,arguments)}finally{p=N}}}})(Yl);Ql.exports=Yl;var kd=Ql.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=k,Ge=kd;function R(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kl=new Set,Ct={};function gn(e,r){On(e,r),On(e+"Capture",r)}function On(e,r){for(Ct[e]=r,e=0;e<r.length;e++)Kl.add(r[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=Object.prototype.hasOwnProperty,_d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_s={},bs={};function bd(e){return Fi.call(bs,e)?!0:Fi.call(_s,e)?!1:_d.test(e)?bs[e]=!0:(_s[e]=!0,!1)}function Ad(e,r,n,t){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return t?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dd(e,r,n,t){if(r===null||typeof r>"u"||Ad(e,r,n,t))return!0;if(t)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function ze(e,r,n,t,o,a,s){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=t,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=a,this.removeEmptyString=s}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ke[r]=new ze(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ta=/[\-:]([a-z])/g;function Na(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(Ta,Na);ke[r]=new ze(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(Ta,Na);ke[r]=new ze(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(Ta,Na);ke[r]=new ze(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ia(e,r,n,t){var o=ke.hasOwnProperty(r)?ke[r]:null;(o!==null?o.type!==0:t||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Dd(r,n,o,t)&&(n=null),t||o===null?bd(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(r=o.attributeName,t=o.attributeNamespace,n===null?e.removeAttribute(r):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,t?e.setAttributeNS(t,r,n):e.setAttribute(r,n))))}var _r=Rd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$t=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),Pa=Symbol.for("react.strict_mode"),Bi=Symbol.for("react.profiler"),Xl=Symbol.for("react.provider"),Zl=Symbol.for("react.context"),Fa=Symbol.for("react.forward_ref"),zi=Symbol.for("react.suspense"),Li=Symbol.for("react.suspense_list"),Ba=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),Jl=Symbol.for("react.offscreen"),As=Symbol.iterator;function Jn(e){return e===null||typeof e!="object"?null:(e=As&&e[As]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,ui;function st(e){if(ui===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);ui=r&&r[1]||""}return`
`+ui+e}var di=!1;function pi(e,r){if(!e||di)return"";di=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(u){var t=u}Reflect.construct(e,[],r)}else{try{r.call()}catch(u){t=u}e.call(r.prototype)}else{try{throw Error()}catch(u){t=u}e()}}catch(u){if(u&&t&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),a=t.stack.split(`
`),s=o.length-1,l=a.length-1;1<=s&&0<=l&&o[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==a[l]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{di=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?st(e):""}function Md(e){switch(e.tag){case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 2:case 15:return e=pi(e.type,!1),e;case 11:return e=pi(e.type.render,!1),e;case 1:return e=pi(e.type,!0),e;default:return""}}function Oi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jn:return"Fragment";case Sn:return"Portal";case Bi:return"Profiler";case Pa:return"StrictMode";case zi:return"Suspense";case Li:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zl:return(e.displayName||"Context")+".Consumer";case Xl:return(e._context.displayName||"Context")+".Provider";case Fa:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ba:return r=e.displayName||null,r!==null?r:Oi(e.type)||"Memo";case Mr:r=e._payload,e=e._init;try{return Oi(e(r))}catch{}}return null}function Td(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oi(r);case 8:return r===Pa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ec(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nd(e){var r=ec(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),t=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return o.call(this)},set:function(s){t=""+s,a.call(this,s)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return t},setValue:function(s){t=""+s},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ht(e){e._valueTracker||(e._valueTracker=Nd(e))}function rc(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),t="";return e&&(t=ec(e)?e.checked?"true":"false":e.value),e=t,e!==n?(r.setValue(e),!0):!1}function Co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ui(e,r){var n=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ds(e,r){var n=r.defaultValue==null?"":r.defaultValue,t=r.checked!=null?r.checked:r.defaultChecked;n=Vr(r.value!=null?r.value:n),e._wrapperState={initialChecked:t,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function nc(e,r){r=r.checked,r!=null&&Ia(e,"checked",r,!1)}function qi(e,r){nc(e,r);var n=Vr(r.value),t=r.type;if(n!=null)t==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(t==="submit"||t==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?$i(e,r.type,n):r.hasOwnProperty("defaultValue")&&$i(e,r.type,Vr(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Ms(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var t=r.type;if(!(t!=="submit"&&t!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $i(e,r,n){(r!=="number"||Co(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lt=Array.isArray;function In(e,r,n,t){if(e=e.options,r){r={};for(var o=0;o<n.length;o++)r["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=r.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&t&&(e[n].defaultSelected=!0)}else{for(n=""+Vr(n),r=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,t&&(e[o].defaultSelected=!0);return}r!==null||e[o].disabled||(r=e[o])}r!==null&&(r.selected=!0)}}function Hi(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(R(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ts(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(R(92));if(lt(n)){if(1<n.length)throw Error(R(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:Vr(n)}}function tc(e,r){var n=Vr(r.value),t=Vr(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),t!=null&&(e.defaultValue=""+t)}function Ns(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function oc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vi(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?oc(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vt,ic=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,t,o){MSApp.execUnsafeLocalFunction(function(){return e(r,n,t,o)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Vt=Vt||document.createElement("div"),Vt.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Vt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Et(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Id=["Webkit","ms","Moz","O"];Object.keys(dt).forEach(function(e){Id.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),dt[r]=dt[e]})});function ac(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||dt.hasOwnProperty(e)&&dt[e]?(""+r).trim():r+"px"}function sc(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var t=n.indexOf("--")===0,o=ac(n,r[n],t);n==="float"&&(n="cssFloat"),t?e.setProperty(n,o):e[n]=o}}var Pd=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wi(e,r){if(r){if(Pd[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(R(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(R(61))}if(r.style!=null&&typeof r.style!="object")throw Error(R(62))}}function Gi(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qi=null;function za(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yi=null,Pn=null,Fn=null;function Is(e){if(e=Ot(e)){if(typeof Yi!="function")throw Error(R(280));var r=e.stateNode;r&&(r=Yo(r),Yi(e.stateNode,e.type,r))}}function lc(e){Pn?Fn?Fn.push(e):Fn=[e]:Pn=e}function cc(){if(Pn){var e=Pn,r=Fn;if(Fn=Pn=null,Is(e),r)for(e=0;e<r.length;e++)Is(r[e])}}function uc(e,r){return e(r)}function dc(){}var mi=!1;function pc(e,r,n){if(mi)return e(r,n);mi=!0;try{return uc(e,r,n)}finally{mi=!1,(Pn!==null||Fn!==null)&&(dc(),cc())}}function St(e,r){var n=e.stateNode;if(n===null)return null;var t=Yo(n);if(t===null)return null;n=t[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(e=e.type,t=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!t;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,r,typeof n));return n}var Ki=!1;if(jr)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ki=!1}function Fd(e,r,n,t,o,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{r.apply(n,u)}catch(d){this.onError(d)}}var pt=!1,Eo=null,So=!1,Xi=null,Bd={onError:function(e){pt=!0,Eo=e}};function zd(e,r,n,t,o,a,s,l,c){pt=!1,Eo=null,Fd.apply(Bd,arguments)}function Ld(e,r,n,t,o,a,s,l,c){if(zd.apply(this,arguments),pt){if(pt){var u=Eo;pt=!1,Eo=null}else throw Error(R(198));So||(So=!0,Xi=u)}}function yn(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function mc(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Ps(e){if(yn(e)!==e)throw Error(R(188))}function Od(e){var r=e.alternate;if(!r){if(r=yn(e),r===null)throw Error(R(188));return r!==e?null:e}for(var n=e,t=r;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(t=o.return,t!==null){n=t;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ps(o),e;if(a===t)return Ps(o),r;a=a.sibling}throw Error(R(188))}if(n.return!==t.return)n=o,t=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,t=a;break}if(l===t){s=!0,t=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,t=o;break}if(l===t){s=!0,t=a,n=o;break}l=l.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==t)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:r}function fc(e){return e=Od(e),e!==null?hc(e):null}function hc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=hc(e);if(r!==null)return r;e=e.sibling}return null}var gc=Ge.unstable_scheduleCallback,Fs=Ge.unstable_cancelCallback,Ud=Ge.unstable_shouldYield,qd=Ge.unstable_requestPaint,de=Ge.unstable_now,$d=Ge.unstable_getCurrentPriorityLevel,La=Ge.unstable_ImmediatePriority,yc=Ge.unstable_UserBlockingPriority,jo=Ge.unstable_NormalPriority,Hd=Ge.unstable_LowPriority,xc=Ge.unstable_IdlePriority,Vo=null,gr=null;function Vd(e){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:Qd,Wd=Math.log,Gd=Math.LN2;function Qd(e){return e>>>=0,e===0?32:31-(Wd(e)/Gd|0)|0}var Wt=64,Gt=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wo(e,r){var n=e.pendingLanes;if(n===0)return 0;var t=0,o=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?t=ct(l):(a&=s,a!==0&&(t=ct(a)))}else s=n&~o,s!==0?t=ct(s):a!==0&&(t=ct(a));if(t===0)return 0;if(r!==0&&r!==t&&!(r&o)&&(o=t&-t,a=r&-r,o>=a||o===16&&(a&4194240)!==0))return r;if(t&4&&(t|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=t;0<r;)n=31-lr(r),o=1<<n,t|=e[n],r&=~o;return t}function Yd(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(e,r){for(var n=e.suspendedLanes,t=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-lr(a),l=1<<s,c=o[s];c===-1?(!(l&n)||l&t)&&(o[s]=Yd(l,r)):c<=r&&(e.expiredLanes|=l),a&=~l}}function Zi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vc(){var e=Wt;return Wt<<=1,!(Wt&4194240)&&(Wt=64),e}function fi(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function zt(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-lr(r),e[r]=n}function Xd(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var t=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-lr(n),a=1<<o;r[o]=0,t[o]=-1,e[o]=-1,n&=~a}}function Oa(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var t=31-lr(n),o=1<<t;o&r|e[t]&r&&(e[t]|=r),n&=~o}}var W=0;function Cc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Ua,Sc,jc,wc,Ji=!1,Qt=[],Br=null,zr=null,Lr=null,jt=new Map,wt=new Map,Nr=[],Zd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bs(e,r){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":jt.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wt.delete(r.pointerId)}}function rt(e,r,n,t,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:r,domEventName:n,eventSystemFlags:t,nativeEvent:a,targetContainers:[o]},r!==null&&(r=Ot(r),r!==null&&Ua(r)),e):(e.eventSystemFlags|=t,r=e.targetContainers,o!==null&&r.indexOf(o)===-1&&r.push(o),e)}function Jd(e,r,n,t,o){switch(r){case"focusin":return Br=rt(Br,e,r,n,t,o),!0;case"dragenter":return zr=rt(zr,e,r,n,t,o),!0;case"mouseover":return Lr=rt(Lr,e,r,n,t,o),!0;case"pointerover":var a=o.pointerId;return jt.set(a,rt(jt.get(a)||null,e,r,n,t,o)),!0;case"gotpointercapture":return a=o.pointerId,wt.set(a,rt(wt.get(a)||null,e,r,n,t,o)),!0}return!1}function kc(e){var r=tn(e.target);if(r!==null){var n=yn(r);if(n!==null){if(r=n.tag,r===13){if(r=mc(n),r!==null){e.blockedOn=r,wc(e.priority,function(){Sc(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=ea(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var t=new n.constructor(n.type,n);Qi=t,n.target.dispatchEvent(t),Qi=null}else return r=Ot(n),r!==null&&Ua(r),e.blockedOn=n,!1;r.shift()}return!0}function zs(e,r,n){lo(e)&&n.delete(r)}function ep(){Ji=!1,Br!==null&&lo(Br)&&(Br=null),zr!==null&&lo(zr)&&(zr=null),Lr!==null&&lo(Lr)&&(Lr=null),jt.forEach(zs),wt.forEach(zs)}function nt(e,r){e.blockedOn===r&&(e.blockedOn=null,Ji||(Ji=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,ep)))}function kt(e){function r(o){return nt(o,e)}if(0<Qt.length){nt(Qt[0],e);for(var n=1;n<Qt.length;n++){var t=Qt[n];t.blockedOn===e&&(t.blockedOn=null)}}for(Br!==null&&nt(Br,e),zr!==null&&nt(zr,e),Lr!==null&&nt(Lr,e),jt.forEach(r),wt.forEach(r),n=0;n<Nr.length;n++)t=Nr[n],t.blockedOn===e&&(t.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)kc(n),n.blockedOn===null&&Nr.shift()}var Bn=_r.ReactCurrentBatchConfig,ko=!0;function rp(e,r,n,t){var o=W,a=Bn.transition;Bn.transition=null;try{W=1,qa(e,r,n,t)}finally{W=o,Bn.transition=a}}function np(e,r,n,t){var o=W,a=Bn.transition;Bn.transition=null;try{W=4,qa(e,r,n,t)}finally{W=o,Bn.transition=a}}function qa(e,r,n,t){if(ko){var o=ea(e,r,n,t);if(o===null)wi(e,r,t,Ro,n),Bs(e,t);else if(Jd(o,e,r,n,t))t.stopPropagation();else if(Bs(e,t),r&4&&-1<Zd.indexOf(e)){for(;o!==null;){var a=Ot(o);if(a!==null&&Ec(a),a=ea(e,r,n,t),a===null&&wi(e,r,t,Ro,n),a===o)break;o=a}o!==null&&t.stopPropagation()}else wi(e,r,t,null,n)}}var Ro=null;function ea(e,r,n,t){if(Ro=null,e=za(t),e=tn(e),e!==null)if(r=yn(e),r===null)e=null;else if(n=r.tag,n===13){if(e=mc(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Ro=e,null}function Rc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($d()){case La:return 1;case yc:return 4;case jo:case Hd:return 16;case xc:return 536870912;default:return 16}default:return 16}}var Pr=null,$a=null,co=null;function _c(){if(co)return co;var e,r=$a,n=r.length,t,o="value"in Pr?Pr.value:Pr.textContent,a=o.length;for(e=0;e<n&&r[e]===o[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===o[a-t];t++);return co=o.slice(e,1<t?1-t:void 0)}function uo(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Yt(){return!0}function Ls(){return!1}function Ye(e){function r(n,t,o,a,s){this._reactName=n,this._targetInst=o,this.type=t,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yt:Ls,this.isPropagationStopped=Ls,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),r}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Ye(Qn),Lt=ie({},Qn,{view:0,detail:0}),tp=Ye(Lt),hi,gi,tt,Wo=ie({},Lt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tt&&(tt&&e.type==="mousemove"?(hi=e.screenX-tt.screenX,gi=e.screenY-tt.screenY):gi=hi=0,tt=e),hi)},movementY:function(e){return"movementY"in e?e.movementY:gi}}),Os=Ye(Wo),op=ie({},Wo,{dataTransfer:0}),ip=Ye(op),ap=ie({},Lt,{relatedTarget:0}),yi=Ye(ap),sp=ie({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),lp=Ye(sp),cp=ie({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),up=Ye(cp),dp=ie({},Qn,{data:0}),Us=Ye(dp),pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hp(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=fp[e])?!!r[e]:!1}function Va(){return hp}var gp=ie({},Lt,{key:function(e){if(e.key){var r=pp[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(e){return e.type==="keypress"?uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yp=Ye(gp),xp=ie({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=Ye(xp),vp=ie({},Lt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),Cp=Ye(vp),Ep=ie({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sp=Ye(Ep),jp=ie({},Wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wp=Ye(jp),kp=[9,13,27,32],Wa=jr&&"CompositionEvent"in window,mt=null;jr&&"documentMode"in document&&(mt=document.documentMode);var Rp=jr&&"TextEvent"in window&&!mt,bc=jr&&(!Wa||mt&&8<mt&&11>=mt),$s=String.fromCharCode(32),Hs=!1;function Ac(e,r){switch(e){case"keyup":return kp.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function _p(e,r){switch(e){case"compositionend":return Dc(r);case"keypress":return r.which!==32?null:(Hs=!0,$s);case"textInput":return e=r.data,e===$s&&Hs?null:e;default:return null}}function bp(e,r){if(wn)return e==="compositionend"||!Wa&&Ac(e,r)?(e=_c(),co=$a=Pr=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return bc&&r.locale!=="ko"?null:r.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vs(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ap[e.type]:r==="textarea"}function Mc(e,r,n,t){lc(t),r=_o(r,"onChange"),0<r.length&&(n=new Ha("onChange","change",null,n,t),e.push({event:n,listeners:r}))}var ft=null,Rt=null;function Dp(e){qc(e,0)}function Go(e){var r=_n(e);if(rc(r))return e}function Mp(e,r){if(e==="change")return r}var Tc=!1;if(jr){var xi;if(jr){var vi="oninput"in document;if(!vi){var Ws=document.createElement("div");Ws.setAttribute("oninput","return;"),vi=typeof Ws.oninput=="function"}xi=vi}else xi=!1;Tc=xi&&(!document.documentMode||9<document.documentMode)}function Gs(){ft&&(ft.detachEvent("onpropertychange",Nc),Rt=ft=null)}function Nc(e){if(e.propertyName==="value"&&Go(Rt)){var r=[];Mc(r,Rt,e,za(e)),pc(Dp,r)}}function Tp(e,r,n){e==="focusin"?(Gs(),ft=r,Rt=n,ft.attachEvent("onpropertychange",Nc)):e==="focusout"&&Gs()}function Np(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Go(Rt)}function Ip(e,r){if(e==="click")return Go(r)}function Pp(e,r){if(e==="input"||e==="change")return Go(r)}function Fp(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var ur=typeof Object.is=="function"?Object.is:Fp;function _t(e,r){if(ur(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),t=Object.keys(r);if(n.length!==t.length)return!1;for(t=0;t<n.length;t++){var o=n[t];if(!Fi.call(r,o)||!ur(e[o],r[o]))return!1}return!0}function Qs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ys(e,r){var n=Qs(e);e=0;for(var t;n;){if(n.nodeType===3){if(t=e+n.textContent.length,e<=r&&t>=r)return{node:n,offset:r-e};e=t}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qs(n)}}function Ic(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Ic(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Pc(){for(var e=window,r=Co();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=Co(e.document)}return r}function Ga(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Bp(e){var r=Pc(),n=e.focusedElem,t=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&Ic(n.ownerDocument.documentElement,n)){if(t!==null&&Ga(n)){if(r=t.start,e=t.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(t.start,o);t=t.end===void 0?a:Math.min(t.end,o),!e.extend&&a>t&&(o=t,t=a,a=o),o=Ys(n,a);var s=Ys(n,t);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(r=r.createRange(),r.setStart(o.node,o.offset),e.removeAllRanges(),a>t?(e.addRange(r),e.extend(s.node,s.offset)):(r.setEnd(s.node,s.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zp=jr&&"documentMode"in document&&11>=document.documentMode,kn=null,ra=null,ht=null,na=!1;function Ks(e,r,n){var t=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;na||kn==null||kn!==Co(t)||(t=kn,"selectionStart"in t&&Ga(t)?t={start:t.selectionStart,end:t.selectionEnd}:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection(),t={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}),ht&&_t(ht,t)||(ht=t,t=_o(ra,"onSelect"),0<t.length&&(r=new Ha("onSelect","select",null,r,n),e.push({event:r,listeners:t}),r.target=kn)))}function Kt(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var Rn={animationend:Kt("Animation","AnimationEnd"),animationiteration:Kt("Animation","AnimationIteration"),animationstart:Kt("Animation","AnimationStart"),transitionend:Kt("Transition","TransitionEnd")},Ci={},Fc={};jr&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function Qo(e){if(Ci[e])return Ci[e];if(!Rn[e])return e;var r=Rn[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in Fc)return Ci[e]=r[n];return e}var Bc=Qo("animationend"),zc=Qo("animationiteration"),Lc=Qo("animationstart"),Oc=Qo("transitionend"),Uc=new Map,Xs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(e,r){Uc.set(e,r),gn(r,[e])}for(var Ei=0;Ei<Xs.length;Ei++){var Si=Xs[Ei],Lp=Si.toLowerCase(),Op=Si[0].toUpperCase()+Si.slice(1);Gr(Lp,"on"+Op)}Gr(Bc,"onAnimationEnd");Gr(zc,"onAnimationIteration");Gr(Lc,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(Oc,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ut="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Up=new Set("cancel close invalid load scroll toggle".split(" ").concat(ut));function Zs(e,r,n){var t=e.type||"unknown-event";e.currentTarget=n,Ld(t,r,void 0,e),e.currentTarget=null}function qc(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var t=e[n],o=t.event;t=t.listeners;e:{var a=void 0;if(r)for(var s=t.length-1;0<=s;s--){var l=t[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&o.isPropagationStopped())break e;Zs(o,l,u),a=c}else for(s=0;s<t.length;s++){if(l=t[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&o.isPropagationStopped())break e;Zs(o,l,u),a=c}}}if(So)throw e=Xi,So=!1,Xi=null,e}function J(e,r){var n=r[sa];n===void 0&&(n=r[sa]=new Set);var t=e+"__bubble";n.has(t)||($c(r,e,2,!1),n.add(t))}function ji(e,r,n){var t=0;r&&(t|=4),$c(n,e,t,r)}var Xt="_reactListening"+Math.random().toString(36).slice(2);function bt(e){if(!e[Xt]){e[Xt]=!0,Kl.forEach(function(n){n!=="selectionchange"&&(Up.has(n)||ji(n,!1,e),ji(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Xt]||(r[Xt]=!0,ji("selectionchange",!1,r))}}function $c(e,r,n,t){switch(Rc(r)){case 1:var o=rp;break;case 4:o=np;break;default:o=qa}n=o.bind(null,r,n,e),o=void 0,!Ki||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(o=!0),t?o!==void 0?e.addEventListener(r,n,{capture:!0,passive:o}):e.addEventListener(r,n,!0):o!==void 0?e.addEventListener(r,n,{passive:o}):e.addEventListener(r,n,!1)}function wi(e,r,n,t,o){var a=t;if(!(r&1)&&!(r&2)&&t!==null)e:for(;;){if(t===null)return;var s=t.tag;if(s===3||s===4){var l=t.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=t.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;l!==null;){if(s=tn(l),s===null)return;if(c=s.tag,c===5||c===6){t=a=s;continue e}l=l.parentNode}}t=t.return}pc(function(){var u=a,d=za(n),g=[];e:{var p=Uc.get(e);if(p!==void 0){var v=Ha,m=e;switch(e){case"keypress":if(uo(n)===0)break e;case"keydown":case"keyup":v=yp;break;case"focusin":m="focus",v=yi;break;case"focusout":m="blur",v=yi;break;case"beforeblur":case"afterblur":v=yi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Cp;break;case Bc:case zc:case Lc:v=lp;break;case Oc:v=Sp;break;case"scroll":v=tp;break;case"wheel":v=wp;break;case"copy":case"cut":case"paste":v=up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=qs}var C=(r&4)!==0,w=!C&&e==="scroll",h=C?p!==null?p+"Capture":null:p;C=[];for(var f=u,y;f!==null;){y=f;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,h!==null&&(x=St(f,h),x!=null&&C.push(At(f,x,y)))),w)break;f=f.return}0<C.length&&(p=new v(p,m,null,n,d),g.push({event:p,listeners:C}))}}if(!(r&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==Qi&&(m=n.relatedTarget||n.fromElement)&&(tn(m)||m[wr]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(m=n.relatedTarget||n.toElement,v=u,m=m?tn(m):null,m!==null&&(w=yn(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=u),v!==m)){if(C=Os,x="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(C=qs,x="onPointerLeave",h="onPointerEnter",f="pointer"),w=v==null?p:_n(v),y=m==null?p:_n(m),p=new C(x,f+"leave",v,n,d),p.target=w,p.relatedTarget=y,x=null,tn(d)===u&&(C=new C(h,f+"enter",m,n,d),C.target=y,C.relatedTarget=w,x=C),w=x,v&&m)r:{for(C=v,h=m,f=0,y=C;y;y=En(y))f++;for(y=0,x=h;x;x=En(x))y++;for(;0<f-y;)C=En(C),f--;for(;0<y-f;)h=En(h),y--;for(;f--;){if(C===h||h!==null&&C===h.alternate)break r;C=En(C),h=En(h)}C=null}else C=null;v!==null&&Js(g,p,v,C,!1),m!==null&&w!==null&&Js(g,w,m,C,!0)}}e:{if(p=u?_n(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var S=Mp;else if(Vs(p))if(Tc)S=Pp;else{S=Np;var b=Tp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Ip);if(S&&(S=S(e,u))){Mc(g,S,n,d);break e}b&&b(e,p,u),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&$i(p,"number",p.value)}switch(b=u?_n(u):window,e){case"focusin":(Vs(b)||b.contentEditable==="true")&&(kn=b,ra=u,ht=null);break;case"focusout":ht=ra=kn=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,Ks(g,n,d);break;case"selectionchange":if(zp)break;case"keydown":case"keyup":Ks(g,n,d)}var j;if(Wa)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else wn?Ac(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(bc&&n.locale!=="ko"&&(wn||_!=="onCompositionStart"?_==="onCompositionEnd"&&wn&&(j=_c()):(Pr=d,$a="value"in Pr?Pr.value:Pr.textContent,wn=!0)),b=_o(u,_),0<b.length&&(_=new Us(_,e,null,n,d),g.push({event:_,listeners:b}),j?_.data=j:(j=Dc(n),j!==null&&(_.data=j)))),(j=Rp?_p(e,n):bp(e,n))&&(u=_o(u,"onBeforeInput"),0<u.length&&(d=new Us("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:u}),d.data=j))}qc(g,r)})}function At(e,r,n){return{instance:e,listener:r,currentTarget:n}}function _o(e,r){for(var n=r+"Capture",t=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=St(e,n),a!=null&&t.unshift(At(e,a,o)),a=St(e,r),a!=null&&t.push(At(e,a,o))),e=e.return}return t}function En(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Js(e,r,n,t,o){for(var a=r._reactName,s=[];n!==null&&n!==t;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===t)break;l.tag===5&&u!==null&&(l=u,o?(c=St(n,a),c!=null&&s.unshift(At(n,c,l))):o||(c=St(n,a),c!=null&&s.push(At(n,c,l)))),n=n.return}s.length!==0&&e.push({event:r,listeners:s})}var qp=/\r\n?/g,$p=/\u0000|\uFFFD/g;function el(e){return(typeof e=="string"?e:""+e).replace(qp,`
`).replace($p,"")}function Zt(e,r,n){if(r=el(r),el(e)!==r&&n)throw Error(R(425))}function bo(){}var ta=null,oa=null;function ia(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var aa=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,rl=typeof Promise=="function"?Promise:void 0,Vp=typeof queueMicrotask=="function"?queueMicrotask:typeof rl<"u"?function(e){return rl.resolve(null).then(e).catch(Wp)}:aa;function Wp(e){setTimeout(function(){throw e})}function ki(e,r){var n=r,t=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(t===0){e.removeChild(o),kt(r);return}t--}else n!=="$"&&n!=="$?"&&n!=="$!"||t++;n=o}while(n);kt(r)}function Or(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function nl(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),hr="__reactFiber$"+Yn,Dt="__reactProps$"+Yn,wr="__reactContainer$"+Yn,sa="__reactEvents$"+Yn,Gp="__reactListeners$"+Yn,Qp="__reactHandles$"+Yn;function tn(e){var r=e[hr];if(r)return r;for(var n=e.parentNode;n;){if(r=n[wr]||n[hr]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=nl(e);e!==null;){if(n=e[hr])return n;e=nl(e)}return r}e=n,n=e.parentNode}return null}function Ot(e){return e=e[hr]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Yo(e){return e[Dt]||null}var la=[],bn=-1;function Qr(e){return{current:e}}function ee(e){0>bn||(e.current=la[bn],la[bn]=null,bn--)}function X(e,r){bn++,la[bn]=e.current,e.current=r}var Wr={},Te=Qr(Wr),Ue=Qr(!1),dn=Wr;function Un(e,r){var n=e.type.contextTypes;if(!n)return Wr;var t=e.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===r)return t.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=r[a];return t&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),o}function qe(e){return e=e.childContextTypes,e!=null}function Ao(){ee(Ue),ee(Te)}function tl(e,r,n){if(Te.current!==Wr)throw Error(R(168));X(Te,r),X(Ue,n)}function Hc(e,r,n){var t=e.stateNode;if(r=r.childContextTypes,typeof t.getChildContext!="function")return n;t=t.getChildContext();for(var o in t)if(!(o in r))throw Error(R(108,Td(e)||"Unknown",o));return ie({},n,t)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wr,dn=Te.current,X(Te,e),X(Ue,Ue.current),!0}function ol(e,r,n){var t=e.stateNode;if(!t)throw Error(R(169));n?(e=Hc(e,r,dn),t.__reactInternalMemoizedMergedChildContext=e,ee(Ue),ee(Te),X(Te,e)):ee(Ue),X(Ue,n)}var vr=null,Ko=!1,Ri=!1;function Vc(e){vr===null?vr=[e]:vr.push(e)}function Yp(e){Ko=!0,Vc(e)}function Yr(){if(!Ri&&vr!==null){Ri=!0;var e=0,r=W;try{var n=vr;for(W=1;e<n.length;e++){var t=n[e];do t=t(!0);while(t!==null)}vr=null,Ko=!1}catch(o){throw vr!==null&&(vr=vr.slice(e+1)),gc(La,Yr),o}finally{W=r,Ri=!1}}return null}var An=[],Dn=0,Mo=null,To=0,Ke=[],Xe=0,pn=null,Cr=1,Er="";function rn(e,r){An[Dn++]=To,An[Dn++]=Mo,Mo=e,To=r}function Wc(e,r,n){Ke[Xe++]=Cr,Ke[Xe++]=Er,Ke[Xe++]=pn,pn=e;var t=Cr;e=Er;var o=32-lr(t)-1;t&=~(1<<o),n+=1;var a=32-lr(r)+o;if(30<a){var s=o-o%5;a=(t&(1<<s)-1).toString(32),t>>=s,o-=s,Cr=1<<32-lr(r)+o|n<<o|t,Er=a+e}else Cr=1<<a|n<<o|t,Er=e}function Qa(e){e.return!==null&&(rn(e,1),Wc(e,1,0))}function Ya(e){for(;e===Mo;)Mo=An[--Dn],An[Dn]=null,To=An[--Dn],An[Dn]=null;for(;e===pn;)pn=Ke[--Xe],Ke[Xe]=null,Er=Ke[--Xe],Ke[Xe]=null,Cr=Ke[--Xe],Ke[Xe]=null}var We=null,Ve=null,re=!1,sr=null;function Gc(e,r){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function il(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,We=e,Ve=Or(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,We=e,Ve=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=pn!==null?{id:Cr,overflow:Er}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,We=e,Ve=null,!0):!1;default:return!1}}function ca(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ua(e){if(re){var r=Ve;if(r){var n=r;if(!il(e,r)){if(ca(e))throw Error(R(418));r=Or(n.nextSibling);var t=We;r&&il(e,r)?Gc(t,n):(e.flags=e.flags&-4097|2,re=!1,We=e)}}else{if(ca(e))throw Error(R(418));e.flags=e.flags&-4097|2,re=!1,We=e}}}function al(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function Jt(e){if(e!==We)return!1;if(!re)return al(e),re=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!ia(e.type,e.memoizedProps)),r&&(r=Ve)){if(ca(e))throw Qc(),Error(R(418));for(;r;)Gc(e,r),r=Or(r.nextSibling)}if(al(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){Ve=Or(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}Ve=null}}else Ve=We?Or(e.stateNode.nextSibling):null;return!0}function Qc(){for(var e=Ve;e;)e=Or(e.nextSibling)}function qn(){Ve=We=null,re=!1}function Ka(e){sr===null?sr=[e]:sr.push(e)}var Kp=_r.ReactCurrentBatchConfig;function ot(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var t=n.stateNode}if(!t)throw Error(R(147,e));var o=t,a=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===a?r.ref:(r=function(s){var l=o.refs;s===null?delete l[a]:l[a]=s},r._stringRef=a,r)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function eo(e,r){throw e=Object.prototype.toString.call(r),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function sl(e){var r=e._init;return r(e._payload)}function Yc(e){function r(h,f){if(e){var y=h.deletions;y===null?(h.deletions=[f],h.flags|=16):y.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)r(h,f),f=f.sibling;return null}function t(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function o(h,f){return h=Hr(h,f),h.index=0,h.sibling=null,h}function a(h,f,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<f?(h.flags|=2,f):y):(h.flags|=2,f)):(h.flags|=1048576,f)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,f,y,x){return f===null||f.tag!==6?(f=Ni(y,h.mode,x),f.return=h,f):(f=o(f,y),f.return=h,f)}function c(h,f,y,x){var S=y.type;return S===jn?d(h,f,y.props.children,x,y.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mr&&sl(S)===f.type)?(x=o(f,y.props),x.ref=ot(h,f,y),x.return=h,x):(x=xo(y.type,y.key,y.props,null,h.mode,x),x.ref=ot(h,f,y),x.return=h,x)}function u(h,f,y,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Ii(y,h.mode,x),f.return=h,f):(f=o(f,y.children||[]),f.return=h,f)}function d(h,f,y,x,S){return f===null||f.tag!==7?(f=un(y,h.mode,x,S),f.return=h,f):(f=o(f,y),f.return=h,f)}function g(h,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ni(""+f,h.mode,y),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $t:return y=xo(f.type,f.key,f.props,null,h.mode,y),y.ref=ot(h,null,f),y.return=h,y;case Sn:return f=Ii(f,h.mode,y),f.return=h,f;case Mr:var x=f._init;return g(h,x(f._payload),y)}if(lt(f)||Jn(f))return f=un(f,h.mode,y,null),f.return=h,f;eo(h,f)}return null}function p(h,f,y,x){var S=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(h,f,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $t:return y.key===S?c(h,f,y,x):null;case Sn:return y.key===S?u(h,f,y,x):null;case Mr:return S=y._init,p(h,f,S(y._payload),x)}if(lt(y)||Jn(y))return S!==null?null:d(h,f,y,x,null);eo(h,y)}return null}function v(h,f,y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(y)||null,l(f,h,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $t:return h=h.get(x.key===null?y:x.key)||null,c(f,h,x,S);case Sn:return h=h.get(x.key===null?y:x.key)||null,u(f,h,x,S);case Mr:var b=x._init;return v(h,f,y,b(x._payload),S)}if(lt(x)||Jn(x))return h=h.get(y)||null,d(f,h,x,S,null);eo(f,x)}return null}function m(h,f,y,x){for(var S=null,b=null,j=f,_=f=0,P=null;j!==null&&_<y.length;_++){j.index>_?(P=j,j=null):P=j.sibling;var T=p(h,j,y[_],x);if(T===null){j===null&&(j=P);break}e&&j&&T.alternate===null&&r(h,j),f=a(T,f,_),b===null?S=T:b.sibling=T,b=T,j=P}if(_===y.length)return n(h,j),re&&rn(h,_),S;if(j===null){for(;_<y.length;_++)j=g(h,y[_],x),j!==null&&(f=a(j,f,_),b===null?S=j:b.sibling=j,b=j);return re&&rn(h,_),S}for(j=t(h,j);_<y.length;_++)P=v(j,h,_,y[_],x),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?_:P.key),f=a(P,f,_),b===null?S=P:b.sibling=P,b=P);return e&&j.forEach(function(I){return r(h,I)}),re&&rn(h,_),S}function C(h,f,y,x){var S=Jn(y);if(typeof S!="function")throw Error(R(150));if(y=S.call(y),y==null)throw Error(R(151));for(var b=S=null,j=f,_=f=0,P=null,T=y.next();j!==null&&!T.done;_++,T=y.next()){j.index>_?(P=j,j=null):P=j.sibling;var I=p(h,j,T.value,x);if(I===null){j===null&&(j=P);break}e&&j&&I.alternate===null&&r(h,j),f=a(I,f,_),b===null?S=I:b.sibling=I,b=I,j=P}if(T.done)return n(h,j),re&&rn(h,_),S;if(j===null){for(;!T.done;_++,T=y.next())T=g(h,T.value,x),T!==null&&(f=a(T,f,_),b===null?S=T:b.sibling=T,b=T);return re&&rn(h,_),S}for(j=t(h,j);!T.done;_++,T=y.next())T=v(j,h,_,T.value,x),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?_:T.key),f=a(T,f,_),b===null?S=T:b.sibling=T,b=T);return e&&j.forEach(function($){return r(h,$)}),re&&rn(h,_),S}function w(h,f,y,x){if(typeof y=="object"&&y!==null&&y.type===jn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $t:e:{for(var S=y.key,b=f;b!==null;){if(b.key===S){if(S=y.type,S===jn){if(b.tag===7){n(h,b.sibling),f=o(b,y.props.children),f.return=h,h=f;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mr&&sl(S)===b.type){n(h,b.sibling),f=o(b,y.props),f.ref=ot(h,b,y),f.return=h,h=f;break e}n(h,b);break}else r(h,b);b=b.sibling}y.type===jn?(f=un(y.props.children,h.mode,x,y.key),f.return=h,h=f):(x=xo(y.type,y.key,y.props,null,h.mode,x),x.ref=ot(h,f,y),x.return=h,h=x)}return s(h);case Sn:e:{for(b=y.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(h,f.sibling),f=o(f,y.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else r(h,f);f=f.sibling}f=Ii(y,h.mode,x),f.return=h,h=f}return s(h);case Mr:return b=y._init,w(h,f,b(y._payload),x)}if(lt(y))return m(h,f,y,x);if(Jn(y))return C(h,f,y,x);eo(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(h,f.sibling),f=o(f,y),f.return=h,h=f):(n(h,f),f=Ni(y,h.mode,x),f.return=h,h=f),s(h)):n(h,f)}return w}var $n=Yc(!0),Kc=Yc(!1),No=Qr(null),Io=null,Mn=null,Xa=null;function Za(){Xa=Mn=Io=null}function Ja(e){var r=No.current;ee(No),e._currentValue=r}function da(e,r,n){for(;e!==null;){var t=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,t!==null&&(t.childLanes|=r)):t!==null&&(t.childLanes&r)!==r&&(t.childLanes|=r),e===n)break;e=e.return}}function zn(e,r){Io=e,Xa=Mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Oe=!0),e.firstContext=null)}function er(e){var r=e._currentValue;if(Xa!==e)if(e={context:e,memoizedValue:r,next:null},Mn===null){if(Io===null)throw Error(R(308));Mn=e,Io.dependencies={lanes:0,firstContext:e}}else Mn=Mn.next=e;return r}var on=null;function es(e){on===null?on=[e]:on.push(e)}function Xc(e,r,n,t){var o=r.interleaved;return o===null?(n.next=n,es(r)):(n.next=o.next,o.next=n),r.interleaved=n,kr(e,t)}function kr(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tr=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zc(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(e,r,n){var t=e.updateQueue;if(t===null)return null;if(t=t.shared,q&2){var o=t.pending;return o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r,kr(e,n)}return o=t.interleaved,o===null?(r.next=r,es(t)):(r.next=o.next,o.next=r),t.interleaved=r,kr(e,n)}function po(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var t=r.lanes;t&=e.pendingLanes,n|=t,r.lanes=n,Oa(e,n)}}function ll(e,r){var n=e.updateQueue,t=e.alternate;if(t!==null&&(t=t.updateQueue,n===t)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?o=a=r:a=a.next=r}else o=a=r;n={baseState:t.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:t.shared,effects:t.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function Po(e,r,n,t){var o=e.updateQueue;Tr=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var g=o.baseState;s=0,d=u=c=null,l=a;do{var p=l.lane,v=l.eventTime;if((t&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,C=l;switch(p=r,v=n,C.tag){case 1:if(m=C.payload,typeof m=="function"){g=m.call(v,g,p);break e}g=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=C.payload,p=typeof m=="function"?m.call(v,g,p):m,p==null)break e;g=ie({},g,p);break e;case 2:Tr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=g):d=d.next=v,s|=p;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;p=l,l=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(c=g),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,r=o.shared.interleaved,r!==null){o=r;do s|=o.lane,o=o.next;while(o!==r)}else a===null&&(o.shared.lanes=0);fn|=s,e.lanes=s,e.memoizedState=g}}function cl(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var t=e[r],o=t.callback;if(o!==null){if(t.callback=null,t=n,typeof o!="function")throw Error(R(191,o));o.call(t)}}}var Ut={},yr=Qr(Ut),Mt=Qr(Ut),Tt=Qr(Ut);function an(e){if(e===Ut)throw Error(R(174));return e}function ns(e,r){switch(X(Tt,r),X(Mt,e),X(yr,Ut),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Vi(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Vi(r,e)}ee(yr),X(yr,r)}function Hn(){ee(yr),ee(Mt),ee(Tt)}function Jc(e){an(Tt.current);var r=an(yr.current),n=Vi(r,e.type);r!==n&&(X(Mt,e),X(yr,n))}function ts(e){Mt.current===e&&(ee(yr),ee(Mt))}var te=Qr(0);function Fo(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var _i=[];function os(){for(var e=0;e<_i.length;e++)_i[e]._workInProgressVersionPrimary=null;_i.length=0}var mo=_r.ReactCurrentDispatcher,bi=_r.ReactCurrentBatchConfig,mn=0,oe=null,ge=null,Ce=null,Bo=!1,gt=!1,Nt=0,Xp=0;function Ae(){throw Error(R(321))}function is(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!ur(e[n],r[n]))return!1;return!0}function as(e,r,n,t,o,a){if(mn=a,oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,mo.current=e===null||e.memoizedState===null?rm:nm,e=n(t,o),gt){a=0;do{if(gt=!1,Nt=0,25<=a)throw Error(R(301));a+=1,Ce=ge=null,r.updateQueue=null,mo.current=tm,e=n(t,o)}while(gt)}if(mo.current=zo,r=ge!==null&&ge.next!==null,mn=0,Ce=ge=oe=null,Bo=!1,r)throw Error(R(300));return e}function ss(){var e=Nt!==0;return Nt=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?oe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function rr(){if(ge===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var r=Ce===null?oe.memoizedState:Ce.next;if(r!==null)Ce=r,ge=e;else{if(e===null)throw Error(R(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ce===null?oe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function It(e,r){return typeof r=="function"?r(e):r}function Ai(e){var r=rr(),n=r.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var t=ge,o=t.baseQueue,a=n.pending;if(a!==null){if(o!==null){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,t=t.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((mn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),t=u.hasEagerState?u.eagerState:e(t,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,s=t):c=c.next=g,oe.lanes|=d,fn|=d}u=u.next}while(u!==null&&u!==a);c===null?s=t:c.next=l,ur(t,r.memoizedState)||(Oe=!0),r.memoizedState=t,r.baseState=s,r.baseQueue=c,n.lastRenderedState=t}if(e=n.interleaved,e!==null){o=e;do a=o.lane,oe.lanes|=a,fn|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Di(e){var r=rr(),n=r.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var t=n.dispatch,o=n.pending,a=r.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do a=e(a,s.action),s=s.next;while(s!==o);ur(a,r.memoizedState)||(Oe=!0),r.memoizedState=a,r.baseQueue===null&&(r.baseState=a),n.lastRenderedState=a}return[a,t]}function eu(){}function ru(e,r){var n=oe,t=rr(),o=r(),a=!ur(t.memoizedState,o);if(a&&(t.memoizedState=o,Oe=!0),t=t.queue,ls(ou.bind(null,n,t,e),[e]),t.getSnapshot!==r||a||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Pt(9,tu.bind(null,n,t,o,r),void 0,null),Ee===null)throw Error(R(349));mn&30||nu(n,r,o)}return o}function nu(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=oe.updateQueue,r===null?(r={lastEffect:null,stores:null},oe.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function tu(e,r,n,t){r.value=n,r.getSnapshot=t,iu(r)&&au(e)}function ou(e,r,n){return n(function(){iu(r)&&au(e)})}function iu(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!ur(e,n)}catch{return!0}}function au(e){var r=kr(e,1);r!==null&&cr(r,e,1,-1)}function ul(e){var r=fr();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:It,lastRenderedState:e},r.queue=e,e=e.dispatch=em.bind(null,oe,e),[r.memoizedState,e]}function Pt(e,r,n,t){return e={tag:e,create:r,destroy:n,deps:t,next:null},r=oe.updateQueue,r===null?(r={lastEffect:null,stores:null},oe.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(t=n.next,n.next=e,e.next=t,r.lastEffect=e)),e}function su(){return rr().memoizedState}function fo(e,r,n,t){var o=fr();oe.flags|=e,o.memoizedState=Pt(1|r,n,void 0,t===void 0?null:t)}function Xo(e,r,n,t){var o=rr();t=t===void 0?null:t;var a=void 0;if(ge!==null){var s=ge.memoizedState;if(a=s.destroy,t!==null&&is(t,s.deps)){o.memoizedState=Pt(r,n,a,t);return}}oe.flags|=e,o.memoizedState=Pt(1|r,n,a,t)}function dl(e,r){return fo(8390656,8,e,r)}function ls(e,r){return Xo(2048,8,e,r)}function lu(e,r){return Xo(4,2,e,r)}function cu(e,r){return Xo(4,4,e,r)}function uu(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function du(e,r,n){return n=n!=null?n.concat([e]):null,Xo(4,4,uu.bind(null,r,e),n)}function cs(){}function pu(e,r){var n=rr();r=r===void 0?null:r;var t=n.memoizedState;return t!==null&&r!==null&&is(r,t[1])?t[0]:(n.memoizedState=[e,r],e)}function mu(e,r){var n=rr();r=r===void 0?null:r;var t=n.memoizedState;return t!==null&&r!==null&&is(r,t[1])?t[0]:(e=e(),n.memoizedState=[e,r],e)}function fu(e,r,n){return mn&21?(ur(n,r)||(n=vc(),oe.lanes|=n,fn|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=n)}function Zp(e,r){var n=W;W=n!==0&&4>n?n:4,e(!0);var t=bi.transition;bi.transition={};try{e(!1),r()}finally{W=n,bi.transition=t}}function hu(){return rr().memoizedState}function Jp(e,r,n){var t=$r(e);if(n={lane:t,action:n,hasEagerState:!1,eagerState:null,next:null},gu(e))yu(r,n);else if(n=Xc(e,r,n,t),n!==null){var o=Fe();cr(n,e,t,o),xu(n,r,t)}}function em(e,r,n){var t=$r(e),o={lane:t,action:n,hasEagerState:!1,eagerState:null,next:null};if(gu(e))yu(r,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=r.lastRenderedReducer,a!==null))try{var s=r.lastRenderedState,l=a(s,n);if(o.hasEagerState=!0,o.eagerState=l,ur(l,s)){var c=r.interleaved;c===null?(o.next=o,es(r)):(o.next=c.next,c.next=o),r.interleaved=o;return}}catch{}finally{}n=Xc(e,r,o,t),n!==null&&(o=Fe(),cr(n,e,t,o),xu(n,r,t))}}function gu(e){var r=e.alternate;return e===oe||r!==null&&r===oe}function yu(e,r){gt=Bo=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function xu(e,r,n){if(n&4194240){var t=r.lanes;t&=e.pendingLanes,n|=t,r.lanes=n,Oa(e,n)}}var zo={readContext:er,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},rm={readContext:er,useCallback:function(e,r){return fr().memoizedState=[e,r===void 0?null:r],e},useContext:er,useEffect:dl,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,fo(4194308,4,uu.bind(null,r,e),n)},useLayoutEffect:function(e,r){return fo(4194308,4,e,r)},useInsertionEffect:function(e,r){return fo(4,2,e,r)},useMemo:function(e,r){var n=fr();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var t=fr();return r=n!==void 0?n(r):r,t.memoizedState=t.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},t.queue=e,e=e.dispatch=Jp.bind(null,oe,e),[t.memoizedState,e]},useRef:function(e){var r=fr();return e={current:e},r.memoizedState=e},useState:ul,useDebugValue:cs,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=ul(!1),r=e[0];return e=Zp.bind(null,e[1]),fr().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var t=oe,o=fr();if(re){if(n===void 0)throw Error(R(407));n=n()}else{if(n=r(),Ee===null)throw Error(R(349));mn&30||nu(t,r,n)}o.memoizedState=n;var a={value:n,getSnapshot:r};return o.queue=a,dl(ou.bind(null,t,a,e),[e]),t.flags|=2048,Pt(9,tu.bind(null,t,a,n,r),void 0,null),n},useId:function(){var e=fr(),r=Ee.identifierPrefix;if(re){var n=Er,t=Cr;n=(t&~(1<<32-lr(t)-1)).toString(32)+n,r=":"+r+"R"+n,n=Nt++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=Xp++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},nm={readContext:er,useCallback:pu,useContext:er,useEffect:ls,useImperativeHandle:du,useInsertionEffect:lu,useLayoutEffect:cu,useMemo:mu,useReducer:Ai,useRef:su,useState:function(){return Ai(It)},useDebugValue:cs,useDeferredValue:function(e){var r=rr();return fu(r,ge.memoizedState,e)},useTransition:function(){var e=Ai(It)[0],r=rr().memoizedState;return[e,r]},useMutableSource:eu,useSyncExternalStore:ru,useId:hu,unstable_isNewReconciler:!1},tm={readContext:er,useCallback:pu,useContext:er,useEffect:ls,useImperativeHandle:du,useInsertionEffect:lu,useLayoutEffect:cu,useMemo:mu,useReducer:Di,useRef:su,useState:function(){return Di(It)},useDebugValue:cs,useDeferredValue:function(e){var r=rr();return ge===null?r.memoizedState=e:fu(r,ge.memoizedState,e)},useTransition:function(){var e=Di(It)[0],r=rr().memoizedState;return[e,r]},useMutableSource:eu,useSyncExternalStore:ru,useId:hu,unstable_isNewReconciler:!1};function ir(e,r){if(e&&e.defaultProps){r=ie({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function pa(e,r,n,t){r=e.memoizedState,n=n(t,r),n=n==null?r:ie({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zo={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var t=Fe(),o=$r(e),a=Sr(t,o);a.payload=r,n!=null&&(a.callback=n),r=Ur(e,a,o),r!==null&&(cr(r,e,o,t),po(r,e,o))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var t=Fe(),o=$r(e),a=Sr(t,o);a.tag=1,a.payload=r,n!=null&&(a.callback=n),r=Ur(e,a,o),r!==null&&(cr(r,e,o,t),po(r,e,o))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=Fe(),t=$r(e),o=Sr(n,t);o.tag=2,r!=null&&(o.callback=r),r=Ur(e,o,t),r!==null&&(cr(r,e,t,n),po(r,e,t))}};function pl(e,r,n,t,o,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(t,a,s):r.prototype&&r.prototype.isPureReactComponent?!_t(n,t)||!_t(o,a):!0}function vu(e,r,n){var t=!1,o=Wr,a=r.contextType;return typeof a=="object"&&a!==null?a=er(a):(o=qe(r)?dn:Te.current,t=r.contextTypes,a=(t=t!=null)?Un(e,o):Wr),r=new r(n,a),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Zo,e.stateNode=r,r._reactInternals=e,t&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),r}function ml(e,r,n,t){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,t),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,t),r.state!==e&&Zo.enqueueReplaceState(r,r.state,null)}function ma(e,r,n,t){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},rs(e);var a=r.contextType;typeof a=="object"&&a!==null?o.context=er(a):(a=qe(r)?dn:Te.current,o.context=Un(e,a)),o.state=e.memoizedState,a=r.getDerivedStateFromProps,typeof a=="function"&&(pa(e,r,a,n),o.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(r=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),r!==o.state&&Zo.enqueueReplaceState(o,o.state,null),Po(e,n,o,t),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,r){try{var n="",t=r;do n+=Md(t),t=t.return;while(t);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:r,stack:o,digest:null}}function Mi(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function fa(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var om=typeof WeakMap=="function"?WeakMap:Map;function Cu(e,r,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var t=r.value;return n.callback=function(){Oo||(Oo=!0,wa=t),fa(e,r)},n}function Eu(e,r,n){n=Sr(-1,n),n.tag=3;var t=e.type.getDerivedStateFromError;if(typeof t=="function"){var o=r.value;n.payload=function(){return t(o)},n.callback=function(){fa(e,r)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){fa(e,r),typeof t!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})}),n}function fl(e,r,n){var t=e.pingCache;if(t===null){t=e.pingCache=new om;var o=new Set;t.set(r,o)}else o=t.get(r),o===void 0&&(o=new Set,t.set(r,o));o.has(n)||(o.add(n),e=xm.bind(null,e,r,n),r.then(e,e))}function hl(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function gl(e,r,n,t,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=Sr(-1,1),r.tag=2,Ur(n,r,1))),n.lanes|=1),e)}var im=_r.ReactCurrentOwner,Oe=!1;function Pe(e,r,n,t){r.child=e===null?Kc(r,null,n,t):$n(r,e.child,n,t)}function yl(e,r,n,t,o){n=n.render;var a=r.ref;return zn(r,o),t=as(e,r,n,t,a,o),n=ss(),e!==null&&!Oe?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~o,Rr(e,r,o)):(re&&n&&Qa(r),r.flags|=1,Pe(e,r,t,o),r.child)}function xl(e,r,n,t,o){if(e===null){var a=n.type;return typeof a=="function"&&!ys(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=a,Su(e,r,a,t,o)):(e=xo(n.type,null,t,r,r.mode,o),e.ref=r.ref,e.return=r,r.child=e)}if(a=e.child,!(e.lanes&o)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:_t,n(s,t)&&e.ref===r.ref)return Rr(e,r,o)}return r.flags|=1,e=Hr(a,t),e.ref=r.ref,e.return=r,r.child=e}function Su(e,r,n,t,o){if(e!==null){var a=e.memoizedProps;if(_t(a,t)&&e.ref===r.ref)if(Oe=!1,r.pendingProps=t=a,(e.lanes&o)!==0)e.flags&131072&&(Oe=!0);else return r.lanes=e.lanes,Rr(e,r,o)}return ha(e,r,n,t,o)}function ju(e,r,n){var t=r.pendingProps,o=t.children,a=e!==null?e.memoizedState:null;if(t.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Nn,He),He|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,X(Nn,He),He|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},t=a!==null?a.baseLanes:n,X(Nn,He),He|=t}else a!==null?(t=a.baseLanes|n,r.memoizedState=null):t=n,X(Nn,He),He|=t;return Pe(e,r,o,n),r.child}function wu(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function ha(e,r,n,t,o){var a=qe(n)?dn:Te.current;return a=Un(r,a),zn(r,o),n=as(e,r,n,t,a,o),t=ss(),e!==null&&!Oe?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~o,Rr(e,r,o)):(re&&t&&Qa(r),r.flags|=1,Pe(e,r,n,o),r.child)}function vl(e,r,n,t,o){if(qe(n)){var a=!0;Do(r)}else a=!1;if(zn(r,o),r.stateNode===null)ho(e,r),vu(r,n,t),ma(r,n,t,o),t=!0;else if(e===null){var s=r.stateNode,l=r.memoizedProps;s.props=l;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=er(u):(u=qe(n)?dn:Te.current,u=Un(r,u));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==t||c!==u)&&ml(r,s,t,u),Tr=!1;var p=r.memoizedState;s.state=p,Po(r,t,s,o),c=r.memoizedState,l!==t||p!==c||Ue.current||Tr?(typeof d=="function"&&(pa(r,n,d,t),c=r.memoizedState),(l=Tr||pl(r,n,l,t,p,c,u))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(r.flags|=4194308)):(typeof s.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=t,r.memoizedState=c),s.props=t,s.state=c,s.context=u,t=l):(typeof s.componentDidMount=="function"&&(r.flags|=4194308),t=!1)}else{s=r.stateNode,Zc(e,r),l=r.memoizedProps,u=r.type===r.elementType?l:ir(r.type,l),s.props=u,g=r.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=er(c):(c=qe(n)?dn:Te.current,c=Un(r,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==g||p!==c)&&ml(r,s,t,c),Tr=!1,p=r.memoizedState,s.state=p,Po(r,t,s,o);var m=r.memoizedState;l!==g||p!==m||Ue.current||Tr?(typeof v=="function"&&(pa(r,n,v,t),m=r.memoizedState),(u=Tr||pl(r,n,u,t,p,m,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(t,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(t,m,c)),typeof s.componentDidUpdate=="function"&&(r.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(r.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(r.flags|=1024),r.memoizedProps=t,r.memoizedState=m),s.props=t,s.state=m,s.context=c,t=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(r.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(r.flags|=1024),t=!1)}return ga(e,r,n,t,a,o)}function ga(e,r,n,t,o,a){wu(e,r);var s=(r.flags&128)!==0;if(!t&&!s)return o&&ol(r,n,!1),Rr(e,r,a);t=r.stateNode,im.current=r;var l=s&&typeof n.getDerivedStateFromError!="function"?null:t.render();return r.flags|=1,e!==null&&s?(r.child=$n(r,e.child,null,a),r.child=$n(r,null,l,a)):Pe(e,r,l,a),r.memoizedState=t.state,o&&ol(r,n,!0),r.child}function ku(e){var r=e.stateNode;r.pendingContext?tl(e,r.pendingContext,r.pendingContext!==r.context):r.context&&tl(e,r.context,!1),ns(e,r.containerInfo)}function Cl(e,r,n,t,o){return qn(),Ka(o),r.flags|=256,Pe(e,r,n,t),r.child}var ya={dehydrated:null,treeContext:null,retryLane:0};function xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ru(e,r,n){var t=r.pendingProps,o=te.current,a=!1,s=(r.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),X(te,o&1),e===null)return ua(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(s=t.children,e=t.fallback,a?(t=r.mode,a=r.child,s={mode:"hidden",children:s},!(t&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ri(s,t,0,null),e=un(e,t,n,null),a.return=r,e.return=r,a.sibling=e,r.child=a,r.child.memoizedState=xa(n),r.memoizedState=ya,e):us(r,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return am(e,r,s,t,l,o,n);if(a){a=t.fallback,s=r.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:t.children};return!(s&1)&&r.child!==o?(t=r.child,t.childLanes=0,t.pendingProps=c,r.deletions=null):(t=Hr(o,c),t.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=Hr(l,a):(a=un(a,s,n,null),a.flags|=2),a.return=r,t.return=r,t.sibling=a,r.child=t,t=a,a=r.child,s=e.child.memoizedState,s=s===null?xa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,r.memoizedState=ya,t}return a=e.child,e=a.sibling,t=Hr(a,{mode:"visible",children:t.children}),!(r.mode&1)&&(t.lanes=n),t.return=r,t.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=t,r.memoizedState=null,t}function us(e,r){return r=ri({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function ro(e,r,n,t){return t!==null&&Ka(t),$n(r,e.child,null,n),e=us(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function am(e,r,n,t,o,a,s){if(n)return r.flags&256?(r.flags&=-257,t=Mi(Error(R(422))),ro(e,r,s,t)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(a=t.fallback,o=r.mode,t=ri({mode:"visible",children:t.children},o,0,null),a=un(a,o,s,null),a.flags|=2,t.return=r,a.return=r,t.sibling=a,r.child=t,r.mode&1&&$n(r,e.child,null,s),r.child.memoizedState=xa(s),r.memoizedState=ya,a);if(!(r.mode&1))return ro(e,r,s,null);if(o.data==="$!"){if(t=o.nextSibling&&o.nextSibling.dataset,t)var l=t.dgst;return t=l,a=Error(R(419)),t=Mi(a,t,void 0),ro(e,r,s,t)}if(l=(s&e.childLanes)!==0,Oe||l){if(t=Ee,t!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(t.suspendedLanes|s)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,kr(e,o),cr(t,e,o,-1))}return gs(),t=Mi(Error(R(421))),ro(e,r,s,t)}return o.data==="$?"?(r.flags|=128,r.child=e.child,r=vm.bind(null,e),o._reactRetry=r,null):(e=a.treeContext,Ve=Or(o.nextSibling),We=r,re=!0,sr=null,e!==null&&(Ke[Xe++]=Cr,Ke[Xe++]=Er,Ke[Xe++]=pn,Cr=e.id,Er=e.overflow,pn=r),r=us(r,t.children),r.flags|=4096,r)}function El(e,r,n){e.lanes|=r;var t=e.alternate;t!==null&&(t.lanes|=r),da(e.return,r,n)}function Ti(e,r,n,t,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:t,tail:n,tailMode:o}:(a.isBackwards=r,a.rendering=null,a.renderingStartTime=0,a.last=t,a.tail=n,a.tailMode=o)}function _u(e,r,n){var t=r.pendingProps,o=t.revealOrder,a=t.tail;if(Pe(e,r,t.children,n),t=te.current,t&2)t=t&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&El(e,n,r);else if(e.tag===19)El(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}t&=1}if(X(te,t),!(r.mode&1))r.memoizedState=null;else switch(o){case"forwards":for(n=r.child,o=null;n!==null;)e=n.alternate,e!==null&&Fo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=r.child,r.child=null):(o=n.sibling,n.sibling=null),Ti(r,!1,o,n,a);break;case"backwards":for(n=null,o=r.child,r.child=null;o!==null;){if(e=o.alternate,e!==null&&Fo(e)===null){r.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ti(r,!0,n,null,a);break;case"together":Ti(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ho(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Rr(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),fn|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(R(153));if(r.child!==null){for(e=r.child,n=Hr(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=Hr(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function sm(e,r,n){switch(r.tag){case 3:ku(r),qn();break;case 5:Jc(r);break;case 1:qe(r.type)&&Do(r);break;case 4:ns(r,r.stateNode.containerInfo);break;case 10:var t=r.type._context,o=r.memoizedProps.value;X(No,t._currentValue),t._currentValue=o;break;case 13:if(t=r.memoizedState,t!==null)return t.dehydrated!==null?(X(te,te.current&1),r.flags|=128,null):n&r.child.childLanes?Ru(e,r,n):(X(te,te.current&1),e=Rr(e,r,n),e!==null?e.sibling:null);X(te,te.current&1);break;case 19:if(t=(n&r.childLanes)!==0,e.flags&128){if(t)return _u(e,r,n);r.flags|=128}if(o=r.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(te,te.current),t)break;return null;case 22:case 23:return r.lanes=0,ju(e,r,n)}return Rr(e,r,n)}var bu,va,Au,Du;bu=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};va=function(){};Au=function(e,r,n,t){var o=e.memoizedProps;if(o!==t){e=r.stateNode,an(yr.current);var a=null;switch(n){case"input":o=Ui(e,o),t=Ui(e,t),a=[];break;case"select":o=ie({},o,{value:void 0}),t=ie({},t,{value:void 0}),a=[];break;case"textarea":o=Hi(e,o),t=Hi(e,t),a=[];break;default:typeof o.onClick!="function"&&typeof t.onClick=="function"&&(e.onclick=bo)}Wi(n,t);var s;n=null;for(u in o)if(!t.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ct.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in t){var c=t[u];if(l=o!=null?o[u]:void 0,t.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ct.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&J("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(r.updateQueue=u)&&(r.flags|=4)}};Du=function(e,r,n,t){n!==t&&(r.flags|=4)};function it(e,r){if(!re)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:t.sibling=null}}function De(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,t=0;if(r)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,t|=o.subtreeFlags&14680064,t|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,t|=o.subtreeFlags,t|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=t,e.childLanes=n,r}function lm(e,r,n){var t=r.pendingProps;switch(Ya(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(r),null;case 1:return qe(r.type)&&Ao(),De(r),null;case 3:return t=r.stateNode,Hn(),ee(Ue),ee(Te),os(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(e===null||e.child===null)&&(Jt(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,sr!==null&&(_a(sr),sr=null))),va(e,r),De(r),null;case 5:ts(r);var o=an(Tt.current);if(n=r.type,e!==null&&r.stateNode!=null)Au(e,r,n,t,o),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!t){if(r.stateNode===null)throw Error(R(166));return De(r),null}if(e=an(yr.current),Jt(r)){t=r.stateNode,n=r.type;var a=r.memoizedProps;switch(t[hr]=r,t[Dt]=a,e=(r.mode&1)!==0,n){case"dialog":J("cancel",t),J("close",t);break;case"iframe":case"object":case"embed":J("load",t);break;case"video":case"audio":for(o=0;o<ut.length;o++)J(ut[o],t);break;case"source":J("error",t);break;case"img":case"image":case"link":J("error",t),J("load",t);break;case"details":J("toggle",t);break;case"input":Ds(t,a),J("invalid",t);break;case"select":t._wrapperState={wasMultiple:!!a.multiple},J("invalid",t);break;case"textarea":Ts(t,a),J("invalid",t)}Wi(n,a),o=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?t.textContent!==l&&(a.suppressHydrationWarning!==!0&&Zt(t.textContent,l,e),o=["children",l]):typeof l=="number"&&t.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Zt(t.textContent,l,e),o=["children",""+l]):Ct.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&J("scroll",t)}switch(n){case"input":Ht(t),Ms(t,a,!0);break;case"textarea":Ht(t),Ns(t);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(t.onclick=bo)}t=o,r.updateQueue=t,t!==null&&(r.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof t.is=="string"?e=s.createElement(n,{is:t.is}):(e=s.createElement(n),n==="select"&&(s=e,t.multiple?s.multiple=!0:t.size&&(s.size=t.size))):e=s.createElementNS(e,n),e[hr]=r,e[Dt]=t,bu(e,r,!1,!1),r.stateNode=e;e:{switch(s=Gi(n,t),n){case"dialog":J("cancel",e),J("close",e),o=t;break;case"iframe":case"object":case"embed":J("load",e),o=t;break;case"video":case"audio":for(o=0;o<ut.length;o++)J(ut[o],e);o=t;break;case"source":J("error",e),o=t;break;case"img":case"image":case"link":J("error",e),J("load",e),o=t;break;case"details":J("toggle",e),o=t;break;case"input":Ds(e,t),o=Ui(e,t),J("invalid",e);break;case"option":o=t;break;case"select":e._wrapperState={wasMultiple:!!t.multiple},o=ie({},t,{value:void 0}),J("invalid",e);break;case"textarea":Ts(e,t),o=Hi(e,t),J("invalid",e);break;default:o=t}Wi(n,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?sc(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ic(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Et(e,c):typeof c=="number"&&Et(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ct.hasOwnProperty(a)?c!=null&&a==="onScroll"&&J("scroll",e):c!=null&&Ia(e,a,c,s))}switch(n){case"input":Ht(e),Ms(e,t,!1);break;case"textarea":Ht(e),Ns(e);break;case"option":t.value!=null&&e.setAttribute("value",""+Vr(t.value));break;case"select":e.multiple=!!t.multiple,a=t.value,a!=null?In(e,!!t.multiple,a,!1):t.defaultValue!=null&&In(e,!!t.multiple,t.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=bo)}switch(n){case"button":case"input":case"select":case"textarea":t=!!t.autoFocus;break e;case"img":t=!0;break e;default:t=!1}}t&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return De(r),null;case 6:if(e&&r.stateNode!=null)Du(e,r,e.memoizedProps,t);else{if(typeof t!="string"&&r.stateNode===null)throw Error(R(166));if(n=an(Tt.current),an(yr.current),Jt(r)){if(t=r.stateNode,n=r.memoizedProps,t[hr]=r,(a=t.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:Zt(t.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zt(t.nodeValue,n,(e.mode&1)!==0)}a&&(r.flags|=4)}else t=(n.nodeType===9?n:n.ownerDocument).createTextNode(t),t[hr]=r,r.stateNode=t}return De(r),null;case 13:if(ee(te),t=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Ve!==null&&r.mode&1&&!(r.flags&128))Qc(),qn(),r.flags|=98560,a=!1;else if(a=Jt(r),t!==null&&t.dehydrated!==null){if(e===null){if(!a)throw Error(R(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[hr]=r}else qn(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;De(r),a=!1}else sr!==null&&(_a(sr),sr=null),a=!0;if(!a)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(t=t!==null,t!==(e!==null&&e.memoizedState!==null)&&t&&(r.child.flags|=8192,r.mode&1&&(e===null||te.current&1?ye===0&&(ye=3):gs())),r.updateQueue!==null&&(r.flags|=4),De(r),null);case 4:return Hn(),va(e,r),e===null&&bt(r.stateNode.containerInfo),De(r),null;case 10:return Ja(r.type._context),De(r),null;case 17:return qe(r.type)&&Ao(),De(r),null;case 19:if(ee(te),a=r.memoizedState,a===null)return De(r),null;if(t=(r.flags&128)!==0,s=a.rendering,s===null)if(t)it(a,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(s=Fo(e),s!==null){for(r.flags|=128,it(a,!1),t=s.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),r.subtreeFlags=0,t=n,n=r.child;n!==null;)a=n,e=t,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(te,te.current&1|2),r.child}e=e.sibling}a.tail!==null&&de()>Wn&&(r.flags|=128,t=!0,it(a,!1),r.lanes=4194304)}else{if(!t)if(e=Fo(s),e!==null){if(r.flags|=128,t=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),it(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!re)return De(r),null}else 2*de()-a.renderingStartTime>Wn&&n!==1073741824&&(r.flags|=128,t=!0,it(a,!1),r.lanes=4194304);a.isBackwards?(s.sibling=r.child,r.child=s):(n=a.last,n!==null?n.sibling=s:r.child=s,a.last=s)}return a.tail!==null?(r=a.tail,a.rendering=r,a.tail=r.sibling,a.renderingStartTime=de(),r.sibling=null,n=te.current,X(te,t?n&1|2:n&1),r):(De(r),null);case 22:case 23:return hs(),t=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==t&&(r.flags|=8192),t&&r.mode&1?He&1073741824&&(De(r),r.subtreeFlags&6&&(r.flags|=8192)):De(r),null;case 24:return null;case 25:return null}throw Error(R(156,r.tag))}function cm(e,r){switch(Ya(r),r.tag){case 1:return qe(r.type)&&Ao(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Hn(),ee(Ue),ee(Te),os(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return ts(r),null;case 13:if(ee(te),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(R(340));qn()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ee(te),null;case 4:return Hn(),null;case 10:return Ja(r.type._context),null;case 22:case 23:return hs(),null;case 24:return null;default:return null}}var no=!1,Me=!1,um=typeof WeakSet=="function"?WeakSet:Set,M=null;function Tn(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(t){le(e,r,t)}else n.current=null}function Ca(e,r,n){try{n()}catch(t){le(e,r,t)}}var Sl=!1;function dm(e,r){if(ta=ko,e=Pc(),Ga(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var t=n.getSelection&&n.getSelection();if(t&&t.rangeCount!==0){n=t.anchorNode;var o=t.anchorOffset,a=t.focusNode;t=t.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,g=e,p=null;r:for(;;){for(var v;g!==n||o!==0&&g.nodeType!==3||(l=s+o),g!==a||t!==0&&g.nodeType!==3||(c=s+t),g.nodeType===3&&(s+=g.nodeValue.length),(v=g.firstChild)!==null;)p=g,g=v;for(;;){if(g===e)break r;if(p===n&&++u===o&&(l=s),p===a&&++d===t&&(c=s),(v=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(oa={focusedElem:e,selectionRange:n},ko=!1,M=r;M!==null;)if(r=M,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,M=e;else for(;M!==null;){r=M;try{var m=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var C=m.memoizedProps,w=m.memoizedState,h=r.stateNode,f=h.getSnapshotBeforeUpdate(r.elementType===r.type?C:ir(r.type,C),w);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=r.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(x){le(r,r.return,x)}if(e=r.sibling,e!==null){e.return=r.return,M=e;break}M=r.return}return m=Sl,Sl=!1,m}function yt(e,r,n){var t=r.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Ca(r,n,a)}o=o.next}while(o!==t)}}function Jo(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var t=n.create;n.destroy=t()}n=n.next}while(n!==r)}}function Ea(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function Mu(e){var r=e.alternate;r!==null&&(e.alternate=null,Mu(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[hr],delete r[Dt],delete r[sa],delete r[Gp],delete r[Qp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tu(e){return e.tag===5||e.tag===3||e.tag===4}function jl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sa(e,r,n){var t=e.tag;if(t===5||t===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=bo));else if(t!==4&&(e=e.child,e!==null))for(Sa(e,r,n),e=e.sibling;e!==null;)Sa(e,r,n),e=e.sibling}function ja(e,r,n){var t=e.tag;if(t===5||t===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(t!==4&&(e=e.child,e!==null))for(ja(e,r,n),e=e.sibling;e!==null;)ja(e,r,n),e=e.sibling}var je=null,ar=!1;function Dr(e,r,n){for(n=n.child;n!==null;)Nu(e,r,n),n=n.sibling}function Nu(e,r,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 5:Me||Tn(n,r);case 6:var t=je,o=ar;je=null,Dr(e,r,n),je=t,ar=o,je!==null&&(ar?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(ar?(e=je,n=n.stateNode,e.nodeType===8?ki(e.parentNode,n):e.nodeType===1&&ki(e,n),kt(e)):ki(je,n.stateNode));break;case 4:t=je,o=ar,je=n.stateNode.containerInfo,ar=!0,Dr(e,r,n),je=t,ar=o;break;case 0:case 11:case 14:case 15:if(!Me&&(t=n.updateQueue,t!==null&&(t=t.lastEffect,t!==null))){o=t=t.next;do{var a=o,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ca(n,r,s),o=o.next}while(o!==t)}Dr(e,r,n);break;case 1:if(!Me&&(Tn(n,r),t=n.stateNode,typeof t.componentWillUnmount=="function"))try{t.props=n.memoizedProps,t.state=n.memoizedState,t.componentWillUnmount()}catch(l){le(n,r,l)}Dr(e,r,n);break;case 21:Dr(e,r,n);break;case 22:n.mode&1?(Me=(t=Me)||n.memoizedState!==null,Dr(e,r,n),Me=t):Dr(e,r,n);break;default:Dr(e,r,n)}}function wl(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new um),r.forEach(function(t){var o=Cm.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))})}}function or(e,r){var n=r.deletions;if(n!==null)for(var t=0;t<n.length;t++){var o=n[t];try{var a=e,s=r,l=s;e:for(;l!==null;){switch(l.tag){case 5:je=l.stateNode,ar=!1;break e;case 3:je=l.stateNode.containerInfo,ar=!0;break e;case 4:je=l.stateNode.containerInfo,ar=!0;break e}l=l.return}if(je===null)throw Error(R(160));Nu(a,s,o),je=null,ar=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){le(o,r,u)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Iu(r,e),r=r.sibling}function Iu(e,r){var n=e.alternate,t=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(or(r,e),pr(e),t&4){try{yt(3,e,e.return),Jo(3,e)}catch(C){le(e,e.return,C)}try{yt(5,e,e.return)}catch(C){le(e,e.return,C)}}break;case 1:or(r,e),pr(e),t&512&&n!==null&&Tn(n,n.return);break;case 5:if(or(r,e),pr(e),t&512&&n!==null&&Tn(n,n.return),e.flags&32){var o=e.stateNode;try{Et(o,"")}catch(C){le(e,e.return,C)}}if(t&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&nc(o,a),Gi(l,s);var u=Gi(l,a);for(s=0;s<c.length;s+=2){var d=c[s],g=c[s+1];d==="style"?sc(o,g):d==="dangerouslySetInnerHTML"?ic(o,g):d==="children"?Et(o,g):Ia(o,d,g,u)}switch(l){case"input":qi(o,a);break;case"textarea":tc(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?In(o,!!a.multiple,v,!1):p!==!!a.multiple&&(a.defaultValue!=null?In(o,!!a.multiple,a.defaultValue,!0):In(o,!!a.multiple,a.multiple?[]:"",!1))}o[Dt]=a}catch(C){le(e,e.return,C)}}break;case 6:if(or(r,e),pr(e),t&4){if(e.stateNode===null)throw Error(R(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(C){le(e,e.return,C)}}break;case 3:if(or(r,e),pr(e),t&4&&n!==null&&n.memoizedState.isDehydrated)try{kt(r.containerInfo)}catch(C){le(e,e.return,C)}break;case 4:or(r,e),pr(e);break;case 13:or(r,e),pr(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(ms=de())),t&4&&wl(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||d,or(r,e),Me=u):or(r,e),pr(e),t&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(g=M=d;M!==null;){switch(p=M,v=p.child,p.tag){case 0:case 11:case 14:case 15:yt(4,p,p.return);break;case 1:Tn(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){t=p,n=p.return;try{r=t,m.props=r.memoizedProps,m.state=r.memoizedState,m.componentWillUnmount()}catch(C){le(t,n,C)}}break;case 5:Tn(p,p.return);break;case 22:if(p.memoizedState!==null){Rl(g);continue}}v!==null?(v.return=p,M=v):Rl(g)}d=d.sibling}e:for(d=null,g=e;;){if(g.tag===5){if(d===null){d=g;try{o=g.stateNode,u?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=g.stateNode,c=g.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ac("display",s))}catch(C){le(e,e.return,C)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(C){le(e,e.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:or(r,e),pr(e),t&4&&wl(e);break;case 21:break;default:or(r,e),pr(e)}}function pr(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(Tu(n)){var t=n;break e}n=n.return}throw Error(R(160))}switch(t.tag){case 5:var o=t.stateNode;t.flags&32&&(Et(o,""),t.flags&=-33);var a=jl(e);ja(e,a,o);break;case 3:case 4:var s=t.stateNode.containerInfo,l=jl(e);Sa(e,l,s);break;default:throw Error(R(161))}}catch(c){le(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function pm(e,r,n){M=e,Pu(e)}function Pu(e,r,n){for(var t=(e.mode&1)!==0;M!==null;){var o=M,a=o.child;if(o.tag===22&&t){var s=o.memoizedState!==null||no;if(!s){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Me;l=no;var u=Me;if(no=s,(Me=c)&&!u)for(M=o;M!==null;)s=M,c=s.child,s.tag===22&&s.memoizedState!==null?_l(o):c!==null?(c.return=s,M=c):_l(o);for(;a!==null;)M=a,Pu(a),a=a.sibling;M=o,no=l,Me=u}kl(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,M=a):kl(e)}}function kl(e){for(;M!==null;){var r=M;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Me||Jo(5,r);break;case 1:var t=r.stateNode;if(r.flags&4&&!Me)if(n===null)t.componentDidMount();else{var o=r.elementType===r.type?n.memoizedProps:ir(r.type,n.memoizedProps);t.componentDidUpdate(o,n.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}var a=r.updateQueue;a!==null&&cl(r,a,t);break;case 3:var s=r.updateQueue;if(s!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}cl(r,s,n)}break;case 5:var l=r.stateNode;if(n===null&&r.flags&4){n=l;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var u=r.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&kt(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Me||r.flags&512&&Ea(r)}catch(p){le(r,r.return,p)}}if(r===e){M=null;break}if(n=r.sibling,n!==null){n.return=r.return,M=n;break}M=r.return}}function Rl(e){for(;M!==null;){var r=M;if(r===e){M=null;break}var n=r.sibling;if(n!==null){n.return=r.return,M=n;break}M=r.return}}function _l(e){for(;M!==null;){var r=M;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{Jo(4,r)}catch(c){le(r,n,c)}break;case 1:var t=r.stateNode;if(typeof t.componentDidMount=="function"){var o=r.return;try{t.componentDidMount()}catch(c){le(r,o,c)}}var a=r.return;try{Ea(r)}catch(c){le(r,a,c)}break;case 5:var s=r.return;try{Ea(r)}catch(c){le(r,s,c)}}}catch(c){le(r,r.return,c)}if(r===e){M=null;break}var l=r.sibling;if(l!==null){l.return=r.return,M=l;break}M=r.return}}var mm=Math.ceil,Lo=_r.ReactCurrentDispatcher,ds=_r.ReactCurrentOwner,Je=_r.ReactCurrentBatchConfig,q=0,Ee=null,he=null,we=0,He=0,Nn=Qr(0),ye=0,Ft=null,fn=0,ei=0,ps=0,xt=null,Le=null,ms=0,Wn=1/0,xr=null,Oo=!1,wa=null,qr=null,to=!1,Fr=null,Uo=0,vt=0,ka=null,go=-1,yo=0;function Fe(){return q&6?de():go!==-1?go:go=de()}function $r(e){return e.mode&1?q&2&&we!==0?we&-we:Kp.transition!==null?(yo===0&&(yo=vc()),yo):(e=W,e!==0||(e=window.event,e=e===void 0?16:Rc(e.type)),e):1}function cr(e,r,n,t){if(50<vt)throw vt=0,ka=null,Error(R(185));zt(e,n,t),(!(q&2)||e!==Ee)&&(e===Ee&&(!(q&2)&&(ei|=n),ye===4&&Ir(e,we)),$e(e,t),n===1&&q===0&&!(r.mode&1)&&(Wn=de()+500,Ko&&Yr()))}function $e(e,r){var n=e.callbackNode;Kd(e,r);var t=wo(e,e===Ee?we:0);if(t===0)n!==null&&Fs(n),e.callbackNode=null,e.callbackPriority=0;else if(r=t&-t,e.callbackPriority!==r){if(n!=null&&Fs(n),r===1)e.tag===0?Yp(bl.bind(null,e)):Vc(bl.bind(null,e)),Vp(function(){!(q&6)&&Yr()}),n=null;else{switch(Cc(t)){case 1:n=La;break;case 4:n=yc;break;case 16:n=jo;break;case 536870912:n=xc;break;default:n=jo}n=$u(n,Fu.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function Fu(e,r){if(go=-1,yo=0,q&6)throw Error(R(327));var n=e.callbackNode;if(Ln()&&e.callbackNode!==n)return null;var t=wo(e,e===Ee?we:0);if(t===0)return null;if(t&30||t&e.expiredLanes||r)r=qo(e,t);else{r=t;var o=q;q|=2;var a=zu();(Ee!==e||we!==r)&&(xr=null,Wn=de()+500,cn(e,r));do try{gm();break}catch(l){Bu(e,l)}while(1);Za(),Lo.current=a,q=o,he!==null?r=0:(Ee=null,we=0,r=ye)}if(r!==0){if(r===2&&(o=Zi(e),o!==0&&(t=o,r=Ra(e,o))),r===1)throw n=Ft,cn(e,0),Ir(e,t),$e(e,de()),n;if(r===6)Ir(e,t);else{if(o=e.current.alternate,!(t&30)&&!fm(o)&&(r=qo(e,t),r===2&&(a=Zi(e),a!==0&&(t=a,r=Ra(e,a))),r===1))throw n=Ft,cn(e,0),Ir(e,t),$e(e,de()),n;switch(e.finishedWork=o,e.finishedLanes=t,r){case 0:case 1:throw Error(R(345));case 2:nn(e,Le,xr);break;case 3:if(Ir(e,t),(t&130023424)===t&&(r=ms+500-de(),10<r)){if(wo(e,0)!==0)break;if(o=e.suspendedLanes,(o&t)!==t){Fe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=aa(nn.bind(null,e,Le,xr),r);break}nn(e,Le,xr);break;case 4:if(Ir(e,t),(t&4194240)===t)break;for(r=e.eventTimes,o=-1;0<t;){var s=31-lr(t);a=1<<s,s=r[s],s>o&&(o=s),t&=~a}if(t=o,t=de()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*mm(t/1960))-t,10<t){e.timeoutHandle=aa(nn.bind(null,e,Le,xr),t);break}nn(e,Le,xr);break;case 5:nn(e,Le,xr);break;default:throw Error(R(329))}}}return $e(e,de()),e.callbackNode===n?Fu.bind(null,e):null}function Ra(e,r){var n=xt;return e.current.memoizedState.isDehydrated&&(cn(e,r).flags|=256),e=qo(e,r),e!==2&&(r=Le,Le=n,r!==null&&_a(r)),e}function _a(e){Le===null?Le=e:Le.push.apply(Le,e)}function fm(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var t=0;t<n.length;t++){var o=n[t],a=o.getSnapshot;o=o.value;try{if(!ur(a(),o))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ir(e,r){for(r&=~ps,r&=~ei,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-lr(r),t=1<<n;e[n]=-1,r&=~t}}function bl(e){if(q&6)throw Error(R(327));Ln();var r=wo(e,0);if(!(r&1))return $e(e,de()),null;var n=qo(e,r);if(e.tag!==0&&n===2){var t=Zi(e);t!==0&&(r=t,n=Ra(e,t))}if(n===1)throw n=Ft,cn(e,0),Ir(e,r),$e(e,de()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,nn(e,Le,xr),$e(e,de()),null}function fs(e,r){var n=q;q|=1;try{return e(r)}finally{q=n,q===0&&(Wn=de()+500,Ko&&Yr())}}function hn(e){Fr!==null&&Fr.tag===0&&!(q&6)&&Ln();var r=q;q|=1;var n=Je.transition,t=W;try{if(Je.transition=null,W=1,e)return e()}finally{W=t,Je.transition=n,q=r,!(q&6)&&Yr()}}function hs(){He=Nn.current,ee(Nn)}function cn(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hp(n)),he!==null)for(n=he.return;n!==null;){var t=n;switch(Ya(t),t.tag){case 1:t=t.type.childContextTypes,t!=null&&Ao();break;case 3:Hn(),ee(Ue),ee(Te),os();break;case 5:ts(t);break;case 4:Hn();break;case 13:ee(te);break;case 19:ee(te);break;case 10:Ja(t.type._context);break;case 22:case 23:hs()}n=n.return}if(Ee=e,he=e=Hr(e.current,null),we=He=r,ye=0,Ft=null,ps=ei=fn=0,Le=xt=null,on!==null){for(r=0;r<on.length;r++)if(n=on[r],t=n.interleaved,t!==null){n.interleaved=null;var o=t.next,a=n.pending;if(a!==null){var s=a.next;a.next=o,t.next=s}n.pending=t}on=null}return e}function Bu(e,r){do{var n=he;try{if(Za(),mo.current=zo,Bo){for(var t=oe.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}Bo=!1}if(mn=0,Ce=ge=oe=null,gt=!1,Nt=0,ds.current=null,n===null||n.return===null){ye=1,Ft=r,he=null;break}e:{var a=e,s=n.return,l=n,c=r;if(r=we,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=hl(s);if(v!==null){v.flags&=-257,gl(v,s,l,a,r),v.mode&1&&fl(a,u,r),r=v,c=u;var m=r.updateQueue;if(m===null){var C=new Set;C.add(c),r.updateQueue=C}else m.add(c);break e}else{if(!(r&1)){fl(a,u,r),gs();break e}c=Error(R(426))}}else if(re&&l.mode&1){var w=hl(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),gl(w,s,l,a,r),Ka(Vn(c,l));break e}}a=c=Vn(c,l),ye!==4&&(ye=2),xt===null?xt=[a]:xt.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,r&=-r,a.lanes|=r;var h=Cu(a,c,r);ll(a,h);break e;case 1:l=c;var f=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qr===null||!qr.has(y)))){a.flags|=65536,r&=-r,a.lanes|=r;var x=Eu(a,l,r);ll(a,x);break e}}a=a.return}while(a!==null)}Ou(n)}catch(S){r=S,he===n&&n!==null&&(he=n=n.return);continue}break}while(1)}function zu(){var e=Lo.current;return Lo.current=zo,e===null?zo:e}function gs(){(ye===0||ye===3||ye===2)&&(ye=4),Ee===null||!(fn&268435455)&&!(ei&268435455)||Ir(Ee,we)}function qo(e,r){var n=q;q|=2;var t=zu();(Ee!==e||we!==r)&&(xr=null,cn(e,r));do try{hm();break}catch(o){Bu(e,o)}while(1);if(Za(),q=n,Lo.current=t,he!==null)throw Error(R(261));return Ee=null,we=0,ye}function hm(){for(;he!==null;)Lu(he)}function gm(){for(;he!==null&&!Ud();)Lu(he)}function Lu(e){var r=qu(e.alternate,e,He);e.memoizedProps=e.pendingProps,r===null?Ou(e):he=r,ds.current=null}function Ou(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=cm(n,r),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,he=null;return}}else if(n=lm(n,r,He),n!==null){he=n;return}if(r=r.sibling,r!==null){he=r;return}he=r=e}while(r!==null);ye===0&&(ye=5)}function nn(e,r,n){var t=W,o=Je.transition;try{Je.transition=null,W=1,ym(e,r,n,t)}finally{Je.transition=o,W=t}return null}function ym(e,r,n,t){do Ln();while(Fr!==null);if(q&6)throw Error(R(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Xd(e,a),e===Ee&&(he=Ee=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||to||(to=!0,$u(jo,function(){return Ln(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Je.transition,Je.transition=null;var s=W;W=1;var l=q;q|=4,ds.current=null,dm(e,n),Iu(n,e),Bp(oa),ko=!!ta,oa=ta=null,e.current=n,pm(n),qd(),q=l,W=s,Je.transition=a}else e.current=n;if(to&&(to=!1,Fr=e,Uo=o),a=e.pendingLanes,a===0&&(qr=null),Vd(n.stateNode),$e(e,de()),r!==null)for(t=e.onRecoverableError,n=0;n<r.length;n++)o=r[n],t(o.value,{componentStack:o.stack,digest:o.digest});if(Oo)throw Oo=!1,e=wa,wa=null,e;return Uo&1&&e.tag!==0&&Ln(),a=e.pendingLanes,a&1?e===ka?vt++:(vt=0,ka=e):vt=0,Yr(),null}function Ln(){if(Fr!==null){var e=Cc(Uo),r=Je.transition,n=W;try{if(Je.transition=null,W=16>e?16:e,Fr===null)var t=!1;else{if(e=Fr,Fr=null,Uo=0,q&6)throw Error(R(331));var o=q;for(q|=4,M=e.current;M!==null;){var a=M,s=a.child;if(M.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(M=u;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:yt(8,d,a)}var g=d.child;if(g!==null)g.return=d,M=g;else for(;M!==null;){d=M;var p=d.sibling,v=d.return;if(Mu(d),d===u){M=null;break}if(p!==null){p.return=v,M=p;break}M=v}}}var m=a.alternate;if(m!==null){var C=m.child;if(C!==null){m.child=null;do{var w=C.sibling;C.sibling=null,C=w}while(C!==null)}}M=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,M=s;else e:for(;M!==null;){if(a=M,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yt(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,M=h;break e}M=a.return}}var f=e.current;for(M=f;M!==null;){s=M;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,M=y;else e:for(s=f;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jo(9,l)}}catch(S){le(l,l.return,S)}if(l===s){M=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,M=x;break e}M=l.return}}if(q=o,Yr(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Vo,e)}catch{}t=!0}return t}finally{W=n,Je.transition=r}}return!1}function Al(e,r,n){r=Vn(n,r),r=Cu(e,r,1),e=Ur(e,r,1),r=Fe(),e!==null&&(zt(e,1,r),$e(e,r))}function le(e,r,n){if(e.tag===3)Al(e,e,n);else for(;r!==null;){if(r.tag===3){Al(r,e,n);break}else if(r.tag===1){var t=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof t.componentDidCatch=="function"&&(qr===null||!qr.has(t))){e=Vn(n,e),e=Eu(r,e,1),r=Ur(r,e,1),e=Fe(),r!==null&&(zt(r,1,e),$e(r,e));break}}r=r.return}}function xm(e,r,n){var t=e.pingCache;t!==null&&t.delete(r),r=Fe(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(we&n)===n&&(ye===4||ye===3&&(we&130023424)===we&&500>de()-ms?cn(e,0):ps|=n),$e(e,r)}function Uu(e,r){r===0&&(e.mode&1?(r=Gt,Gt<<=1,!(Gt&130023424)&&(Gt=4194304)):r=1);var n=Fe();e=kr(e,r),e!==null&&(zt(e,r,n),$e(e,n))}function vm(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),Uu(e,n)}function Cm(e,r){var n=0;switch(e.tag){case 13:var t=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:t=e.stateNode;break;default:throw Error(R(314))}t!==null&&t.delete(r),Uu(e,n)}var qu;qu=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ue.current)Oe=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return Oe=!1,sm(e,r,n);Oe=!!(e.flags&131072)}else Oe=!1,re&&r.flags&1048576&&Wc(r,To,r.index);switch(r.lanes=0,r.tag){case 2:var t=r.type;ho(e,r),e=r.pendingProps;var o=Un(r,Te.current);zn(r,n),o=as(null,r,t,e,o,n);var a=ss();return r.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qe(t)?(a=!0,Do(r)):a=!1,r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,rs(r),o.updater=Zo,r.stateNode=o,o._reactInternals=r,ma(r,t,e,n),r=ga(null,r,t,!0,a,n)):(r.tag=0,re&&a&&Qa(r),Pe(null,r,o,n),r=r.child),r;case 16:t=r.elementType;e:{switch(ho(e,r),e=r.pendingProps,o=t._init,t=o(t._payload),r.type=t,o=r.tag=Sm(t),e=ir(t,e),o){case 0:r=ha(null,r,t,e,n);break e;case 1:r=vl(null,r,t,e,n);break e;case 11:r=yl(null,r,t,e,n);break e;case 14:r=xl(null,r,t,ir(t.type,e),n);break e}throw Error(R(306,t,""))}return r;case 0:return t=r.type,o=r.pendingProps,o=r.elementType===t?o:ir(t,o),ha(e,r,t,o,n);case 1:return t=r.type,o=r.pendingProps,o=r.elementType===t?o:ir(t,o),vl(e,r,t,o,n);case 3:e:{if(ku(r),e===null)throw Error(R(387));t=r.pendingProps,a=r.memoizedState,o=a.element,Zc(e,r),Po(r,t,null,n);var s=r.memoizedState;if(t=s.element,a.isDehydrated)if(a={element:t,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},r.updateQueue.baseState=a,r.memoizedState=a,r.flags&256){o=Vn(Error(R(423)),r),r=Cl(e,r,t,n,o);break e}else if(t!==o){o=Vn(Error(R(424)),r),r=Cl(e,r,t,n,o);break e}else for(Ve=Or(r.stateNode.containerInfo.firstChild),We=r,re=!0,sr=null,n=Kc(r,null,t,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),t===o){r=Rr(e,r,n);break e}Pe(e,r,t,n)}r=r.child}return r;case 5:return Jc(r),e===null&&ua(r),t=r.type,o=r.pendingProps,a=e!==null?e.memoizedProps:null,s=o.children,ia(t,o)?s=null:a!==null&&ia(t,a)&&(r.flags|=32),wu(e,r),Pe(e,r,s,n),r.child;case 6:return e===null&&ua(r),null;case 13:return Ru(e,r,n);case 4:return ns(r,r.stateNode.containerInfo),t=r.pendingProps,e===null?r.child=$n(r,null,t,n):Pe(e,r,t,n),r.child;case 11:return t=r.type,o=r.pendingProps,o=r.elementType===t?o:ir(t,o),yl(e,r,t,o,n);case 7:return Pe(e,r,r.pendingProps,n),r.child;case 8:return Pe(e,r,r.pendingProps.children,n),r.child;case 12:return Pe(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(t=r.type._context,o=r.pendingProps,a=r.memoizedProps,s=o.value,X(No,t._currentValue),t._currentValue=s,a!==null)if(ur(a.value,s)){if(a.children===o.children&&!Ue.current){r=Rr(e,r,n);break e}}else for(a=r.child,a!==null&&(a.return=r);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===t){if(a.tag===1){c=Sr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),da(a.return,n,r),l.lanes|=n;break}c=c.next}}else if(a.tag===10)s=a.type===r.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(R(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),da(s,n,r),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===r){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Pe(e,r,o.children,n),r=r.child}return r;case 9:return o=r.type,t=r.pendingProps.children,zn(r,n),o=er(o),t=t(o),r.flags|=1,Pe(e,r,t,n),r.child;case 14:return t=r.type,o=ir(t,r.pendingProps),o=ir(t.type,o),xl(e,r,t,o,n);case 15:return Su(e,r,r.type,r.pendingProps,n);case 17:return t=r.type,o=r.pendingProps,o=r.elementType===t?o:ir(t,o),ho(e,r),r.tag=1,qe(t)?(e=!0,Do(r)):e=!1,zn(r,n),vu(r,t,o),ma(r,t,o,n),ga(null,r,t,!0,e,n);case 19:return _u(e,r,n);case 22:return ju(e,r,n)}throw Error(R(156,r.tag))};function $u(e,r){return gc(e,r)}function Em(e,r,n,t){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,r,n,t){return new Em(e,r,n,t)}function ys(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sm(e){if(typeof e=="function")return ys(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fa)return 11;if(e===Ba)return 14}return 2}function Hr(e,r){var n=e.alternate;return n===null?(n=Ze(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xo(e,r,n,t,o,a){var s=2;if(t=e,typeof e=="function")ys(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case jn:return un(n.children,o,a,r);case Pa:s=8,o|=8;break;case Bi:return e=Ze(12,n,r,o|2),e.elementType=Bi,e.lanes=a,e;case zi:return e=Ze(13,n,r,o),e.elementType=zi,e.lanes=a,e;case Li:return e=Ze(19,n,r,o),e.elementType=Li,e.lanes=a,e;case Jl:return ri(n,o,a,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xl:s=10;break e;case Zl:s=9;break e;case Fa:s=11;break e;case Ba:s=14;break e;case Mr:s=16,t=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return r=Ze(s,n,r,o),r.elementType=e,r.type=t,r.lanes=a,r}function un(e,r,n,t){return e=Ze(7,e,t,r),e.lanes=n,e}function ri(e,r,n,t){return e=Ze(22,e,t,r),e.elementType=Jl,e.lanes=n,e.stateNode={isHidden:!1},e}function Ni(e,r,n){return e=Ze(6,e,null,r),e.lanes=n,e}function Ii(e,r,n){return r=Ze(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function jm(e,r,n,t,o){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fi(0),this.expirationTimes=fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.identifierPrefix=t,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function xs(e,r,n,t,o,a,s,l,c){return e=new jm(e,r,n,l,c),r===1?(r=1,a===!0&&(r|=8)):r=0,a=Ze(3,null,null,r),e.current=a,a.stateNode=e,a.memoizedState={element:t,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rs(a),e}function wm(e,r,n){var t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:t==null?null:""+t,children:e,containerInfo:r,implementation:n}}function Hu(e){if(!e)return Wr;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(R(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qe(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(qe(n))return Hc(e,n,r)}return r}function Vu(e,r,n,t,o,a,s,l,c){return e=xs(n,t,!0,e,o,a,s,l,c),e.context=Hu(null),n=e.current,t=Fe(),o=$r(n),a=Sr(t,o),a.callback=r??null,Ur(n,a,o),e.current.lanes=o,zt(e,o,t),$e(e,t),e}function ni(e,r,n,t){var o=r.current,a=Fe(),s=$r(o);return n=Hu(n),r.context===null?r.context=n:r.pendingContext=n,r=Sr(a,s),r.payload={element:e},t=t===void 0?null:t,t!==null&&(r.callback=t),e=Ur(o,r,s),e!==null&&(cr(e,o,s,a),po(e,o,s)),s}function $o(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dl(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function vs(e,r){Dl(e,r),(e=e.alternate)&&Dl(e,r)}function km(){return null}var Wu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cs(e){this._internalRoot=e}ti.prototype.render=Cs.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(R(409));ni(e,r,null,null)};ti.prototype.unmount=Cs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;hn(function(){ni(null,e,null,null)}),r[wr]=null}};function ti(e){this._internalRoot=e}ti.prototype.unstable_scheduleHydration=function(e){if(e){var r=jc();e={blockedOn:null,target:e,priority:r};for(var n=0;n<Nr.length&&r!==0&&r<Nr[n].priority;n++);Nr.splice(n,0,e),n===0&&kc(e)}};function Es(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ml(){}function Rm(e,r,n,t,o){if(o){if(typeof t=="function"){var a=t;t=function(){var u=$o(s);a.call(u)}}var s=Vu(r,t,e,0,null,!1,!1,"",Ml);return e._reactRootContainer=s,e[wr]=s.current,bt(e.nodeType===8?e.parentNode:e),hn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof t=="function"){var l=t;t=function(){var u=$o(c);l.call(u)}}var c=xs(e,0,!1,null,null,!1,!1,"",Ml);return e._reactRootContainer=c,e[wr]=c.current,bt(e.nodeType===8?e.parentNode:e),hn(function(){ni(r,c,n,t)}),c}function ii(e,r,n,t,o){var a=n._reactRootContainer;if(a){var s=a;if(typeof o=="function"){var l=o;o=function(){var c=$o(s);l.call(c)}}ni(r,s,e,o)}else s=Rm(n,r,e,o,t);return $o(s)}Ec=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=ct(r.pendingLanes);n!==0&&(Oa(r,n|1),$e(r,de()),!(q&6)&&(Wn=de()+500,Yr()))}break;case 13:hn(function(){var t=kr(e,1);if(t!==null){var o=Fe();cr(t,e,1,o)}}),vs(e,1)}};Ua=function(e){if(e.tag===13){var r=kr(e,134217728);if(r!==null){var n=Fe();cr(r,e,134217728,n)}vs(e,134217728)}};Sc=function(e){if(e.tag===13){var r=$r(e),n=kr(e,r);if(n!==null){var t=Fe();cr(n,e,r,t)}vs(e,r)}};jc=function(){return W};wc=function(e,r){var n=W;try{return W=e,r()}finally{W=n}};Yi=function(e,r,n){switch(r){case"input":if(qi(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var t=n[r];if(t!==e&&t.form===e.form){var o=Yo(t);if(!o)throw Error(R(90));rc(t),qi(t,o)}}}break;case"textarea":tc(e,n);break;case"select":r=n.value,r!=null&&In(e,!!n.multiple,r,!1)}};uc=fs;dc=hn;var _m={usingClientEntryPoint:!1,Events:[Ot,_n,Yo,lc,cc,fs]},at={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bm={bundleType:at.bundleType,version:at.version,rendererPackageName:at.rendererPackageName,rendererConfig:at.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fc(e),e===null?null:e.stateNode},findFiberByHostInstance:at.findFiberByHostInstance||km,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Vo=oo.inject(bm),gr=oo}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_m;Qe.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Es(r))throw Error(R(200));return wm(e,r,null,n)};Qe.createRoot=function(e,r){if(!Es(e))throw Error(R(299));var n=!1,t="",o=Wu;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(t=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),r=xs(e,1,!1,null,null,n,!1,t,o),e[wr]=r.current,bt(e.nodeType===8?e.parentNode:e),new Cs(r)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=fc(r),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return hn(e)};Qe.hydrate=function(e,r,n){if(!oi(r))throw Error(R(200));return ii(null,e,r,!0,n)};Qe.hydrateRoot=function(e,r,n){if(!Es(e))throw Error(R(405));var t=n!=null&&n.hydratedSources||null,o=!1,a="",s=Wu;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),r=Vu(r,null,e,1,n??null,o,!1,a,s),e[wr]=r.current,bt(e),t)for(e=0;e<t.length;e++)n=t[e],o=n._getVersion,o=o(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,o]:r.mutableSourceEagerHydrationData.push(n,o);return new ti(r)};Qe.render=function(e,r,n){if(!oi(r))throw Error(R(200));return ii(null,e,r,!1,n)};Qe.unmountComponentAtNode=function(e){if(!oi(e))throw Error(R(40));return e._reactRootContainer?(hn(function(){ii(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};Qe.unstable_batchedUpdates=fs;Qe.unstable_renderSubtreeIntoContainer=function(e,r,n,t){if(!oi(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return ii(e,r,n,!1,t)};Qe.version="18.3.1-next-f1338f8080-20240426";function Gu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gu)}catch(e){console.error(e)}}Gu(),Gl.exports=Qe;var Qu=Gl.exports;const Am=Pl(Qu);var Tl=Qu;Pi.createRoot=Tl.createRoot,Pi.hydrateRoot=Tl.hydrateRoot;const U={drones:{basic:{costs:{scrap:15},time:5},medium:{costs:{scrap:250},time:20,prerequisites:e=>e.drones.basic>=5},advanced:{costs:{scrap:1500},time:60,prerequisites:e=>e.drones.medium>=3},reinforcedBasic:{costs:{scrap:600,metalRefinado:5},time:45,prerequisites:e=>e.techCenter.upgrades.reinforcedBasicDrones>0},reinforcedMedium:{costs:{scrap:2500,metalRefinado:15},time:120,prerequisites:e=>e.techCenter.upgrades.reinforcedMediumDrones>0},reinforcedAdvanced:{costs:{scrap:7e3,metalRefinado:30},time:300,prerequisites:e=>e.techCenter.upgrades.reinforcedAdvancedDrones>0},golem:{costs:{scrap:75e3,aceroEstructural:5},time:600,prerequisites:e=>e.techCenter.upgrades.golemChassis>0&&e.drones.reinforcedAdvanced>=5},expeditionDrone:{costs:{scrap:3e3,metalRefinado:20},time:150,prerequisites:e=>e.drones.advanced>=2},expeditionV2Drone:{costs:{scrap:15e3,metalRefinado:100},time:300,prerequisites:e=>e.drones.expeditionDrone>=5},wyrm:{costs:{scrap:25e4,aceroEstructural:25},time:1200,prerequisites:e=>e.drones.golem>=1}},energy:{solarPanels:{costs:{scrap:50},time:8},mediumSolarPanels:{costs:{scrap:200},time:25,prerequisites:e=>e.energy.solarPanels>=5},advancedSolar:{costs:{scrap:500},time:70,prerequisites:e=>e.energy.mediumSolarPanels>=1},energyCores:{costs:{scrap:2e3},time:180,prerequisites:e=>e.energy.advancedSolar>=3},fusionReactor:{costs:{scrap:1e4,metalRefinado:25},time:1200,prerequisites:e=>e.techCenter.upgrades.fusionTech>0&&e.energy.energyCores>=10}},storage:{basicStorage:{costs:{scrap:100},time:10},mediumStorage:{costs:{scrap:1e3},time:40,prerequisites:e=>e.storage.basicStorage>=3},advancedStorage:{costs:{scrap:1e4},time:170,prerequisites:e=>e.storage.mediumStorage>=1},quantumHoardUnit:{costs:{scrap:75e3,metalRefinado:50},time:900,prerequisites:e=>e.storage.advancedStorage>=3},lithiumIonBattery:{costs:{scrap:150},time:15},plasmaAccumulator:{costs:{scrap:750},time:60,prerequisites:e=>e.storage.lithiumIonBattery>=5},harmonicContainmentField:{costs:{scrap:3e3,metalRefinado:10},time:450,prerequisites:e=>e.storage.plasmaAccumulator>=3}},foundry:{metalRefinado:{costs:{scrap:1e3,energy:100},time:5,produces:{resource:"metalRefinado"}},aceroEstructural:{costs:{scrap:1e3,metalRefinado:10,energy:250},time:30,produces:{resource:"aceroEstructural"}},placasCasco:{costs:{fragmentosPlaca:10,aceroEstructural:5,energy:500},time:50,produces:{resource:"placasCasco"}},cableadoSuperconductor:{costs:{circuitosDañados:10,metalRefinado:25,energy:1e3},time:75,produces:{resource:"cableadoSuperconductor"}},barraCombustible:{costs:{metalRefinado:10,aceroEstructural:5,energy:1500},time:120,produces:{resource:"barraCombustible"}}}},vo=[{id:"main_1_unlock_tech",isMain:!0,title:"Primeros Pasos Tecnológicos",description:"La reconstrucción empieza aquí. Desbloquea el Centro Técnico y la Fundición para acceder a nuevas posibilidades.",objective:"Desbloquea el Centro Técnico y la Fundición.",target:2,current:0,completed:!1,reward:{type:"scrap",value:1e4}},{id:"main_2_produce_alloys",isMain:!0,title:"Aleaciones Avanzadas",description:"Produce Metal Refinado y Acero Estructural. Son la base de toda construcción avanzada.",objective:"Produce 500 de Metal Refinado y 100 de Acero Estructural.",target:600,current:0,completed:!1,reward:{type:"scrap",value:25e3}},{id:"main_3_expeditions",isMain:!0,title:"Hacia lo Desconocido",description:"Hay recursos que no podemos fabricar. Construye un Dron de Expedición y completa tu primera expedición.",objective:"Completa 1 expedición.",target:1,current:0,completed:!1,reward:{type:"scrap",value:5e4}},{id:"main_4_fabricate_components",isMain:!0,title:"Componentes del Vindicator",description:"Usa los materiales de las expediciones para fabricar los componentes primarios del Vindicator.",objective:"Fabrica 50 Placas de Casco y 25 Cables de Superconductor.",target:75,current:0,completed:!1,reward:{type:"nucleoSingularidad",value:1}},{id:"main_5_final_assembly",isMain:!0,title:"Ensamblaje Final",description:"¡El momento ha llegado! Dona todos los componentes necesarios al Astillero y reconstruye el Vindicator.",objective:"Completa la construcción del Vindicator.",target:1,current:0,completed:!1,reward:{type:"unlock",value:2}},{id:"sec_1_1_basic_fleet",isMain:!1,title:"Primeros Auxiliares",description:"Forma una flota inicial de 10 Drones Básicos para empezar a recolectar chatarra de forma eficiente.",objective:"Mantén una flota activa de 10 Drones Básicos.",target:10,current:0,completed:!1,reward:{type:"scrap",value:250}},{id:"sec_1_2_scrap_engine_i",isMain:!1,title:"Motor de Chatarra I",description:"No se trata de cuántos drones tienes, sino de cuánto producen. Aumenta tu producción de chatarra.",objective:"Alcanza una producción de +50 Chatarra/segundo.",target:50,current:0,completed:!1,reward:{type:"scrap",value:500}},{id:"sec_1_3_power_surplus_i",isMain:!1,title:"Excedente de Potencia I",description:"Una fábrica sin energía es un montón de metal inútil. Genera más energía de la que consumes.",objective:"Mantén un balance de +20 Energía/segundo durante 60 segundos.",target:60,current:0,completed:!1,reward:{type:"energy",value:250}},{id:"sec_1_4_scrap_reserves",isMain:!1,title:"Reservas de Chatarra",description:"Prepara tus almacenes para proyectos más grandes. Aumenta tu capacidad máxima de chatarra.",objective:"Aumenta tu almacenamiento máximo a 1,000 de Chatarra.",target:1e3,current:0,completed:!1,reward:{type:"scrap",value:750}},{id:"sec_1_5_charged_batteries",isMain:!1,title:"Baterías Cargadas",description:"No dejes que tu energía se desperdicie. Amplía tu capacidad máxima de almacenamiento de energía.",objective:"Aumenta tu almacenamiento máximo a 500 de Energía.",target:500,current:0,completed:!1,reward:{type:"energy",value:250}},{id:"sec_1_6_expanding_force",isMain:!1,title:"Ampliando la Fuerza",description:"Los Drones Medios son un gran salto en eficiencia. Construye tu primer ejemplar.",objective:"Construye tu primer Dron Medio.",target:1,current:0,completed:!1,reward:{type:"scrap",value:1e3}},{id:"sec_1_7_continuous_operation",isMain:!1,title:"Operación Continua",description:"La estabilidad es la clave del éxito. Demuestra que puedes mantener la estación funcionando sin interrupciones.",objective:"Mantén tu energía por encima de 0 durante 5 minutos.",target:300,current:0,completed:!1,reward:{type:"scrap",value:2e3}},{id:"sec_1_8_scrap_engine_ii",isMain:!1,title:"Motor de Chatarra II",description:"Aumenta aún más tu producción de chatarra para financiar las operaciones más avanzadas.",objective:"Alcanza una producción de +150 Chatarra/segundo.",target:150,current:0,completed:!1,reward:{type:"scrap",value:2500}},{id:"sec_1_9_first_gigawatt",isMain:!1,title:"El Primer Gigavatio",description:"Expande tu red energética a una escala mayor para soportar una flota industrial completa.",objective:"Instala un total de 25 Paneles Solares (cualquier tipo).",target:25,current:0,completed:!1,reward:{type:"energy",value:500}},{id:"sec_1_10_self_sufficiency",isMain:!1,title:"Autosuficiencia",description:"Domina las bases. Demuestra que puedes producir todas las unidades y estructuras esenciales.",objective:"Construye al menos 1 de cada: Dron Básico, Dron Medio, Panel Solar Básico, Almacén Básico.",target:4,current:0,completed:!1,reward:{type:"scrap",value:5e3}},{id:"sec_2_1_collective_mind_i",isMain:!1,title:"Mente Colectiva I",description:"El conocimiento es poder. Empieza a acumular Puntos de Investigación para desbloquear el futuro.",objective:"Acumula un total de 100 Puntos de Investigación.",target:100,current:0,completed:!1,reward:{type:"scrap",value:1500}},{id:"sec_2_2_first_alloy",isMain:!1,title:"Primera Aleación",description:"La chatarra es solo el principio. Produce tu primer lingote de Metal Refinado en la Fundición.",objective:"Produce 1 unidad de Metal Refinado.",target:1,current:0,completed:!1,reward:{type:"scrap",value:2500}},{id:"sec_2_3_always_optimizing",isMain:!1,title:"Siempre Optimizando",description:"Un buen técnico explora todas las opciones. Investiga varias tecnologías para diversificar tus ventajas.",objective:"Desbloquea 5 tecnologías diferentes.",target:5,current:0,completed:!1,reward:{type:"scrap",value:5e3}},{id:"sec_2_4_balanced_fleet",isMain:!1,title:"Flota Equilibrada",description:"La especialización es clave. Mantén una flota activa y diversa para maximizar la eficiencia.",objective:"Ten activos: 20 Drones Básicos, 10 Medios y 5 Avanzados.",target:35,current:0,completed:!1,reward:{type:"scrap",value:7500}},{id:"sec_2_5_basic_metallurgy",isMain:!1,title:"Metalurgia Básica",description:"Aumenta la producción de Metal Refinado. Es vital para las estructuras y drones del juego intermedio.",objective:"Produce un total de 250 de Metal Refinado.",target:250,current:0,completed:!1,reward:{type:"scrap",value:1e4}},{id:"sec_2_6_one_step_ahead",isMain:!1,title:"Un Paso Adelante",description:"Los Drones Avanzados son el pilar de una economía poderosa. Construye tu primer ejemplar.",objective:"Construye tu primer Dron Avanzado.",target:1,current:0,completed:!1,reward:{type:"scrap",value:5e3}},{id:"sec_2_7_efficiency_master",isMain:!1,title:"Maestro de la Eficiencia",description:"Demuestra tu dominio especializándote en una tecnología y llevándola a su máximo potencial.",objective:"Lleva cualquier tecnología de producción al Nivel 5.",target:5,current:0,completed:!1,reward:{type:"scrap",value:15e3}},{id:"sec_2_8_front_line",isMain:!1,title:"Línea de Frente",description:"Los Drones Reforzados son la clave para futuras operaciones. Empieza a construir tu fuerza de choque.",objective:"Construye un total de 10 Drones Reforzados (cualquier tipo).",target:10,current:0,completed:!1,reward:{type:"scrap",value:2e4}},{id:"sec_2_9_advanced_siderurgy",isMain:!1,title:"Siderurgia Avanzada",description:"El Acero Estructural es necesario para las unidades más poderosas. Establece una línea de producción estable.",objective:"Produce un total de 100 de Acero Estructural.",target:100,current:0,completed:!1,reward:{type:"scrap",value:25e3}},{id:"sec_2_10_collective_mind_ii",isMain:!1,title:"Mente Colectiva II",description:"Conviértete en un maestro de la tecnología, acumulando el conocimiento necesario para reconstruir el Vindicator.",objective:"Acumula un total de 1,000 Puntos de Investigación.",target:1e3,current:0,completed:!1,reward:{type:"scrap",value:5e4}},{id:"sec_3_1_rookie_explorer",isMain:!1,title:"Explorador Novato",description:"Hay recursos ahí fuera que no podemos fabricar. Envía tu primera expedición y mira lo que encuentras.",objective:"Completa con éxito una expedición de Bajo Riesgo.",target:1,current:0,completed:!1,reward:{type:"scrap",value:1e4}},{id:"sec_3_2_a_titan_is_born",isMain:!1,title:"Nace un Titán",description:"El Dron Golem es una maravilla de la ingeniería y la base del Astillero. Construye uno.",objective:"Construye tu primer Dron Golem.",target:1,current:0,completed:!1,reward:{type:"scrap",value:1e5}},{id:"sec_3_3_seasoned_adventurer",isMain:!1,title:"Aventurero Curtido",description:"Las expediciones más peligrosas ofrecen las mejores recompensas. Es hora de arriesgarse.",objective:"Completa con éxito 3 expediciones de Medio Riesgo.",target:3,current:0,completed:!1,reward:{type:"scrap",value:75e3}},{id:"sec_3_4_dragons_hoard",isMain:!1,title:"El Tesoro del Dragón",description:"Demuestra tu poderío industrial acumulando una cantidad masiva de chatarra.",objective:"Almacena 100,000 de Chatarra al mismo tiempo.",target:1e5,current:0,completed:!1,reward:{type:"scrap",value:25e3}},{id:"sec_3_5_final_preparations",isMain:!1,title:"Preparativos Finales",description:"Reúne los materiales básicos necesarios para la construcción de los componentes del Vindicator.",objective:"Almacena 500 Metal Refinado y 100 Acero Estructural simultáneamente.",target:600,current:0,completed:!1,reward:{type:"scrap",value:125e3}},{id:"sec_3_6_steel_army",isMain:!1,title:"Ejército de Acero",description:"Coordina una fuerza de trabajo masiva. El zumbido de 150 drones es el sonido del progreso.",objective:"Mantén una flota activa total de 150 drones.",target:150,current:0,completed:!1,reward:{type:"scrap",value:15e4}},{id:"sec_3_7_the_great_wyrm",isMain:!1,title:"El Gran Gusano",description:"Construye el Dron Wyrm, la cima de la tecnología de recolección y una verdadera proeza industrial.",objective:"Construye tu primer Dron Wyrm.",target:1,current:0,completed:!1,reward:{type:"scrap",value:25e4}},{id:"sec_3_8_legendary_treasure_hunter",isMain:!1,title:"Cazatesoros Legendario",description:"Enfréntate a los mayores peligros del cosmos y vuelve con los botines más raros.",objective:"Completa con éxito una expedición de Alto Riesgo.",target:1,current:0,completed:!1,reward:{type:"scrap",value:2e5}},{id:"sec_3_9_mass_production",isMain:!1,title:"Producción en Masa",description:"Demuestra tu dominio total sobre la cadena de producción industrial avanzada.",objective:"Produce un total de 2,000 Metal Refinado y 500 Acero Estructural.",target:2500,current:0,completed:!1,reward:{type:"scrap",value:3e5}},{id:"sec_3_10_industrial_empire",isMain:!1,title:"Imperio Industrial",description:"Alcanza la cima de la eficiencia en la recolección, convirtiendo el campo de asteroides en tu dominio.",objective:"Alcanza una producción de +1,000 Chatarra/segundo.",target:1e3,current:0,completed:!1,reward:{type:"scrap",value:5e5}}],io=e=>{const r={},n=U[e];for(const t in n)r[t]={progress:0,queue:0,time:n[t].time};return r},me={currentScene:"startMenu",phase2Unlocked:!1,notificationQueue:[],battleCount:0,resources:{scrap:0,energy:25,metalRefinado:0,aceroEstructural:0,fragmentosPlaca:0,circuitosDañados:0,nucleoSingularidad:0,placasCasco:0,cableadoSuperconductor:0,aleacionReforzada:0,neuroChipCorrupto:0,barraCombustible:0,energyProduction:0,energyConsumption:0,maxEnergy:50,maxScrap:150},battleRoom:{selectedDestination:null,battlesCompleted:Array(6).fill(0)},workshopBuyAmount:1,drones:{basic:0,medium:0,advanced:0,reinforcedBasic:0,reinforcedMedium:0,reinforcedAdvanced:0,golem:0,expeditionDrone:0,expeditionV2Drone:0,wyrm:0},workshop:{queues:io("drones")},rates:{scrapPerClick:1,scrapPerSecond:0},modules:{energy:!1,storage:!1,missions:!1,techCenter:!1,foundry:!1,shipyard:!1,expeditions:!1},energy:{solarPanels:0,mediumSolarPanels:0,advancedSolar:0,energyCores:0,fusionReactor:0,queues:io("energy")},storage:{basicStorage:0,mediumStorage:0,advancedStorage:0,quantumHoardUnit:0,lithiumIonBattery:0,plasmaAccumulator:0,harmonicContainmentField:0,queues:io("storage")},aurora:{activeMessages:[],pendingMessages:[],shownMessages:new Set},missions:{activeMissions:vo.map(e=>({...e,current:0,completed:!1})),completedMissions:[],currentMissionIndex:0},techCenter:{unlocked:!1,researchPoints:0,upgrades:{collectionEfficiency:0,droneAssembly:0,reinforcedBasicDrones:0,reinforcedMediumDrones:0,reinforcedAdvancedDrones:0,golemChassis:0,swarmAI:0,powerOptimization:0,energyCalibration:0,energyEfficiency:0,batteryTech:0,coreEfficiency:0,powerGrid:0,geothermalEnergy:0,fusionTech:0,poweredFabricators:0,researchEfficiency:0,advancedAnalysis:0,algorithmOptimization:0,constructionEfficiency:0,quantumComputing:0,globalEfficiency:0,singularity:0,storageOptimization:0,storageConstruction:0,cargoDrones:0,energyStorage:0,matterCompression:0,pocketDimension:0,foundryProtocols:0,metalSmeltingSpeed:0,steelProductionSpeed:0,smeltingEfficiency:0,foundryEnergy:0,alloyCreation:0,automatedFabrication:0,selfReplication:0}},energyBuyAmount:1,storageBuyAmount:1,foundryBuyAmount:1,foundry:{queues:io("foundry")},currentView:"",activeExpeditions:[],shipyard:{unlocked:!1,progress:{hull:{placasCasco:0},powerCore:{cableadoSuperconductor:0},targetingSystem:{researchPoints:0,cableadoSuperconductor:0},warpDrive:{nucleoSingularidad:0}},costs:{hull:{placasCasco:50},powerCore:{cableadoSuperconductor:25},targetingSystem:{researchPoints:5e5,cableadoSuperconductor:15},warpDrive:{nucleoSingularidad:1}}},vindicator:{maxHealth:500,currentHealth:500,maxShield:250,currentShield:250,damage:50},vindicatorUpgrades:{reinforcedArmor:{id:"reinforced_armor",name:"Blindaje Reforzado",description:"Aumenta la vida máxima del Vindicator",maxStars:5,currentStars:0,costPerStar:{phase1Resources:{aleacionReforzada:50,neuroChipCorrupto:25},phase2Resources:{fragmentosPlaca:100,circuitosDañados:50}},statIncreasePerStar:{health:100}},shieldGenerator:{id:"shield_generator",name:"Generador de Escudos",description:"Aumenta el escudo máximo del Vindicator",maxStars:5,currentStars:0,costPerStar:{phase1Resources:{aleacionReforzada:40,neuroChipCorrupto:30},phase2Resources:{fragmentosPlaca:80,circuitosDañados:60}},statIncreasePerStar:{shield:50}},improvedCannons:{id:"improved_cannons",name:"Cañones Mejorados",description:"Aumenta el daño del Vindicator",maxStars:5,currentStars:0,costPerStar:{phase1Resources:{aleacionReforzada:60,neuroChipCorrupto:20},phase2Resources:{fragmentosPlaca:120,circuitosDañados:40}},statIncreasePerStar:{damage:10}}},blueprints:0,vindicatorLevel:1,activeBattle:null,settings:{volume:75},lastSaveTimestamp:void 0},sn=[{id:"chatarreriaOrbital",title:"Chatarrería Orbital",description:"Una densa nube de chatarra de naves antiguas. Ideal para recolección básica.",duration:600,costs:{drones:1},rewards:{scrap:[500,2e3],metalRefinado:[1,5]},risk:{chance:.05,droneLossPercentage:1},droneType:"expeditionDrone"},{id:"cinturonAsteroides",title:"Cinturón de Asteroides",description:"Un cinturón rico en minerales, pero inestable. Se requiere equipo más robusto.",duration:1800,costs:{drones:3,metalRefinado:25},rewards:{scrap:[3e3,7500],metalRefinado:[10,30],fragmentosPlaca:[5,15]},risk:{chance:.1,droneLossPercentage:.5},droneType:"expeditionDrone"},{id:"cementerioAcorazados",title:"Cementerio de Acorazados",description:"Los restos de una batalla legendaria. Contiene materiales avanzados y peligros desconocidos.",duration:3600,costs:{drones:5,aceroEstructural:10},rewards:{scrap:[8e3,15e3],aceroEstructural:[5,12],circuitosDañados:[3,10]},risk:{chance:.15,droneLossPercentage:.3},droneType:"expeditionDrone"},{id:"incursionZonaCorrupta",title:"Incursión a Zona Corrupta",description:"Un sector donde las leyes de la física parecen fallar. Se rumorea que contiene componentes anómalos.",duration:3600,costs:{drones:1,barraCombustible:5},rewards:{scrap:[1e4,2e4],aleacionReforzada:[10,25],neuroChipCorrupto:[5,15]},risk:{chance:.2,droneLossPercentage:1},droneType:"expeditionV2Drone"}],G=(e,r)=>{if(r.prerequisites&&!r.prerequisites(e))return console.warn(`Prerequisites not met for ${r.queuePath[2]}`),e;const n=Object.entries(r.costs);if(n.length===0)return e;const t=n.map(([w,h])=>{if(h===0)return 1/0;const f=e.resources[w]||0;return Math.floor(f/h)}),o=Math.min(...t),a=r.buyAmount==="max"?o:Math.min(r.buyAmount,o);if(a<=0)return e;const s={...e.resources};for(const[w,h]of n)s[w]-=a*h;const[l,c,u]=r.queuePath,d=e[l],g=d[c],p=g[u],v={...p,queue:p.queue+a},m={...g,[u]:v},C={...d,[c]:m};return{...e,resources:s,[l]:C}},Dm=(e,r)=>{var n;switch(r.type){case"BUILD_BASIC_DRONE":return G(e,{...U.drones.basic,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","basic"]});case"BUILD_MEDIUM_DRONE":return G(e,{...U.drones.medium,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","medium"]});case"BUILD_ADVANCED_DRONE":return G(e,{...U.drones.advanced,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","advanced"]});case"BUILD_REINFORCED_BASIC":return G(e,{...U.drones.reinforcedBasic,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","reinforcedBasic"]});case"BUILD_REINFORCED_MEDIUM":return G(e,{...U.drones.reinforcedMedium,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","reinforcedMedium"]});case"BUILD_REINFORCED_ADVANCED":return G(e,{...U.drones.reinforcedAdvanced,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","reinforcedAdvanced"]});case"BUILD_GOLEM_DRONE":return G(e,{...U.drones.golem,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","golem"]});case"BUILD_EXPEDITION_DRONE":return G(e,{...U.drones.expeditionDrone,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","expeditionDrone"]});case"BUILD_EXPEDITION_V2_DRONE":return G(e,{...U.drones.expeditionV2Drone,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","expeditionV2Drone"]});case"BUILD_WYRM":return G(e,{...U.drones.wyrm,buyAmount:e.workshopBuyAmount,queuePath:["workshop","queues","wyrm"]});case"BUILD_SOLAR_PANEL":return G(e,{...U.energy.solarPanels,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","solarPanels"]});case"BUILD_MEDIUM_SOLAR":return G(e,{...U.energy.mediumSolarPanels,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","mediumSolarPanels"]});case"BUILD_ADVANCED_SOLAR":return G(e,{...U.energy.advancedSolar,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","advancedSolar"]});case"BUILD_ENERGY_CORE":return G(e,{...U.energy.energyCores,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","energyCores"]});case"BUILD_FUSION_REACTOR":return G(e,{...U.energy.fusionReactor,buyAmount:e.energyBuyAmount,queuePath:["energy","queues","fusionReactor"]});case"BUILD_BASIC_STORAGE":return G(e,{...U.storage.basicStorage,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","basicStorage"]});case"BUILD_MEDIUM_STORAGE":return G(e,{...U.storage.mediumStorage,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","mediumStorage"]});case"BUILD_ADVANCED_STORAGE":return G(e,{...U.storage.advancedStorage,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","advancedStorage"]});case"BUILD_QUANTUM_HOARD_UNIT":return G(e,{...U.storage.quantumHoardUnit,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","quantumHoardUnit"]});case"BUILD_LITHIUM_ION_BATTERY":return G(e,{...U.storage.lithiumIonBattery,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","lithiumIonBattery"]});case"BUILD_PLASMA_ACCUMULATOR":return G(e,{...U.storage.plasmaAccumulator,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","plasmaAccumulator"]});case"BUILD_HARMONIC_CONTAINMENT_FIELD":return G(e,{...U.storage.harmonicContainmentField,buyAmount:e.storageBuyAmount,queuePath:["storage","queues","harmonicContainmentField"]});case"CRAFT_REFINED_METAL":{const t=U.foundry.metalRefinado,o=(e.techCenter.upgrades.smeltingEfficiency||0)*.05,a=(e.techCenter.upgrades.foundryEnergy||0)*.05,s=t.costs.scrap||0,l=t.costs.energy||0,c={...t.costs,scrap:s*(1-o),energy:l*(1-a)};return G(e,{...t,costs:c,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","metalRefinado"]})}case"CRAFT_STRUCTURAL_STEEL":return G(e,{...U.foundry.aceroEstructural,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","aceroEstructural"]});case"CRAFT_HULL_PLATE":return G(e,{...U.foundry.placasCasco,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","placasCasco"]});case"CRAFT_SUPERCONDUCTOR_WIRING":return G(e,{...U.foundry.cableadoSuperconductor,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","cableadoSuperconductor"]});case"CRAFT_FUEL_ROD":return G(e,{...U.foundry.barraCombustible,buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","barraCombustible"]});case"CRAFT_PURIFIED_METAL":return G(e,{costs:{scrap:5e3,energy:500},buyAmount:e.foundryBuyAmount,queuePath:["foundry","queues","metalRefinado"]});case"DISMANTLE_DRONE":{const{droneType:t,amount:o}=r.payload,a=e.drones[t];if(!a||a<=0)return e;const s=o==="max"?a:Math.min(o,a),l=U.drones[t];if(!l||!l.costs)return e;const c={...e.resources};for(const d in l.costs){const g=l.costs[d]||0;c[d]+=Math.floor(g*s*.75)}const u={...e.drones,[t]:e.drones[t]-s};return{...e,resources:c,drones:u}}case"CANCEL_QUEUE_ITEM":{const{category:t,itemName:o,amount:a}=r.payload,s=e[t],l=(n=s==null?void 0:s.queues)==null?void 0:n[o];if(!l||l.queue<=0)return e;const c=a==="all"?l.queue:Math.min(a,l.queue);if(c<=0)return e;const d=((v,m)=>{const C=U[v];if(C&&C[m]&&C[m].costs)return C[m].costs;if(v==="workshop"&&U.drones[m])return U.drones[m].costs;if(v==="foundry"){const w=Object.values(U.foundry).find(h=>{var f;return((f=h.id)==null?void 0:f.toLowerCase())===m.toLowerCase()});if(w)return w.costs}return{}})(t,o),g={...e.resources};Object.entries(d).forEach(([v,m])=>{v in g&&(g[v]+=m*c)});const p={...l,queue:l.queue-c,progress:l.queue-c===0?0:l.progress};return{...e,resources:g,[t]:{...s,queues:{...s.queues,[o]:p}}}}default:return e}},Mm=(e,r)=>{switch(r.type){case"UPDATE_MISSION_PROGRESS":{const{resources:n,drones:t,energy:o,storage:a,techCenter:s,modules:l,shipyard:c,missions:u,rates:d}=e;let g=!1;const p=u.activeMissions.map(v=>{if(v.completed)return v;let m=v.current;switch(v.id){case"main_1_unlock_tech":m=(s.unlocked?1:0)+(l.foundry?1:0);break;case"main_2_produce_alloys":m=n.metalRefinado+n.aceroEstructural;break;case"main_3_expeditions":m=e.activeExpeditions.filter(w=>w.completionTimestamp>0).length;break;case"main_4_fabricate_components":m=n.placasCasco+n.cableadoSuperconductor;break;case"main_5_final_assembly":{const h=Object.keys(c.costs).every(f=>{const y=c.costs[f],x=c.progress[f];return Object.keys(y).every(b=>x[b]>=y[b])});if(m=h?1:0,h&&!v.completed)return g=!0,{...v,current:1,completed:!0};break}case"sec_1_1_basic_fleet":m=t.basic;break;case"sec_1_2_scrap_engine_i":m=d.scrapPerSecond;break;case"sec_1_3_power_surplus_i":n.energyProduction-n.energyConsumption>=20?m=(v.current||0)+1:m=0;break;case"sec_1_4_scrap_reserves":m=n.maxScrap;break;case"sec_1_5_charged_batteries":m=n.maxEnergy;break;case"sec_1_6_expanding_force":m=t.medium>0?1:0;break;case"sec_1_7_continuous_operation":n.energy>0?m=(v.current||0)+1:m=0;break;case"sec_1_8_scrap_engine_ii":m=d.scrapPerSecond;break;case"sec_1_9_first_gigawatt":m=o.solarPanels+o.mediumSolarPanels+o.advancedSolar;break;case"sec_1_10_self_sufficiency":m=(t.basic>0?1:0)+(t.medium>0?1:0)+(o.solarPanels>0?1:0)+(a.basicStorage>0?1:0);break;case"sec_2_1_collective_mind_i":m=s.researchPoints;break;case"sec_2_2_first_alloy":m=n.metalRefinado>0?1:0;break;case"sec_2_3_always_optimizing":m=Object.values(s.upgrades).filter(w=>w>0).length;break;case"sec_2_4_balanced_fleet":t.basic>=20&&t.medium>=10&&t.advanced>=5?m=35:m=0;break;case"sec_2_5_basic_metallurgy":m=n.metalRefinado;break;case"sec_2_6_one_step_ahead":m=t.advanced>0?1:0;break;case"sec_2_7_efficiency_master":m=Math.max(0,...Object.values(s.upgrades));break;case"sec_2_8_front_line":m=t.reinforcedBasic+t.reinforcedMedium+t.reinforcedAdvanced;break;case"sec_2_9_advanced_siderurgy":m=n.aceroEstructural;break;case"sec_2_10_collective_mind_ii":m=s.researchPoints;break;case"sec_3_1_rookie_explorer":break;case"sec_3_2_a_titan_is_born":m=t.golem>0?1:0;break;case"sec_3_3_seasoned_adventurer":break;case"sec_3_4_dragons_hoard":m=n.scrap;break;case"sec_3_5_final_preparations":n.metalRefinado>=500&&n.aceroEstructural>=100?m=600:m=0;break;case"sec_3_6_steel_army":m=Object.values(t).reduce((w,h)=>w+h,0);break;case"sec_3_7_the_great_wyrm":m=t.wyrm>0?1:0;break;case"sec_3_8_legendary_treasure_hunter":break;case"sec_3_9_mass_production":m=n.metalRefinado+n.aceroEstructural;break;case"sec_3_10_industrial_empire":m=d.scrapPerSecond;break}const C=Math.min(m,v.target);return C!==v.current?{...v,current:C}:v});return g?{...e,currentScene:"phase2Intro",phase2Unlocked:!0,missions:{...e.missions,activeMissions:p.filter(v=>v.id!=="main_5_final_assembly"),completedMissions:[...e.missions.completedMissions,"main_5_final_assembly"]}}:{...e,missions:{...e.missions,activeMissions:p}}}case"CLAIM_REWARD":{const n=r.payload,t=e.missions.activeMissions.find(d=>d.id===n);if(!t||t.current<t.target)return e;let o=!0;switch(t.reward.type){case"scrap":o=e.resources.scrap+t.reward.value<=e.resources.maxScrap;break;case"energy":o=e.resources.energy+t.reward.value<=e.resources.maxEnergy;break;default:o=!0}if(!o)return e;const a={...e.resources};switch(t.reward.type){case"scrap":a.scrap+=t.reward.value;break;case"energy":a.energy+=t.reward.value;break;case"nucleoSingularidad":a.nucleoSingularidad+=t.reward.value;break}const s=e.missions.activeMissions.filter(d=>d.id!==n),l=[...e.missions.completedMissions,n],c=[];if(t.isMain){const d=vo.findIndex(g=>g.id===n);if(d!==-1&&d+1<vo.length){const g=vo[d+1];!e.missions.activeMissions.some(p=>p.id===g.id)&&!e.missions.completedMissions.includes(g.id)&&c.push({...g,current:0,completed:!1})}}const u=[...s,...c];return{...e,resources:a,missions:{...e.missions,activeMissions:u,completedMissions:l}}}default:return e}},Yu=[{level:2,blueprintCost:10,statBonus:{health:100,shield:50,damage:10}},{level:3,blueprintCost:25,statBonus:{health:150,shield:75,damage:15}},{level:4,blueprintCost:50,statBonus:{health:200,shield:100,damage:20}},{level:5,blueprintCost:100,statBonus:{health:250,shield:125,damage:25}}],ln=[{name:"Sector de Patrulla Dron",description:"Drones de reconocimiento renegados han infestado este sector. Despéjalo.",battles:[{enemyName:"Dron Patrulla Mk.I",health:100,shield:50,damage:20,reward:{scrap:500,aleacionReforzada:1,neuroChipCorrupto:1},type:"regular"},{enemyName:"Dron Patrulla Mk.II",health:120,shield:60,damage:22,reward:{scrap:550,aleacionReforzada:1,neuroChipCorrupto:1},type:"regular"},{enemyName:"Dron Patrulla Mk.III",health:140,shield:70,damage:25,reward:{scrap:600,aleacionReforzada:2,neuroChipCorrupto:1},type:"regular"},{enemyName:"Dron Patrulla Mk.IV",health:160,shield:80,damage:28,reward:{scrap:650,aleacionReforzada:2,neuroChipCorrupto:2},type:"regular"},{enemyName:"Líder de Escuadrón Dron",health:250,shield:125,damage:40,reward:{scrap:1500,aleacionReforzada:5,neuroChipCorrupto:3,blueprints:1},type:"mini-boss"},{enemyName:"Dron de Asalto Mk.I",health:180,shield:90,damage:32,reward:{scrap:700,aleacionReforzada:2,neuroChipCorrupto:2},type:"regular"},{enemyName:"Dron de Asalto Mk.II",health:200,shield:100,damage:35,reward:{scrap:750,aleacionReforzada:3,neuroChipCorrupto:2},type:"regular"},{enemyName:"Dron de Asalto Mk.III",health:220,shield:110,damage:38,reward:{scrap:800,aleacionReforzada:3,neuroChipCorrupto:3},type:"regular"},{enemyName:"Dron de Asalto Mk.IV",health:240,shield:120,damage:41,reward:{scrap:850,aleacionReforzada:4,neuroChipCorrupto:3},type:"regular"},{enemyName:"Nave Nodriza Dron",health:500,shield:250,damage:60,reward:{scrap:3e3,aleacionReforzada:10,neuroChipCorrupto:7,blueprints:3},type:"boss"}]},{name:"Nido de Carroñeros",description:"Una pequeña facción de carroñeros ha reclamado un campo de asteroides cercano.",battles:[{enemyName:"Nave Carroñera Mk.I",health:250,shield:100,damage:45,reward:{scrap:1e3,aleacionReforzada:3,neuroChipCorrupto:2},type:"regular"},{enemyName:"Nave Carroñera Mk.II",health:280,shield:115,damage:50,reward:{scrap:1100,aleacionReforzada:3,neuroChipCorrupto:2},type:"regular"},{enemyName:"Nave Carroñera Mk.III",health:310,shield:130,damage:55,reward:{scrap:1200,aleacionReforzada:4,neuroChipCorrupto:3},type:"regular"},{enemyName:"Nave Carroñera Mk.IV",health:340,shield:145,damage:60,reward:{scrap:1300,aleacionReforzada:4,neuroChipCorrupto:3},type:"regular"},{enemyName:"Capitán Carroñero",health:500,shield:200,damage:80,reward:{scrap:3e3,aleacionReforzada:10,neuroChipCorrupto:8,blueprints:1},type:"mini-boss"},{enemyName:"Nave de Guerra Carroñera Mk.I",health:370,shield:160,damage:65,reward:{scrap:1400,aleacionReforzada:5,neuroChipCorrupto:4},type:"regular"},{enemyName:"Nave de Guerra Carroñera Mk.II",health:400,shield:175,damage:70,reward:{scrap:1500,aleacionReforzada:5,neuroChipCorrupto:4},type:"regular"},{enemyName:"Nave de Guerra Carroñera Mk.III",health:430,shield:190,damage:75,reward:{scrap:1600,aleacionReforzada:6,neuroChipCorrupto:5},type:"regular"},{enemyName:"Nave de Guerra Carroñera Mk.IV",health:460,shield:205,damage:80,reward:{scrap:1700,aleacionReforzada:6,neuroChipCorrupto:5},type:"regular"},{enemyName:"El 'Recuperador'",health:800,shield:400,damage:120,reward:{scrap:6e3,aleacionReforzada:20,neuroChipCorrupto:15,blueprints:4},type:"boss"}]},{name:"Puesto de Escucha Pirata",description:"Un puesto de avanzada pirata está interceptando transmisiones. Debe ser neutralizado.",battles:[{enemyName:"Fragata Pirata Mk.I",health:500,shield:250,damage:80,reward:{scrap:2500,aleacionReforzada:5,neuroChipCorrupto:4},type:"regular"},{enemyName:"Fragata Pirata Mk.II",health:550,shield:275,damage:88,reward:{scrap:2750,aleacionReforzada:6,neuroChipCorrupto:4},type:"regular"},{enemyName:"Fragata Pirata Mk.III",health:600,shield:300,damage:96,reward:{scrap:3e3,aleacionReforzada:7,neuroChipCorrupto:5},type:"regular"},{enemyName:"Fragata Pirata Mk.IV",health:650,shield:325,damage:104,reward:{scrap:3250,aleacionReforzada:8,neuroChipCorrupto:5},type:"regular"},{enemyName:"Señor de la Guerra Pirata",health:1e3,shield:500,damage:150,reward:{scrap:7e3,aleacionReforzada:20,neuroChipCorrupto:15,blueprints:2},type:"mini-boss"},{enemyName:"Destructor Pirata Mk.I",health:700,shield:350,damage:112,reward:{scrap:3500,aleacionReforzada:9,neuroChipCorrupto:6},type:"regular"},{enemyName:"Destructor Pirata Mk.II",health:750,shield:375,damage:120,reward:{scrap:3750,aleacionReforzada:10,neuroChipCorrupto:6},type:"regular"},{enemyName:"Destructor Pirata Mk.III",health:800,shield:400,damage:128,reward:{scrap:4e3,aleacionReforzada:11,neuroChipCorrupto:7},type:"regular"},{enemyName:"Destructor Pirata Mk.IV",health:850,shield:425,damage:136,reward:{scrap:4250,aleacionReforzada:12,neuroChipCorrupto:7},type:"regular"},{enemyName:"El 'Terror de los Cielos'",health:1500,shield:750,damage:200,reward:{scrap:12e3,aleacionReforzada:40,neuroChipCorrupto:30,blueprints:5},type:"boss"}]},{name:"Flota de Seguridad corrupta",description:"Una flota de seguridad automatizada se ha vuelto hostil y ataca a todo lo que se acerca.",battles:[{enemyName:"Corbeta de Seguridad Mk.I",health:1e3,shield:500,damage:150,reward:{scrap:5e3,aleacionReforzada:10,neuroChipCorrupto:8},type:"regular"},{enemyName:"Corbeta de Seguridad Mk.II",health:1100,shield:550,damage:165,reward:{scrap:5500,aleacionReforzada:11,neuroChipCorrupto:9},type:"regular"},{enemyName:"Corbeta de Seguridad Mk.III",health:1200,shield:600,damage:180,reward:{scrap:6e3,aleacionReforzada:12,neuroChipCorrupto:10},type:"regular"},{enemyName:"Corbeta de Seguridad Mk.IV",health:1300,shield:650,damage:195,reward:{scrap:6500,aleacionReforzada:13,neuroChipCorrupto:11},type:"regular"},{enemyName:"Unidad de Contención Central",health:2e3,shield:1e3,damage:250,reward:{scrap:15e3,aleacionReforzada:30,neuroChipCorrupto:25,blueprints:2},type:"mini-boss"},{enemyName:"Crucero de Seguridad Mk.I",health:1400,shield:700,damage:210,reward:{scrap:7e3,aleacionReforzada:14,neuroChipCorrupto:12},type:"regular"},{enemyName:"Crucero de Seguridad Mk.II",health:1500,shield:750,damage:225,reward:{scrap:7500,aleacionReforzada:15,neuroChipCorrupto:13},type:"regular"},{enemyName:"Crucero de Seguridad Mk.III",health:1600,shield:800,damage:240,reward:{scrap:8e3,aleacionReforzada:16,neuroChipCorrupto:14},type:"regular"},{enemyName:"Crucero de Seguridad Mk.IV",health:1700,shield:850,damage:255,reward:{scrap:8500,aleacionReforzada:17,neuroChipCorrupto:15},type:"regular"},{enemyName:"El 'Pacificador'",health:3e3,shield:1500,damage:350,reward:{scrap:25e3,aleacionReforzada:60,neuroChipCorrupto:50,blueprints:6},type:"boss"}]},{name:"Base de Operaciones Final",description:"La base de operaciones final que coordina todas las fuerzas enemigas en el sector. Una fortaleza fuertemente defendida.",battles:[{enemyName:"Defensa de Base Mk.I",health:2e3,shield:800,damage:200,reward:{scrap:1e4,aleacionReforzada:20,neuroChipCorrupto:15},type:"regular"},{enemyName:"Defensa de Base Mk.II",health:2200,shield:880,damage:220,reward:{scrap:11e3,aleacionReforzada:22,neuroChipCorrupto:17},type:"regular"},{enemyName:"Defensa de Base Mk.III",health:2400,shield:960,damage:240,reward:{scrap:12e3,aleacionReforzada:24,neuroChipCorrupto:19},type:"regular"},{enemyName:"Defensa de Base Mk.IV",health:2600,shield:1040,damage:260,reward:{scrap:13e3,aleacionReforzada:26,neuroChipCorrupto:21},type:"regular"},{enemyName:"Comandante de la Fortaleza",health:4e3,shield:1600,damage:350,reward:{scrap:25e3,aleacionReforzada:50,neuroChipCorrupto:40,blueprints:3},type:"mini-boss"},{enemyName:"Torreta Pesada Mk.I",health:2800,shield:1120,damage:280,reward:{scrap:14e3,aleacionReforzada:28,neuroChipCorrupto:23},type:"regular"},{enemyName:"Torreta Pesada Mk.II",health:3e3,shield:1200,damage:300,reward:{scrap:15e3,aleacionReforzada:30,neuroChipCorrupto:25},type:"regular"},{enemyName:"Torreta Pesada Mk.III",health:3200,shield:1280,damage:320,reward:{scrap:16e3,aleacionReforzada:32,neuroChipCorrupto:27},type:"regular"},{enemyName:"Torreta Pesada Mk.IV",health:3400,shield:1360,damage:340,reward:{scrap:17e3,aleacionReforzada:34,neuroChipCorrupto:29},type:"regular"},{enemyName:"El 'Overlord'",health:6e3,shield:2400,damage:500,reward:{scrap:5e4,aleacionReforzada:100,neuroChipCorrupto:80,blueprints:8},type:"boss"}]},{name:"El 'Leviatán'",description:"El origen de la corrupción. Una nave capital abandonada controlada por una IA hostil.",isBoss:!0,battles:[{enemyName:"El Leviatán - Núcleo Central",health:15e3,shield:7500,damage:400,reward:{scrap:5e4,aleacionReforzada:200,neuroChipCorrupto:150,blueprints:20},type:"boss"}]}],Tm=(e,r)=>{switch(r.type){case"SELECT_BATTLE_DESTINATION":return{...e,battleRoom:{...e.battleRoom,selectedDestination:r.payload}};case"START_BATTLE":{if(e.resources.barraCombustible<1)return console.warn("No hay suficiente combustible para iniciar la batalla."),e;if(e.battleRoom.selectedDestination===null)return e;const n=e.battleRoom.selectedDestination,t=ln[n],o=e.battleRoom.battlesCompleted[n||0];if(o>=t.battles.length)return e;const a=t.battles[o];return{...e,resources:{...e.resources,barraCombustible:e.resources.barraCombustible-1},battleCount:e.battleCount+1,currentScene:"combatScene",activeBattle:{destinationIndex:n,battleIndex:o,enemyName:a.enemyName,enemyMaxHealth:a.health,enemyCurrentHealth:a.health,enemyMaxShield:a.shield,enemyCurrentShield:a.shield},vindicator:{...e.vindicator,currentShield:e.vindicator.maxShield}}}case"PLAYER_ATTACK":{if(!e.activeBattle)return e;const{activeBattle:n,vindicator:t}=e,o=ln[n.destinationIndex].battles[n.battleIndex],a=(d,g,p)=>{let v=d,m=g,C=p;const w=Math.min(m,v);return m-=w,v-=w,v>0&&(C=Math.max(0,C-v)),{newShield:m,newHealth:C}},s=a(t.damage,n.enemyCurrentShield,n.enemyCurrentHealth);let l={newShield:t.currentShield,newHealth:t.currentHealth};s.newHealth>0&&(l=a(o.damage,t.currentShield,t.currentHealth));const c={...t,currentShield:l.newShield,currentHealth:l.newHealth},u={...n,enemyCurrentShield:s.newShield,enemyCurrentHealth:s.newHealth};if(c.currentHealth<=0)return{...e,currentScene:"phase2Main",activeBattle:null,vindicator:{...t,currentHealth:t.maxHealth,currentShield:0}};if(u.enemyCurrentHealth<=0){const d=[...e.battleRoom.battlesCompleted];d[n.destinationIndex]++;const g=ln[n.destinationIndex],p=d[n.destinationIndex];if(p<g.battles.length){const v=g.battles[p];return{...e,resources:{...e.resources,scrap:e.resources.scrap+(o.reward.scrap||0),aleacionReforzada:e.resources.aleacionReforzada+(o.reward.aleacionReforzada||0),neuroChipCorrupto:e.resources.neuroChipCorrupto+(o.reward.neuroChipCorrupto||0)},blueprints:e.blueprints+(o.reward.blueprints||0),battleRoom:{...e.battleRoom,battlesCompleted:d},activeBattle:{destinationIndex:n.destinationIndex,battleIndex:p,enemyName:v.enemyName,enemyMaxHealth:v.health,enemyCurrentHealth:v.health,enemyMaxShield:v.shield,enemyCurrentShield:v.shield},vindicator:c}}else return{...e,currentScene:"phase2Main",activeBattle:null,resources:{...e.resources,scrap:e.resources.scrap+(o.reward.scrap||0),aleacionReforzada:e.resources.aleacionReforzada+(o.reward.aleacionReforzada||0),neuroChipCorrupto:e.resources.neuroChipCorrupto+(o.reward.neuroChipCorrupto||0)},blueprints:e.blueprints+(o.reward.blueprints||0),battleRoom:{...e.battleRoom,battlesCompleted:d},vindicator:c}}else return{...e,vindicator:c,activeBattle:u}}case"ESCAPE_COMBAT":{if(!e.activeBattle)return e;const n=[...e.battleRoom.battlesCompleted];return n[e.activeBattle.destinationIndex]=0,{...e,currentScene:"phase2Main",activeBattle:null,battleRoom:{...e.battleRoom,battlesCompleted:n},vindicator:{...e.vindicator,currentHealth:e.vindicator.maxHealth,currentShield:0}}}default:return e}},Nm=e=>{const{aurora:r,drones:n,resources:t,energy:o,storage:a,techCenter:s,currentScene:l}=e,{shownMessages:c,pendingMessages:u}=r,d=c instanceof Set?c:new Set(c);let g=[...u],p=new Set(d),v=!1;const m=(C,w)=>{p.has(w)||(g.push({message:C,key:w}),p.add(w),v=!0)};return l==="main"&&n.basic===0&&t.scrap<10&&!p.has("initial")&&m("Sistema de reactivación iniciado. Consulta las Misiones para tus primeros objetivos.","initial"),n.basic===1&&!p.has("first_drone")&&m("Unidad de reparación funcional. Eficiencia: 12%. Buen inicio, técnico.","first_drone"),o.solarPanels===1&&!p.has("first_solar")&&m("Suministro energético estabilizado. Los sistemas de soporte vuelven a responder.","first_solar"),n.basic>=5&&!p.has("unlock_medium")&&m("Red de drones básicos operativa. Protocolos de ensamblaje medio disponibles en el Taller.","unlock_medium"),n.medium===1&&!p.has("first_medium")&&m("Eficiencia de recolección incrementada. Continué con la expansión de la flota.","first_medium"),a.basicStorage===1&&!p.has("first_storage")&&m("Depósitos restaurados. Capacidad de almacenamiento incrementada.","first_storage"),n.medium>=3&&o.advancedSolar>=1&&!s.unlocked&&!p.has("tech_center_available")&&m("He detectado que cumples los requisitos para reactivar el Centro Técnico. Podríamos optimizar todos nuestros sistemas desde allí.","tech_center_available"),s.upgrades.reinforcedBasicDrones===1&&!p.has("reinforced_basic_unlocked")&&m("Protocolos de drones reforzados básicos desbloqueados. Ahora podemos construir unidades más resistentes en el Taller.","reinforced_basic_unlocked"),s.upgrades.reinforcedMediumDrones===1&&!p.has("reinforced_medium_unlocked")&&m("Tecnología de drones reforzados medios disponible. La eficiencia de recolección aumentará significativamente.","reinforced_medium_unlocked"),s.upgrades.reinforcedAdvancedDrones===1&&!p.has("reinforced_advanced_unlocked")&&m("Drones reforzados avanzados desbloqueados. Hemos alcanzado la cúspide de la automatización de reciclado.","reinforced_advanced_unlocked"),s.upgrades.researchEfficiency===1&&!p.has("research_efficiency_unlocked")&&m("Algoritmos de investigación optimizados. La generación base de puntos de investigación ha aumentado.","research_efficiency_unlocked"),s.upgrades.advancedAnalysis===1&&!p.has("advanced_analysis_unlocked")&&m("Sistemas de análisis avanzado activados. Los drones ahora contribuyen más a la investigación.","advanced_analysis_unlocked"),s.upgrades.algorithmOptimization===1&&!p.has("algorithm_optimization_unlocked")&&m("Optimización algorítmica completada. La energía sobrante genera significativamente más puntos de investigación.","algorithm_optimization_unlocked"),v?{...e,aurora:{...e.aurora,pendingMessages:g,shownMessages:p}}:e},Im=e=>{const{upgrades:r}=e.techCenter;let n=1+r.constructionEfficiency*.05;const t=r.poweredFabricators||0;t>0&&e.resources.energy>0&&e.resources.maxEnergy>0&&e.resources.energy/e.resources.maxEnergy>.9&&(n*=1+t*.1);const o=(nr,Xr,Kn,Xn)=>{var vn;const br=Xn[nr].queues;let Ar={...Xr},xn={...br},Zr=!1;const Zn=n+Kn;for(const pe in br)if(Object.prototype.hasOwnProperty.call(br,pe)){const be=br[pe];let tr=be.time;if(nr==="foundry"&&(pe==="metalRefinado"&&(tr*=1-(r.metalSmeltingSpeed||0)*.05),pe==="aceroEstructural"&&(tr*=1-(r.steelProductionSpeed||0)*.05)),be.queue>0){Zr||(Zr=!0);let ve={...be};const Jr=ve.progress+1*Zn,li=Math.floor(Jr/tr),O=Math.min(li,ve.queue);if(O>0){const Ie=(vn=U[nr])==null?void 0:vn[pe],Cn=Ie==null?void 0:Ie.produces,Ss=(Cn==null?void 0:Cn.resource)||pe,rd=(Cn==null?void 0:Cn.amount)||1;Ar={...Ar,[Ss]:Ar[Ss]+O*rd},ve.queue-=O,ve.progress=Jr-O*tr}else ve.progress=Jr;ve.queue===0&&(ve.progress=0),xn[pe]=ve}}return{newInventory:Ar,newQueues:xn,changed:Zr}},a=o("workshop",{...e.drones},r.droneAssembly*.05,e),s=o("energy",{solarPanels:e.energy.solarPanels,mediumSolarPanels:e.energy.mediumSolarPanels,advancedSolar:e.energy.advancedSolar,energyCores:e.energy.energyCores,fusionReactor:e.energy.fusionReactor},r.energyCalibration*.05,e),l=o("storage",{basicStorage:e.storage.basicStorage,mediumStorage:e.storage.mediumStorage,advancedStorage:e.storage.advancedStorage,quantumHoardUnit:e.storage.quantumHoardUnit,lithiumIonBattery:e.storage.lithiumIonBattery,plasmaAccumulator:e.storage.plasmaAccumulator,harmonicContainmentField:e.storage.harmonicContainmentField},r.storageConstruction*.05,e),c=o("foundry",{...e.resources},0,e),u={...e,drones:a.changed?a.newInventory:e.drones,workshop:a.changed?{...e.workshop,queues:a.newQueues}:e.workshop,energy:s.changed?{...e.energy,...s.newInventory,queues:s.newQueues}:e.energy,storage:l.changed?{...e.storage,...l.newInventory,queues:l.newQueues}:e.storage,resources:c.changed?c.newInventory:e.resources,foundry:c.changed?{...e.foundry,queues:c.newQueues}:e.foundry},d=u,g=1-d.techCenter.upgrades.powerOptimization*.05,p=(d.drones.basic*1+d.drones.medium*3+d.drones.advanced*5+d.drones.reinforcedBasic*3+d.drones.reinforcedMedium*6+d.drones.reinforcedAdvanced*12+d.drones.golem*50+d.drones.wyrm*200)*g,v=1+d.techCenter.upgrades.energyEfficiency*.1,m=1+d.techCenter.upgrades.coreEfficiency*.1,C=(d.energy.solarPanels*3+d.energy.mediumSolarPanels*10+d.energy.advancedSolar*30)*v+d.energy.energyCores*50*m+d.energy.fusionReactor*250,w=50,h=d.energy.energyCores*100,f=d.energy.fusionReactor*1e3,y=(d.storage.lithiumIonBattery*50+d.storage.plasmaAccumulator*250+d.storage.harmonicContainmentField*1200)*(1+d.techCenter.upgrades.energyStorage*.1),x=(w+h+f+y)*(1+d.techCenter.upgrades.batteryTech*.15),S=150,b=d.storage.basicStorage*50+d.storage.mediumStorage*500+d.storage.advancedStorage*5e3+d.storage.quantumHoardUnit*5e4,j=(S+b)*(1+d.techCenter.upgrades.storageOptimization*.15)*(1+d.techCenter.upgrades.cargoDrones*.1),_=d.resources.energy>0,P=1+d.techCenter.upgrades.collectionEfficiency*.1,T=_?(d.drones.basic*1+d.drones.medium*5+d.drones.advanced*20+d.drones.reinforcedBasic*8+d.drones.reinforcedMedium*25+d.drones.reinforcedAdvanced*80+d.drones.golem*500)*P:0,I=_?d.drones.wyrm*1:0,$=_?d.drones.wyrm*.1:0,L=d.resources.energy+(C-p),Z=Math.max(0,Math.min(L,x)),Q=d.resources.scrap+T,ce=Math.min(Q,j),xe=d.resources.metalRefinado+I,A=d.resources.aceroEstructural+$,D=.1*(1+d.techCenter.upgrades.researchEfficiency*.2),N=Object.values(d.drones).reduce((nr,Xr)=>nr+Xr,0),H=N*.01*(1+d.techCenter.upgrades.advancedAnalysis*.1),Ne=Math.max(0,C-p)*.005*(1+d.techCenter.upgrades.algorithmOptimization*.15),Se=(D+H+Ne)/(1-d.techCenter.upgrades.quantumComputing*.05),Re=d.techCenter.researchPoints+Se;let Y={...d.resources};const ne=d.techCenter.upgrades.geologicalScanners||0;if(ne>0&&_){const nr=N*1e-4*ne;Math.random()<nr&&(Math.random()<.5?Y.fragmentosPlaca=(d.resources.fragmentosPlaca||0)+1:Y.circuitosDañados=(d.resources.circuitosDañados||0)+1)}const K={...u,resources:{...Y,scrap:ce,metalRefinado:xe,aceroEstructural:A,energy:Z,energyConsumption:p,energyProduction:C,maxEnergy:x,maxScrap:j},rates:{...d.rates,scrapPerSecond:T},techCenter:{...d.techCenter,researchPoints:Re}},ae=e.modules;let B={...K.modules},ue={...K.techCenter};K.resources.scrap>=50&&!B.energy&&(B.energy=!0),K.resources.scrap>=75&&!B.storage&&(B.storage=!0),K.drones.medium>=3&&K.energy.advancedSolar>=1&&K.resources.scrap>=1e3&&!B.techCenter&&(B.techCenter=!0,ue.unlocked=!0),K.drones.expeditionDrone>0&&!B.expeditions&&(B.expeditions=!0),K.drones.golem>0&&!B.shipyard&&(B.shipyard=!0);let V=[...K.notificationQueue];!ae.energy&&B.energy&&V.push({id:`energy-${Date.now()}`,title:"Módulo de Energía Desbloqueado",message:"Ahora puedes construir paneles solares para generar energía y alimentar más drones."}),!ae.storage&&B.storage&&V.push({id:`storage-${Date.now()}`,title:"Módulo de Almacenamiento Desbloqueado",message:"Construye unidades de almacén para aumentar tu capacidad máxima de chatarra y energía."}),!ae.techCenter&&B.techCenter&&V.push({id:`tech-center-${Date.now()}`,title:"Centro Técnico Desbloqueado",message:"Investiga nuevas tecnologías para mejorar tus drones, la producción de energía y mucho más."}),!ae.foundry&&B.foundry&&V.push({id:`foundry-${Date.now()}`,title:"Fundición Desbloqueada",message:"Refina chatarra en materiales avanzados para construir estructuras y drones más potentes."}),!ae.expeditions&&B.expeditions&&V.push({id:`expeditions-${Date.now()}`,title:"Módulo de Expediciones Desbloqueado",message:"Envía drones a lo desconocido para encontrar recursos que no se pueden fabricar."}),!ae.shipyard&&B.shipyard&&V.push({id:`shipyard-${Date.now()}`,title:"Astillero Desbloqueado",message:'¡El objetivo final! Dona componentes para reconstruir la nave "Vindicator".'});let _e={...K,modules:B,techCenter:ue,notificationQueue:V};return _e=Nm(_e),_e},Pm=(e,r)=>{let n={...e};switch(n=Tm(n,r),n=Mm(n,r),n=Dm(n,r),r.type){case"SET_WORKSHOP_BUY_AMOUNT":return{...e,workshopBuyAmount:r.payload};case"RESET_GAME":try{localStorage.removeItem("mekadron-savegame")}catch(t){console.error("Failed to clear save game:",t)}return{...me,notificationQueue:[]};case"DISMISS_NOTIFICATION":return{...e,notificationQueue:e.notificationQueue.slice(1)};case"SET_ENERGY_BUY_AMOUNT":return{...e,energyBuyAmount:r.payload};case"SET_STORAGE_BUY_AMOUNT":return{...e,storageBuyAmount:r.payload};case"SET_FOUNDRY_BUY_AMOUNT":return{...e,foundryBuyAmount:r.payload};case"ACTIVATE_FOUNDRY":return e.resources.scrap>=25e3&&!e.modules.foundry?{...e,resources:{...e.resources,scrap:e.resources.scrap-25e3},modules:{...e.modules,foundry:!0}}:e;case"START_GAME":return{...e,currentScene:"introScene"};case"SHOW_MAIN_SCENE":return{...e,currentScene:"main"};case"START_PHASE_2":return{...e,currentScene:"phase2Main"};case"RETURN_TO_PHASE_1":return{...e,currentScene:"main"};case"GO_TO_PHASE_2":return{...e,currentScene:"phase2Main"};case"COLLECT_SCRAP":{const t=e.resources.scrap+e.rates.scrapPerClick,o=Math.min(t,e.resources.maxScrap);return{...e,resources:{...e.resources,scrap:o}}}case"REMOVE_AURORA_MESSAGE":return{...e,aurora:{...e.aurora,activeMessages:e.aurora.activeMessages.filter(t=>t.id!==r.payload.messageId)}};case"PROCESS_AURORA_QUEUE":{if(e.aurora.pendingMessages.length===0)return e;const t=e.aurora.pendingMessages[0],o={id:Date.now(),text:t.message,key:t.key};return{...e,aurora:{...e.aurora,activeMessages:[...e.aurora.activeMessages,o],pendingMessages:e.aurora.pendingMessages.slice(1)}}}case"ADD_AURORA_MESSAGE":{const{message:t,messageKey:o}=r.payload;if(e.aurora.shownMessages.has(o))return e;const a=new Set(e.aurora.shownMessages);return a.add(o),{...e,aurora:{...e.aurora,pendingMessages:[...e.aurora.pendingMessages,{message:t,key:o}],shownMessages:a}}}case"SET_CURRENT_VIEW":return{...e,currentView:r.payload};case"CLOSE_CURRENT_VIEW":return{...e,currentView:""};case"START_EXPEDITION":{const{expeditionId:t}=r.payload,o=sn.find(p=>p.id===t);if(!o)return console.error(`Expedition data not found for id: ${t}`),e;const a=o.costs.drones,s=o.droneType,l=e.activeExpeditions.filter(p=>{var v;return((v=sn.find(m=>m.id===p.id))==null?void 0:v.droneType)===s}).reduce((p,v)=>p+v.dronesSent,0);if(e.drones[s]-l<a)return console.warn(`Not enough ${s} available.`),e;const u={...e.resources};let d=!0;for(const[p,v]of Object.entries(o.costs))if(p!=="drones"){if(u[p]<v){d=!1,console.warn(`Not enough ${p} for expedition.`);break}u[p]-=v}if(!d)return e;if(e.activeExpeditions.some(p=>p.id===t))return console.warn("Attempted to start an already active expedition."),e;const g={id:t,completionTimestamp:Date.now()+o.duration*1e3,dronesSent:a};return{...e,resources:u,activeExpeditions:[...e.activeExpeditions,g]}}case"RESEARCH_UPGRADE":{const{upgradeName:t,cost:o}=r.payload;if(e.techCenter.researchPoints>=o){const a={...e.techCenter.upgrades,[t]:(e.techCenter.upgrades[t]||0)+1};return{...e,modules:{...e.modules,...t==="foundryProtocols"&&{foundry:!0}},techCenter:{...e.techCenter,researchPoints:e.techCenter.researchPoints-o,upgrades:a}}}return e}case"GAME_TICK":return Im(e);case"DEBUG_UNLOCK_TECH_CENTER":return{...e,modules:{...e.modules,techCenter:!0,foundry:!0,shipyard:!0,expeditions:!0},techCenter:{...e.techCenter,unlocked:!0,upgrades:{...e.techCenter.upgrades,collectionEfficiency:1,droneAssembly:1,reinforcedBasicDrones:1,reinforcedMediumDrones:1,reinforcedAdvancedDrones:1,golemChassis:1}},shipyard:{...e.shipyard,unlocked:!0},drones:{...e.drones,medium:Math.max(e.drones.medium,3),reinforcedMedium:Math.max(e.drones.reinforcedMedium,3),reinforcedAdvanced:Math.max(e.drones.reinforcedAdvanced,5),golem:Math.max(e.drones.golem,1),expeditionDrone:Math.max(e.drones.expeditionDrone,1)},energy:{...e.energy,advancedSolar:Math.max(e.energy.advancedSolar,1)},resources:{...e.resources,scrap:Math.max(e.resources.scrap,15e4),metalRefinado:Math.max(e.resources.metalRefinado,5e3)}};case"DEBUG_COMPLETE_VINDICATOR":{const t={...e.shipyard.costs};return{...e,shipyard:{...e.shipyard,progress:t},resources:{...e.resources,barraCombustible:e.resources.barraCombustible+100}}}case"DEBUG_FINISH_EXPEDITIONS":{const t=e.activeExpeditions.map(o=>({...o,completionTimestamp:Date.now()}));return{...e,activeExpeditions:t}}case"DONATE_TO_SHIPYARD":{const{component:t,resource:o,amount:a}=r.payload;if(!e.shipyard.costs[t]||!(o in e.shipyard.costs[t]))return e;const s=e.shipyard.costs[t][o],l=e.shipyard.progress[t][o];if(s===void 0||l===void 0)return e;const c=o==="researchPoints"?e.techCenter.researchPoints:e.resources[o]||0,u=Math.min(a,c,s-l);return u<=0?e:{...e,resources:o!=="researchPoints"?{...e.resources,[o]:c-u}:e.resources,techCenter:o==="researchPoints"?{...e.techCenter,researchPoints:c-u}:e.techCenter,shipyard:{...e.shipyard,progress:{...e.shipyard.progress,[t]:{...e.shipyard.progress[t],[o]:l+u}}}}}case"REPAIR_VINDICATOR_HEALTH":{const{scrapCost:t}=r.payload;return e.resources.scrap>=t&&e.vindicator.currentHealth<e.vindicator.maxHealth?{...e,resources:{...e.resources,scrap:e.resources.scrap-t},vindicator:{...e.vindicator,currentHealth:e.vindicator.maxHealth}}:e}case"REPAIR_VINDICATOR_SHIELD":{const{fuelCost:t}=r.payload;return e.resources.barraCombustible>=t&&e.vindicator.currentShield<e.vindicator.maxShield?{...e,resources:{...e.resources,barraCombustible:e.resources.barraCombustible-t},vindicator:{...e.vindicator,currentShield:e.vindicator.maxShield}}:e}case"UPGRADE_VINDICATOR_STAR":{const{upgradeId:t}=r.payload,o=e.vindicatorUpgrades[t];if(!o||o.currentStars>=o.maxStars)return e;const{phase1Resources:a,phase2Resources:s}=o.costPerStar;if(!(Object.entries(a).every(([p,v])=>e.resources[p]>=v)&&Object.entries(s).every(([p,v])=>e.resources[p]>=v)))return e;const c={...e.resources};Object.entries(a).forEach(([p,v])=>{c[p]-=v}),Object.entries(s).forEach(([p,v])=>{c[p]-=v});const{health:u,shield:d,damage:g}=o.statIncreasePerStar;return{...e,resources:c,vindicatorUpgrades:{...e.vindicatorUpgrades,[t]:{...o,currentStars:o.currentStars+1}},vindicator:{...e.vindicator,maxHealth:e.vindicator.maxHealth+(u||0),maxShield:e.vindicator.maxShield+(d||0),damage:e.vindicator.damage+(g||0)}}}case"LEVEL_UP_VINDICATOR":{const t=e.vindicatorLevel,o=Yu.find(s=>s.level===t+1);if(!o||e.blueprints<o.blueprintCost)return e;const{statBonus:a}=o;return{...e,blueprints:e.blueprints-o.blueprintCost,vindicatorLevel:t+1,vindicator:{...e.vindicator,maxHealth:e.vindicator.maxHealth+a.health,currentHealth:e.vindicator.currentHealth+a.health,maxShield:e.vindicator.maxShield+a.shield,currentShield:e.vindicator.currentShield+a.shield,damage:e.vindicator.damage+a.damage}}}case"CLAIM_EXPEDITION_REWARDS":{const t=r.payload,o=sn.find(l=>l.id===t.id);if(!o)return console.error(`Expedition data not found for id: ${t.id}`),e;const a=e.activeExpeditions.filter(l=>l.id!==t.id);if(Math.random()>o.risk.chance){const l={...e.resources};let c="Recompensas obtenidas: ";for(const[u,d]of Object.entries(o.rewards)){const[g,p]=d,v=Math.floor(Math.random()*(p-g+1))+g;l[u]=(l[u]||0)+v,c+=`${v} de ${u}, `}return{...e,resources:l,activeExpeditions:a,notificationQueue:[...e.notificationQueue,{id:`exp-success-${Date.now()}`,title:`Éxito en ${o.title}`,message:c.slice(0,-2)}]}}else{const l=Math.ceil(t.dronesSent*o.risk.droneLossPercentage),c=o.droneType,u={...e.drones};return u[c]-=l,{...e,drones:u,activeExpeditions:a,notificationQueue:[...e.notificationQueue,{id:`exp-fail-${Date.now()}`,title:`Fracaso en ${o.title}`,message:`La expedición fracasó. Se han perdido ${l} drones.`}]}}}case"SET_VOLUME":return{...e,settings:{...e.settings,volume:r.payload}};default:return n}},Ku=k.createContext(void 0),Xu=k.createContext(void 0),Zu=k.createContext(void 0),Fm=e=>{const r=e.lastSaveTimestamp;if(!r)return e;const n=Date.now(),t=n-r;if(t<6e4)return e;const o=Math.floor(t/1e3),a=24*60*60,s=Math.min(o,a);if(s<=0)return e;console.log(`Calculando recursos offline por ${s} segundos de ausencia`);let l=JSON.parse(JSON.stringify(e));const c=Math.min(s,3600);for(let u=0;u<c;u++)l=Bm(l);if(s>c){const u=s-c;l=zm(l,u)}if(s>60){const u=Math.floor(s/3600),d=Math.floor(s%3600/60);let g="";u>0?g=`${u}h ${d}m`:g=`${d}m`;const p={scrap:Math.floor(l.resources.scrap-e.resources.scrap),metal:Math.floor(l.resources.metalRefinado-e.resources.metalRefinado),steel:Math.floor(l.resources.aceroEstructural-e.resources.aceroEstructural),research:Math.floor(l.techCenter.researchPoints-e.techCenter.researchPoints)};if(p.scrap>0||p.research>0){const v=`¡Bienvenido de vuelta! Durante tu ausencia de ${g}, generaste:
`+(p.scrap>0?`• ${p.scrap.toLocaleString()} chatarra
`:"")+(p.metal>0?`• ${p.metal.toLocaleString()} metal refinado
`:"")+(p.steel>0?`• ${p.steel.toLocaleString()} acero estructural
`:"")+(p.research>0?`• ${p.research.toLocaleString()} puntos de investigación`:"");l.aurora.pendingMessages.push({message:v.trim(),key:`offline_production_${Date.now()}`})}}return l.lastSaveTimestamp=n,l},Bm=e=>{const{upgrades:r}=e.techCenter,{drones:n,energy:t,resources:o}=e,a=1-r.powerOptimization*.05,s=(n.basic*1+n.medium*3+n.advanced*5+n.reinforcedBasic*3+n.reinforcedMedium*6+n.reinforcedAdvanced*12+n.golem*50+n.wyrm*200)*a,l=1+r.energyEfficiency*.1,c=1+r.coreEfficiency*.1,u=(t.solarPanels*3+t.mediumSolarPanels*10+t.advancedSolar*30)*l+t.energyCores*50*c,d=1+r.collectionEfficiency*.1,g=o.energy>0,p=g?(n.basic*1+n.medium*5+n.advanced*20+n.reinforcedBasic*8+n.reinforcedMedium*25+n.reinforcedAdvanced*80+n.golem*500)*d:0,v=g?n.wyrm*1:0,m=g?n.wyrm*.1:0,C=Math.max(0,Math.min(o.energy+(u-s),o.maxEnergy)),w=Math.min(o.scrap+p,o.maxScrap),h=o.metalRefinado+v,f=o.aceroEstructural+m,y=.1*(1+r.researchEfficiency*.2),S=Object.values(n).reduce((P,T)=>P+T,0)*.01*(1+r.advancedAnalysis*.1),j=Math.max(0,o.energy-s)*.005*(1+r.algorithmOptimization*.15),_=(y+S+j)/(1-r.quantumComputing*.05);return{...e,resources:{...o,scrap:w,metalRefinado:h,aceroEstructural:f,energy:C,energyConsumption:s,energyProduction:u},rates:{...e.rates,scrapPerSecond:p},techCenter:{...e.techCenter,researchPoints:e.techCenter.researchPoints+_}}},zm=(e,r)=>{const{upgrades:n}=e.techCenter,{drones:t,energy:o,resources:a}=e,s=1-n.powerOptimization*.05,l=(t.basic*1+t.medium*3+t.advanced*5+t.reinforcedBasic*3+t.reinforcedMedium*6+t.reinforcedAdvanced*12+t.golem*50+t.wyrm*200)*s,c=1+n.energyEfficiency*.1,u=1+n.coreEfficiency*.1,d=(o.solarPanels*3+o.mediumSolarPanels*10+o.advancedSolar*30)*c+o.energyCores*50*u,g=1+n.collectionEfficiency*.1,p=a.energy>0,v=p?(t.basic*1+t.medium*5+t.advanced*20+t.reinforcedBasic*8+t.reinforcedMedium*25+t.reinforcedAdvanced*80+t.golem*500)*g*r:0,m=p?t.wyrm*1*r:0,C=p?t.wyrm*.1*r:0,w=(d-l)*r,h=Math.max(0,Math.min(a.energy+w,a.maxEnergy)),f=Math.min(a.scrap+v,a.maxScrap),y=a.metalRefinado+m,x=a.aceroEstructural+C,S=.1*(1+n.researchEfficiency*.2),j=Object.values(t).reduce((I,$)=>I+$,0)*.01*(1+n.advancedAnalysis*.1),P=Math.max(0,a.energy-l)*.005*(1+n.algorithmOptimization*.15),T=(S+j+P)/(1-n.quantumComputing*.05)*r;return{...e,resources:{...a,scrap:f,metalRefinado:y,aceroEstructural:x,energy:h,energyConsumption:l,energyProduction:d},techCenter:{...e.techCenter,researchPoints:e.techCenter.researchPoints+T}}},Lm=()=>{var e,r,n,t,o;try{const a=localStorage.getItem("mekadron-savegame");if(a===null)return me;const s=JSON.parse(a);if(s.aurora&&(s.aurora.currentMessage||s.aurora.messageQueue)){console.log("Detectado guardado antiguo de Aurora. Migrando...");const c=[];s.aurora.currentMessage&&c.push({message:s.aurora.currentMessage,key:`migrated_${Date.now()}`}),Array.isArray(s.aurora.messageQueue)&&c.push(...s.aurora.messageQueue),s.aurora.activeMessages=[],s.aurora.pendingMessages=c,delete s.aurora.currentMessage,delete s.aurora.messageQueue}s.aurora&&Array.isArray(s.aurora.shownMessages)?s.aurora.shownMessages=new Set(s.aurora.shownMessages):s.aurora&&(s.aurora.shownMessages=new Set);const l={...me,...s,resources:{...me.resources,...s.resources||{}},drones:{...me.drones,...s.drones||{}},workshop:{...me.workshop,...s.workshop||{},queues:{...me.workshop.queues,...((e=s.workshop)==null?void 0:e.queues)||{}}},energy:{...me.energy,...s.energy||{},queues:{...me.energy.queues,...((r=s.energy)==null?void 0:r.queues)||{}}},storage:{...me.storage,...s.storage||{},queues:{...me.storage.queues,...((n=s.storage)==null?void 0:n.queues)||{}}},foundry:{...me.foundry,...s.foundry||{},queues:{...me.foundry.queues,...((t=s.foundry)==null?void 0:t.queues)||{}}},techCenter:{...me.techCenter,...s.techCenter||{},upgrades:{...me.techCenter.upgrades,...((o=s.techCenter)==null?void 0:o.upgrades)||{}}},aurora:{...me.aurora,...s.aurora||{}},battleRoom:{...me.battleRoom,...s.battleRoom||{}},shipyard:{...me.shipyard,...s.shipyard||{}},vindicator:{...me.vindicator,...s.vindicator||{}}};return Array.isArray(l.aurora.shownMessages)&&(l.aurora.shownMessages=new Set(l.aurora.shownMessages)),Fm(l)}catch(a){return console.error("No se pudo cargar la partida guardada:",a),me}},Om=({children:e})=>{const[r,n]=k.useReducer(Pm,Lm()),[t,o]=k.useState([]),a=k.useCallback((s,l,c)=>{const u={id:Date.now(),text:s,x:l,y:c};o(d=>[...d,u])},[]);return k.useEffect(()=>{const s=setInterval(()=>{o(l=>l.filter(c=>Date.now()-c.id<1500))},1500);return()=>clearInterval(s)},[]),i.jsx(Ku.Provider,{value:r,children:i.jsx(Xu.Provider,{value:n,children:i.jsx(Zu.Provider,{value:{showFloatingText:a,floatingTexts:t},children:e})})})},ai=()=>{const e=k.useContext(Ku);if(e===void 0)throw new Error("useGameState must be used within a GameProvider");return e},Ju=()=>{const e=k.useContext(Xu);if(e===void 0)throw new Error("useGameDispatch must be used within a GameProvider");return e},Um=()=>{const e=k.useContext(Zu);if(e===void 0)throw new Error("useFloatingText must be used within a GameProvider");return e},Kr=()=>({gameState:ai(),dispatch:Ju(),...Um()}),qm="/Mekadron-idle/assets/cover-7386bfb8.png",$m="/Mekadron-idle/assets/play-button-02045e30.png",Nl=({onStartGame:e})=>i.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#0F172A",color:"#E5E7EB",backgroundImage:`url(${qm})`,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},children:i.jsx("button",{onClick:e,style:{background:`url(${$m}) no-repeat center center`,backgroundSize:"contain",width:"200px",height:"80px",border:"none",cursor:"pointer",backgroundColor:"transparent",position:"absolute",top:"73%",left:"47%",transform:"translate(-50%, -50%)"},"aria-label":"Jugar"})}),Hm=({onComplete:e})=>{const r=`«…Sistema de vida restaurado. Iniciando conciencia…»

Despiertas sobresaltado. Luces parpadeantes iluminan brevemente pasillos metálicos cubiertos de polvo y chispas. Todo está en silencio… salvo un susurro mecánico que resuena en los altavoces:

«Mantenimiento crítico. Fallo estructural inminente.»

No recuerdas quién eres ni cuánto tiempo llevas aquí. Solo percibes el latido distante de los motores apagándose y el eco de algo moviéndose entre las sombras de la estación.

La voz vuelve a sonar, más urgente, casi humana: «Restaura los sistemas esenciales… o todo terminará.»

A tu alrededor, pantallas rotas, herramientas abandonadas, y una sensación persistente de que no estás solo. Algo espera. Algo observa. Y depende de ti reactivar lo que queda… antes de que sea demasiado tarde.`,[n,t]=k.useState(""),[o,a]=k.useState(!1);return k.useEffect(()=>{let s=0;const l=setInterval(()=>{s++,t(r.substring(0,s)),s>=r.length&&clearInterval(l)},50);return()=>clearInterval(l)},[r]),k.useEffect(()=>{const s=setTimeout(()=>{a(!0)},5e3);return()=>clearTimeout(s)},[]),i.jsxs("div",{style:{backgroundColor:"#000",color:"#00FF41",fontFamily:'"Courier New", Courier, monospace',display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",boxSizing:"border-box"},children:[i.jsx("div",{style:{width:"100%",maxWidth:"800px",border:"2px solid #00FF41",padding:"2rem",boxShadow:"0 0 15px #00FF41"},children:i.jsxs("p",{style:{fontSize:"1.5rem",lineHeight:"1.6",margin:0},children:[n,i.jsx("span",{style:{animation:"blink 1s step-end infinite"},children:"_"})]})}),o&&i.jsx("button",{onClick:e,style:{marginTop:"2rem",padding:"1rem 2rem",fontFamily:'"Courier New", Courier, monospace',fontSize:"1.2rem",backgroundColor:"transparent",color:"#00FF41",border:"2px solid #00FF41",cursor:"pointer",animation:"pulse 2s infinite"},children:"[ CONTINUAR ]"}),i.jsx("style",{children:`
        @keyframes blink {
          from, to { opacity: 1; }
          50% { opacity: 0; }
        }
        @keyframes pulse {
          0% { box-shadow: 0 0 5px #00FF41; }
          50% { box-shadow: 0 0 20px #00FF41; }
          100% { box-shadow: 0 0 5px #00FF41; }
        }
      `})]})},Vm="/Mekadron-idle/assets/main-background-9956d520.png",Wm="/Mekadron-idle/assets/main-theme-5b32f65a.wav",Gm=()=>ai().resources,E=e=>{if(e<1e3)return Math.floor(e).toString();const r=["","K","M","B","T"],n=Math.floor(Math.log10(Math.abs(e))/3);if(n>=r.length)return e.toExponential(1);const t=r[n],o=Math.pow(10,n*3),a=e/o;return parseFloat(a.toFixed(1))+t},Qm=dr.memo(()=>{const{drones:e,modules:r,shipyard:n,rates:t}=ai(),o=Gm(),{scrap:a,maxScrap:s,energy:l,maxEnergy:c,metalRefinado:u,aceroEstructural:d,fragmentosPlaca:g,circuitosDañados:p,nucleoSingularidad:v,energyProduction:m,energyConsumption:C}=o,w=t.scrapPerSecond,h=n.unlocked,f=e.basic+e.reinforcedBasic,y=e.medium+e.reinforcedMedium,x=e.advanced+e.reinforcedAdvanced+e.golem+e.wyrm;return i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",padding:"1rem",border:"2px solid #1F2937",borderRadius:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"Inter, sans-serif",margin:"10px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Chatarra",children:[i.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem"},children:"⚙️"}),i.jsxs("span",{children:[E(a)," / ",E(s)]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Energía",children:[i.jsx("span",{style:{fontSize:"1.2rem",color:"#06B6D4",marginRight:"0.5rem"},children:"⚡"}),i.jsxs("span",{children:[E(l)," / ",E(c)]})]}),r.foundry&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Metal Refinado",children:[i.jsx("span",{style:{fontSize:"1.2rem",color:"#F59E0B",marginRight:"0.5rem"},children:"🔩"}),i.jsx("span",{children:E(u)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Acero Estructural",children:[i.jsx("span",{style:{fontSize:"1.2rem",color:"#94A3B8",marginRight:"0.5rem"},children:"🏗️"}),i.jsx("span",{children:E(d)})]})]}),h&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Fragmentos de Placa",children:[i.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem"},children:"🧱"}),i.jsx("span",{children:E(g)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Circuitos Dañados",children:[i.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem"},children:"🔌"}),i.jsx("span",{children:E(p)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Núcleo de Singularidad",children:[i.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem"},children:"💥"}),i.jsx("span",{children:E(v)})]})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Drones Tier 1",children:[i.jsx("span",{style:{marginRight:"0.5rem"},children:"T1:"}),i.jsx("strong",{children:f})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Drones Tier 2",children:[i.jsx("span",{style:{marginRight:"0.5rem"},children:"T2:"}),i.jsx("strong",{children:y})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Drones Tier 3",children:[i.jsx("span",{style:{marginRight:"0.5rem"},children:"T3:"}),i.jsx("strong",{children:x})]}),r.expeditions&&i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Drones de Expedición",children:[i.jsx("span",{style:{marginRight:"0.5rem"},children:"Exp:"}),i.jsx("strong",{children:e.expeditionDrone})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Producción de Chatarra",children:[i.jsx("span",{style:{color:"#22C55E",marginRight:"0.5rem"},children:"⚙️/s"}),i.jsx("span",{children:w.toFixed(1)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Balance Energético",children:[i.jsx("span",{style:{color:"#F59E0B",marginRight:"0.5rem"},children:"⚡/s"}),i.jsx("span",{style:{color:m-C>=0?"#22C55E":"#EF4444"},children:(m-C).toFixed(1)})]})]})]})}),Ym="/Mekadron-idle/assets/scrap-button-6307d08a.png",Km=({onCollectScrap:e,scrapPerClick:r})=>{const n=t=>{e(t);const o=new CustomEvent("showFloatingText",{detail:{text:`+${r}`,originalEvent:t.nativeEvent}});document.dispatchEvent(o)};return i.jsxs("div",{style:{position:"absolute",bottom:"5rem",left:"6rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[i.jsx("button",{onClick:n,style:{background:`url(${Ym}) no-repeat center center`,backgroundSize:"contain",width:"200px",height:"200px",border:"none",cursor:"pointer",backgroundColor:"transparent",position:"relative"},"aria-label":`Recolectar +${r} chatarra`}),i.jsx("div",{style:{marginTop:"0.5rem",color:"#E5E7EB",fontSize:"1rem",fontWeight:"bold",textShadow:"1px 1px 3px rgba(0, 0, 0, 0.7)",textAlign:"center"},children:"Recolecta Chatarra"})]})},Xm="/Mekadron-idle/assets/misions-button-208f33c5.png",Zm="/Mekadron-idle/assets/workshop-button-1a75035c.png",Jm="/Mekadron-idle/assets/storage-button-d52fc44c.png",ef="/Mekadron-idle/assets/energy-button-5e443e25.png",rf="/Mekadron-idle/assets/tech-center-button-37906d9c.png",nf="/Mekadron-idle/assets/foundry-button-ac1cb231.png",tf="/Mekadron-idle/assets/expeditions-button-05975693.png",of="/Mekadron-idle/assets/shipyard-button-a2ec5e68.png",af="/Mekadron-idle/assets/Vindicator-button-666ad93b.png",sf=dr.memo(({energyUnlocked:e,storageUnlocked:r,techCenterUnlocked:n,foundryUnlocked:t,expeditionsUnlocked:o,shipyardUnlocked:a,phase2Unlocked:s,currentView:l,onModuleSelect:c,scrapForUnlock:u,mediumDronesForUnlock:d,advancedSolarForUnlock:g,foundryProtocolsUpgrade:p})=>i.jsxs("div",{style:{backgroundColor:"rgba(31, 41, 55, 0.8)",backdropFilter:"blur(5px)",color:"#E5E7EB",padding:"1rem",minHeight:"100vh",width:"300px",borderLeft:"2px solid #374151",fontFamily:"Inter, sans-serif"},children:[i.jsx("button",{onClick:()=>c("missions"),style:{padding:"0",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"0.5rem",width:"100%",textAlign:"center"},children:i.jsx("img",{src:Xm,alt:"Misiones",style:{width:"80%",height:"auto",borderRadius:"4px",filter:l==="missions"?"brightness(1.2)":"brightness(1)",transition:"filter 0.2s ease"}})}),i.jsx("button",{onClick:()=>c("workshop"),style:{padding:"0",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"0.5rem",width:"100%",textAlign:"center"},children:i.jsx("img",{src:Zm,alt:"Taller",style:{width:"80%",height:"auto",borderRadius:"4px",filter:l==="workshop"?"brightness(1.2)":"brightness(1)",transition:"filter 0.2s ease"}})}),i.jsx("button",{onClick:()=>e&&c("energy"),style:{padding:"0",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:e?"pointer":"not-allowed",marginBottom:"0.5rem",width:"100%",textAlign:"center"},disabled:!e,children:i.jsx("img",{src:ef,alt:"Energía",style:{width:"80%",height:"auto",borderRadius:"4px",filter:l==="energy"?"brightness(1.2)":e?"brightness(1)":"brightness(0.5)",transition:"filter 0.2s ease",opacity:e?1:.6}})}),i.jsx("button",{onClick:()=>r&&c("storage"),style:{padding:"0",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:r?"pointer":"not-allowed",marginBottom:"0.5rem",width:"100%",textAlign:"center"},disabled:!r,children:i.jsx("img",{src:Jm,alt:"Almacén",style:{width:"80%",height:"auto",borderRadius:"4px",filter:l==="storage"?"brightness(1.2)":r?"brightness(1)":"brightness(0.5)",transition:"filter 0.2s ease",opacity:r?1:.6}})}),i.jsx("button",{onClick:()=>n&&c("techCenter"),style:{padding:"0",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:n?"pointer":"not-allowed",marginBottom:"0.5rem",width:"100%",textAlign:"center"},disabled:!n,children:i.jsx("img",{src:rf,alt:"Centro Técnico",style:{width:"80%",height:"auto",borderRadius:"4px",filter:l==="techCenter"?"brightness(1.2)":n?"brightness(1)":"brightness(0.5)",transition:"filter 0.2s ease",opacity:n?1:.6}})}),t&&i.jsx("button",{onClick:()=>c("foundry"),style:{padding:"0",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"0.5rem",width:"100%",textAlign:"center"},children:i.jsx("img",{src:nf,alt:"Fundición",style:{width:"80%",height:"auto",borderRadius:"4px",filter:l==="foundry"?"brightness(1.2)":"brightness(1)",transition:"filter 0.2s ease"}})}),o&&i.jsx("button",{onClick:()=>c("expeditions"),style:{padding:"0",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"0.5rem",width:"100%",textAlign:"center"},children:i.jsx("img",{src:tf,alt:"Expediciones",style:{width:"80%",height:"auto",borderRadius:"4px",filter:l==="expeditions"?"brightness(1.2)":"brightness(1)",transition:"filter 0.2s ease"}})}),a&&i.jsx("button",{onClick:()=>c("shipyard"),style:{padding:"0",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"0.5rem",width:"100%",textAlign:"center"},children:i.jsx("img",{src:of,alt:"Astillero",style:{width:"80%",height:"auto",borderRadius:"4px",filter:l==="shipyard"?"brightness(1.2)":"brightness(1)",transition:"filter 0.2s ease"}})}),s&&i.jsx("button",{onClick:()=>c("goToPhase2"),style:{padding:"0",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"0.5rem",width:"100%",textAlign:"center"},children:i.jsx("img",{src:af,alt:"Vindicator",style:{width:"80%",height:"auto",borderRadius:"4px",filter:l==="goToPhase2"?"brightness(1.2)":"brightness(1)",transition:"filter 0.2s ease"}})}),(!e||!r||!n||!t||!o||!a)&&i.jsxs("div",{style:{padding:"0.75rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",fontSize:"0.8rem",color:"#9CA3AF",border:"1px solid #F59E0B"},children:[i.jsx("strong",{children:"Requisitos de Desbloqueo:"}),i.jsxs("ul",{style:{margin:"0.5rem 0",paddingLeft:"1rem"},children:[!e&&i.jsxs("li",{style:{color:u>=50?"#22C55E":"#EF4444"},children:[u>=50?"✅":"❌"," 50 Chatarra - Energía"]}),!r&&i.jsxs("li",{style:{color:u>=75?"#22C55E":"#EF4444"},children:[u>=75?"✅":"❌"," 75 Chatarra - Almacén"]}),!n&&i.jsxs(i.Fragment,{children:[i.jsxs("li",{style:{color:d>=3?"#22C55E":"#EF4444"},children:[d>=3?"✅":"❌"," 3 Drones Medios"]}),i.jsxs("li",{style:{color:g>=1?"#22C55E":"#EF4444"},children:[g>=1?"✅":"❌"," 1 Panel Solar Avanzado"]}),i.jsxs("li",{style:{color:u>=1e3?"#22C55E":"#EF4444"},children:[u>=1e3?"✅":"❌"," 1000 Chatarra (para Centro Técnico)"]})]}),!t&&i.jsxs("li",{style:{color:p>0?"#22C55E":"#EF4444"},children:[p>0?"✅":"❌"," Investigación: Protocolos de Fundición"]}),!o&&i.jsx("li",{style:{color:"#EF4444"},children:"❌ Construye 1 Dron de Expedición"}),!a&&i.jsx("li",{style:{color:"#EF4444"},children:"❌ Construye 1 Dron Golem"})]})]})]})),si=({buyAmount:e,onSetBuyAmount:r})=>{const n=[1,10,100,"max"];return i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",alignItems:"center"},children:[i.jsx("span",{style:{color:"#9CA3AF",fontSize:"0.9rem"},children:"Cantidad:"}),n.map(t=>i.jsx("button",{onClick:()=>r(t),style:{padding:"0.5rem",backgroundColor:e===t?"#F59E0B":"#374151",color:"white",border:`1px solid ${e===t?"#F59E0B":"#4B5563"}`,borderRadius:"4px",cursor:"pointer",minWidth:"40px",textAlign:"center"},children:t==="max"?"Máx":`x${t}`},t))]})},se=({onClick:e,disabled:r,tooltipText:n,children:t,style:o})=>{const[a,s]=k.useState(!1),l={...o,cursor:r?"not-allowed":"pointer",position:"relative"},c={position:"absolute",bottom:"125%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#1F2937",color:"#E5E7EB",padding:"0.5rem",borderRadius:"4px",border:"1px solid #4B5563",zIndex:10,width:"max-content",textAlign:"center",visibility:a&&r?"visible":"hidden",opacity:a&&r?1:0,transition:"opacity 0.2s"};return i.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[i.jsx("button",{onClick:e,disabled:r,style:l,children:t}),i.jsx("div",{style:c,children:n})]})},lf=({progress:e,time:r})=>i.jsx("div",{style:{width:"100%",backgroundColor:"#374151",borderRadius:"4px",marginTop:"0.5rem"},children:i.jsx("div",{style:{width:`${e/r*100}%`,backgroundColor:"#22C55E",height:"5px",borderRadius:"4px"}})}),fe=({queue:e,itemName:r,onCancel:n})=>e.queue===0?null:i.jsxs("div",{style:{flexGrow:1,display:"flex",flexDirection:"column",gap:"0.5rem"},children:[i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx("button",{onClick:()=>n(r,1),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar 1"}),i.jsx("button",{onClick:()=>n(r,"all"),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar Todo"})]}),i.jsxs("p",{style:{margin:0,fontSize:"0.8rem",textAlign:"center"},children:["⏱️ T/U: ",e.time,"s"]}),i.jsx(lf,{progress:e.progress,time:e.time})]}),cf=dr.memo(({scrap:e,metalRefinado:r,aceroEstructural:n,basicDrones:t,mediumDrones:o,advancedDrones:a,reinforcedBasicDrones:s,reinforcedMediumDrones:l,reinforcedAdvancedDrones:c,golemDrones:u,expeditionDrones:d,expeditionV2Drones:g,wyrmDrones:p,basicDroneQueue:v,mediumDroneQueue:m,advancedDroneQueue:C,reinforcedBasicDroneQueue:w,reinforcedMediumDroneQueue:h,reinforcedAdvancedDroneQueue:f,golemDroneQueue:y,expeditionDroneQueue:x,expeditionV2DroneQueue:S,wyrmDroneQueue:b,upgrades:j,onBuildBasicDrone:_,onBuildMediumDrone:P,onBuildAdvancedDrone:T,onBuildReinforcedBasic:I,onBuildReinforcedMedium:$,onBuildReinforcedAdvanced:L,onBuildGolemDrone:Z,onBuildExpeditionDrone:Q,onBuildExpeditionV2Drone:ce,onBuildWyrm:xe,onDismantle:A,buyAmount:D,onSetBuyAmount:N,onClose:H,onCancel:F})=>{const Y={scrap:600,metal:5},ne={scrap:2500,metal:15},K={scrap:7e3,metal:30},ae={scrap:3e3,metal:20},B={scrap:15e3,metal:100},ue={scrap:75e3,steel:5},V={scrap:25e4,steel:25},_e=be=>{const tr=be.scrap>0?Math.floor(e/be.scrap):1/0,ve=be.metal&&be.metal>0?Math.floor(r/be.metal):1/0,Jr=be.steel&&be.steel>0?Math.floor(n/be.steel):1/0;return Math.min(tr,ve,Jr)},nr=_e({scrap:15}),Xr=_e({scrap:250}),Kn=_e({scrap:1500}),Xn=_e(Y),br=_e(ne),Ar=_e(K),xn=_e(ae),Zr=_e(B),Zn=_e(ue),vn=_e(V),pe=be=>{const tr=be.filter(ve=>ve.current<ve.amount);return tr.length===0?"":"Requiere: "+tr.map(ve=>`${ve.text} (${E(ve.amount)})`).join(", ")};return i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsx("h2",{children:"🏭 TALLER DE DRONES"}),i.jsx("button",{onClick:H,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"2rem",border:"2px solid #F59E0B"},children:[i.jsx("h3",{style:{color:"#F59E0B",marginTop:0,textAlign:"center"},children:"🔄 DRONES DE RECICLADO"}),i.jsx(si,{buyAmount:D,onSetBuyAmount:N}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",border:e>=15?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#F59E0B",marginTop:0},children:"🤖 Dron Básico de Reciclado (DBR)"}),i.jsxs("p",{children:["📊 Producción: +",E(1)," chatarra/segundo"]}),i.jsxs("p",{children:["⚡ Consumo: ",E(1)," energía"]}),i.jsxs("p",{children:["💰 Coste: ",E(15)," chatarra"]}),i.jsxs("p",{children:["🏗️ Flota: ",t," | 📦 En cola: ",v.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",marginTop:"0.5rem"},children:[i.jsx(fe,{queue:v,itemName:"basic",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"basic",onDismantle:A,droneCount:t,buyAmount:D})]}),i.jsxs(se,{onClick:_,disabled:e<15,tooltipText:pe([{resource:"scrap",amount:15,current:e,text:"Chatarra"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=15?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron Básico ",D==="max"&&`(${nr})`]})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",border:e>=250&&t>=5?"2px solid #22C55E":"2px solid #374151",opacity:t>=5?1:.6},children:[i.jsx("h4",{style:{color:"#06B6D4",marginTop:0},children:"🔧 Dron Medio de Reciclado (DMR)"}),i.jsxs("p",{children:["📊 Producción: +",E(5)," chatarra/segundo"]}),i.jsxs("p",{children:["⚡ Consumo: ",E(3)," energía"]}),i.jsxs("p",{children:["💰 Coste: ",E(250)," chatarra"]}),i.jsxs("p",{children:["🏗️ Flota: ",o," | 📦 En cola: ",m.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx(fe,{queue:m,itemName:"medium",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"medium",onDismantle:A,droneCount:o,buyAmount:D})]}),i.jsx("p",{children:"📋 Requisitos: 5 Drones Básicos"}),i.jsxs(se,{onClick:P,disabled:e<250||t<5,tooltipText:pe([{amount:250,current:e,text:"Chatarra"},{amount:5,current:t,text:"Drones Básicos"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=250&&t>=5?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron Medio ",D==="max"&&`(${Xr})`]}),t<5&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 5 Drones Básicos para desbloquear"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",border:e>=1500&&o>=3?"2px solid #22C55E":"2px solid #374151",opacity:o>=3?1:.6},children:[i.jsx("h4",{style:{color:"#22C55E",marginTop:0},children:"🚀 Dron Avanzado de Reciclado (DAR)"}),i.jsxs("p",{children:["📊 Producción: +",E(20)," chatarra/segundo"]}),i.jsxs("p",{children:["⚡ Consumo: ",E(5)," energía"]}),i.jsxs("p",{children:["💰 Coste: ",E(1500)," chatarra"]}),i.jsxs("p",{children:["🏗️ Flota: ",a," | 📦 En cola: ",C.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx(fe,{queue:C,itemName:"advanced",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"advanced",onDismantle:A,droneCount:a,buyAmount:D})]}),i.jsx("p",{children:"📋 Requisitos: 3 Drones Medios"}),i.jsxs(se,{onClick:T,disabled:e<1500||o<3,tooltipText:pe([{amount:1500,current:e,text:"Chatarra"},{amount:3,current:o,text:"Drones Medios"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=1500&&o>=3?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron Avanzado ",D==="max"&&`(${Kn})`]}),o<3&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 3 Drones Medios para desbloquear"})]})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"2rem",border:"2px solid #10B981"},children:[i.jsx("h3",{style:{color:"#10B981",marginTop:0,textAlign:"center"},children:"🧭 DRONES DE EXPEDICIÓN"}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",border:e>=ae.scrap&&r>=ae.metal&&a>=2?"2px solid #22C55E":"2px solid #374151",opacity:a>=2?1:.6},children:[i.jsx("h4",{style:{color:"#10B981",marginTop:0},children:"🧭 Dron de Expedición (DE-1)"}),i.jsx("p",{children:"📊 Función: Realiza expediciones para obtener recursos especiales"}),i.jsxs("p",{children:["⚡ Consumo: ",E(2)," energía (en expediciones)"]}),i.jsxs("p",{children:["💰 Coste: ",E(ae.scrap)," chatarra, ",E(ae.metal)," metal refinado"]}),i.jsx("p",{children:"📋 Requisitos: 2 Drones Avanzados"}),i.jsxs("p",{children:["🏗️ Flota: ",d," | 📦 En cola: ",x.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx(fe,{queue:x,itemName:"expedition",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"expedition",onDismantle:A,droneCount:d,buyAmount:D})]}),i.jsxs(se,{onClick:Q,disabled:e<ae.scrap||r<ae.metal||a<2,tooltipText:pe([{amount:ae.scrap,current:e,text:"Chatarra"},{amount:ae.metal,current:r,text:"Metal Refinado"},{amount:2,current:a,text:"Drones Avanzados"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=ae.scrap&&r>=ae.metal&&a>=2?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron de Expedición ",D==="max"&&`(${xn})`]}),a<2&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 2 Drones Avanzados para desbloquear"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",border:e>=B.scrap&&r>=B.metal&&d>=5?"2px solid #22C55E":"2px solid #374151",opacity:d>=5?1:.6},children:[i.jsx("h4",{style:{color:"#059669",marginTop:0},children:"🧭 Dron de Expedición v2 (DE-2)"}),i.jsx("p",{children:"📊 Función: Realiza expediciones avanzadas para obtener recursos raros"}),i.jsxs("p",{children:["⚡ Consumo: ",E(5)," energía (en expediciones)"]}),i.jsxs("p",{children:["💰 Coste: ",E(B.scrap)," chatarra, ",E(B.metal)," metal refinado"]}),i.jsx("p",{children:"📋 Requisitos: 5 Drones de Expedición"}),i.jsxs("p",{children:["🏗️ Flota: ",g," | 📦 En cola: ",S.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx(fe,{queue:S,itemName:"expeditionV2",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"expeditionV2",onDismantle:A,droneCount:g,buyAmount:D})]}),i.jsxs(se,{onClick:ce,disabled:e<B.scrap||r<B.metal||d<5,tooltipText:pe([{amount:B.scrap,current:e,text:"Chatarra"},{amount:B.metal,current:r,text:"Metal Refinado"},{amount:5,current:d,text:"Drones de Expedición"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=B.scrap&&r>=B.metal&&d>=5?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron de Expedición v2 ",D==="max"&&`(${Zr})`]}),d<5&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 5 Drones de Expedición para desbloquear"})]})]}),(j.reinforcedBasicDrones>0||j.reinforcedMediumDrones>0||j.reinforcedAdvancedDrones>0)&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"2rem",border:"2px solid #8B5CF6"},children:[i.jsx("h3",{style:{color:"#8B5CF6",marginTop:0,textAlign:"center"},children:"🛡️ DRONES REFORZADOS"}),j.reinforcedBasicDrones>0&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",border:e>=Y.scrap&&r>=Y.metal?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#A78BFA",marginTop:0},children:"🛡️ Dron Básico Reforzado (DBR-F)"}),i.jsxs("p",{children:["📊 Producción: +",E(8)," chatarra/segundo"]}),i.jsxs("p",{children:["⚡ Consumo: ",E(3)," energía"]}),i.jsxs("p",{children:["💰 Coste: ",E(Y.scrap)," chatarra, ",E(Y.metal)," metal refinado"]}),i.jsxs("p",{children:["🏗️ Flota: ",s," | 📦 En cola: ",w.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx(fe,{queue:w,itemName:"reinforcedBasic",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"reinforcedBasic",onDismantle:A,droneCount:s,buyAmount:D})]}),i.jsxs(se,{onClick:I,disabled:e<Y.scrap||r<Y.metal,tooltipText:pe([{amount:Y.scrap,current:e,text:"Chatarra"},{amount:Y.metal,current:r,text:"Metal Refinado"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=Y.scrap&&r>=Y.metal?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron Básico Reforzado ",D==="max"&&`(${Xn})`]})]}),j.reinforcedMediumDrones>0&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",border:e>=ne.scrap&&r>=ne.metal?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#A78BFA",marginTop:0},children:"🛡️ Dron Medio Reforzado (DMR-F)"}),i.jsxs("p",{children:["📊 Producción: +",E(25)," chatarra/segundo"]}),i.jsxs("p",{children:["⚡ Consumo: ",E(6)," energía"]}),i.jsxs("p",{children:["💰 Coste: ",E(ne.scrap)," chatarra, ",E(ne.metal)," metal refinado"]}),i.jsxs("p",{children:["🏗️ Flota: ",l," | 📦 En cola: ",h.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx(fe,{queue:h,itemName:"reinforcedMedium",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"reinforcedMedium",onDismantle:A,droneCount:l,buyAmount:D})]}),i.jsxs(se,{onClick:$,disabled:e<ne.scrap||r<ne.metal,tooltipText:pe([{amount:ne.scrap,current:e,text:"Chatarra"},{amount:ne.metal,current:r,text:"Metal Refinado"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=ne.scrap&&r>=ne.metal?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron Medio Reforzado ",D==="max"&&`(${br})`]})]}),j.reinforcedAdvancedDrones>0&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",border:e>=K.scrap&&r>=K.metal?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#A78BFA",marginTop:0},children:"🛡️ Dron Avanzado Reforzado (DAR-F)"}),i.jsxs("p",{children:["📊 Producción: +",E(80)," chatarra/segundo"]}),i.jsxs("p",{children:["⚡ Consumo: ",E(12)," energía"]}),i.jsxs("p",{children:["💰 Coste: ",E(K.scrap)," chatarra, ",E(K.metal)," metal refinado"]}),i.jsxs("p",{children:["🏗️ Flota: ",c," | 📦 En cola: ",f.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx(fe,{queue:f,itemName:"reinforcedAdvanced",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"reinforcedAdvanced",onDismantle:A,droneCount:c,buyAmount:D})]}),i.jsxs(se,{onClick:L,disabled:e<K.scrap||r<K.metal,tooltipText:pe([{amount:K.scrap,current:e,text:"Chatarra"},{amount:K.metal,current:r,text:"Metal Refinado"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=K.scrap&&r>=K.metal?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron Avanzado Reforzado ",D==="max"&&`(${Ar})`]})]})]}),(j.golemChassis>0||j.wyrm>0)&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"2rem",border:"2px solid #F43F5E"},children:[i.jsx("h3",{style:{color:"#F43F5E",marginTop:0,textAlign:"center"},children:"⚔️ DRONES DE ÉLITE"}),j.golemChassis>0&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",marginBottom:"1rem",opacity:c>=5?1:.6,border:e>=ue.scrap&&n>=ue.steel&&c>=5?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#F43F5E",marginTop:0},children:"🗿 Dron Golem (DG-1)"}),i.jsxs("p",{children:["📊 Producción: +",E(500)," chatarra/segundo"]}),i.jsxs("p",{children:["⚡ Consumo: ",E(50)," energía"]}),i.jsxs("p",{children:["💰 Coste: ",E(ue.scrap)," chatarra, ",E(ue.steel)," acero estructural"]}),i.jsx("p",{children:"📋 Requisitos: 5 Drones Avanzados Reforzados"}),i.jsxs("p",{children:["🏗️ Flota: ",u," | 📦 En cola: ",y.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx(fe,{queue:y,itemName:"golem",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"golem",onDismantle:A,droneCount:u,buyAmount:D})]}),i.jsxs(se,{onClick:Z,disabled:e<ue.scrap||n<ue.steel||c<5,tooltipText:pe([{amount:ue.scrap,current:e,text:"Chatarra"},{amount:ue.steel,current:n,text:"Acero Estructural"},{amount:5,current:c,text:"Drones Avanzados Reforzados"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=ue.scrap&&n>=ue.steel&&c>=5?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron Golem ",D==="max"&&`(${Zn})`]})]})]}),j.golemChassis>0&&u>=1&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"4px",opacity:u>=1?1:.6,border:e>=V.scrap&&n>=V.steel&&u>=1?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#F43F5E",marginTop:0},children:"🐲 Dron Wyrm (DW-1)"}),i.jsxs("p",{children:["📊 Producción: +",E(1)," metal refinado/s, +",E(.1)," acero/s"]}),i.jsxs("p",{children:["⚡ Consumo: ",E(200)," energía"]}),i.jsxs("p",{children:["💰 Coste: ",E(V.scrap)," chatarra, ",E(V.steel)," acero"]}),i.jsx("p",{children:"📋 Requisitos: 1 Dron Golem"}),i.jsxs("p",{children:["🏗️ Flota: ",p," | 📦 En cola: ",b.queue]}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx(fe,{queue:b,itemName:"wyrm",onCancel:F}),i.jsx(mr,{upgrades:j,droneType:"wyrm",onDismantle:A,droneCount:p,buyAmount:D})]}),i.jsxs(se,{onClick:xe,disabled:e<V.scrap||n<V.steel||u<1,tooltipText:pe([{amount:V.scrap,current:e,text:"Chatarra"},{amount:V.steel,current:n,text:"Acero"},{amount:1,current:u,text:"Drones Golem"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=V.scrap&&n>=V.steel&&u>=1?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Dron Wyrm ",D==="max"&&`(${vn})`]})]})]})}),mr=({upgrades:e,droneType:r,droneCount:n,buyAmount:t,onDismantle:o})=>e.reassignProtocols?i.jsx("button",{onClick:()=>o(r,t),disabled:n<=0,style:{padding:"0.5rem",backgroundColor:n>0?"#EF4444":"#374151",color:"white",border:"none",borderRadius:"4px",cursor:n>0?"pointer":"not-allowed",fontSize:"0.8rem",width:"100px"},children:"Desmantelar"}):null,uf=dr.memo(({scrap:e,currentEnergy:r,maxEnergy:n,energyConsumption:t,solarPanels:o,mediumSolarPanels:a,advancedSolar:s,energyCores:l,fusionReactors:c,solarPanelsQueue:u,mediumSolarPanelsQueue:d,advancedSolarQueue:g,energyCoresQueue:p,fusionReactorQueue:v,onBuildSolarPanel:m,onBuildMediumSolar:C,onBuildAdvancedSolar:w,onBuildEnergyCore:h,onBuildFusionReactor:f,buyAmount:y,onSetBuyAmount:x,onClose:S,onCancel:b,upgrades:j,energyCoresCount:_,metalRefinado:P})=>{const T=Ne=>{const Se=Ne.filter(Re=>Re.current<Re.amount);return Se.length===0?"":"Requiere: "+Se.map(Re=>`${Re.text} (${E(Re.amount)})`).join(", ")},Q={scrap:1e4,metalRefinado:25},ce=Ne=>Math.floor(e/Ne),xe=ce(50),A=ce(200),D=ce(500),N=ce(2e3),H=Math.min(Math.floor(e/Q.scrap),Math.floor(P/Q.metalRefinado)),F=o*3+a*10+s*30+l*50+c*250;return i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsx("h2",{children:"⚡ MÓDULO DE ENERGÍA"}),i.jsx("button",{onClick:S,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"2rem",border:"2px solid #06B6D4"},children:[i.jsx("h3",{style:{color:"#06B6D4",marginTop:0},children:"📊 RESUMEN ENERGÉTICO"}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center"},children:[i.jsxs("span",{children:["🔋 ",E(r)," / ",E(n)]}),i.jsxs("span",{children:["⚡ +",E(F),"/s"]}),i.jsxs("span",{children:["🔌 ",E(t),"/s"]}),i.jsxs("span",{style:{color:F>=t?"#22C55E":"#EF4444"},children:["📈 ",(F-t).toFixed(1),"/s"]})]})]}),i.jsx(si,{buyAmount:y,onSetBuyAmount:x}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=50?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h3",{style:{color:"#F59E0B",marginTop:0},children:"☀️ Panel Solar Básico"}),i.jsxs("p",{children:["⚡ Producción: +",E(3)," energía/segundo"]}),i.jsxs("p",{children:["💰 Coste: ",E(50)," chatarra"]}),i.jsxs("p",{children:["🏗️ Instalados: ",o," | 📦 En cola: ",u.queue]}),i.jsx(fe,{queue:u,itemName:"solarPanels",onCancel:b}),i.jsxs(se,{onClick:m,disabled:e<50,tooltipText:T([{amount:50,current:e,text:"Chatarra"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=50?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Panel Solar ",y==="max"&&`(${xe})`]})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=200&&o>=5?"2px solid #22C55E":"2px solid #374151",opacity:o>=5?1:.6},children:[i.jsx("h3",{style:{color:"#F59E0B",marginTop:0},children:"☀️ Panel Solar Medio"}),i.jsxs("p",{children:["⚡ Producción: +",E(10)," energía/segundo"]}),i.jsxs("p",{children:["💰 Coste: ",E(200)," chatarra"]}),i.jsxs("p",{children:["🏗️ Instalados: ",a," | 📦 En cola: ",d.queue]}),i.jsx(fe,{queue:d,itemName:"mediumSolarPanels",onCancel:b}),i.jsx("p",{children:"📋 Requisitos: 5 Paneles Solares Básicos"}),i.jsxs(se,{onClick:C,disabled:e<200||o<5,tooltipText:T([{amount:200,current:e,text:"Chatarra"},{amount:5,current:o,text:"Paneles Solares Básicos"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=200&&o>=5?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Panel Medio ",y==="max"&&`(${A})`]}),o<5&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 5 Paneles Solares Básicos"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=500&&a>=1?"2px solid #22C55E":"2px solid #374151",opacity:a>=1?1:.6},children:[i.jsx("h3",{style:{color:"#06B6D4",marginTop:0},children:"🔆 Panel Solar Avanzado"}),i.jsxs("p",{children:["⚡ Producción: +",E(30)," energía/segundo"]}),i.jsxs("p",{children:["💰 Coste: ",E(500)," chatarra"]}),i.jsxs("p",{children:["🏗️ Instalados: ",s," | 📦 En cola: ",g.queue]}),i.jsx(fe,{queue:g,itemName:"advancedSolar",onCancel:b}),i.jsx("p",{children:"📋 Requisitos: 1 Panel Solar Medio"}),i.jsxs(se,{onClick:w,disabled:e<500||a<1,tooltipText:T([{amount:500,current:e,text:"Chatarra"},{amount:1,current:a,text:"Paneles Solares Medios"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=500&&a>=1?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Panel Avanzado ",y==="max"&&`(${D})`]}),a<1&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 1 Panel Solar Medio"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=2e3&&s>=3?"2px solid #22C55E":"2px solid #374151",opacity:s>=3?1:.6},children:[i.jsx("h3",{style:{color:"#22C55E",marginTop:0},children:"🔷 Núcleo Energético"}),i.jsxs("p",{children:["⚡ Producción: +",E(50)," energía/segundo"]}),i.jsxs("p",{children:["🔋 Capacidad: +",E(100)," energía máxima"]}),i.jsxs("p",{children:["💰 Coste: ",E(2e3)," chatarra"]}),i.jsxs("p",{children:["🏗️ Instalados: ",l," | 📦 En cola: ",p.queue]}),i.jsx(fe,{queue:p,itemName:"energyCores",onCancel:b}),i.jsx("p",{children:"📋 Requisitos: 3 Paneles Solares Avanzados"}),i.jsxs(se,{onClick:h,disabled:e<2e3||s<3,tooltipText:T([{amount:2e3,current:e,text:"Chatarra"},{amount:3,current:s,text:"Paneles Solares Avanzados"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=2e3&&s>=3?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Núcleo Energético ",y==="max"&&`(${N})`]}),s<3&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 3 Paneles Solares Avanzados"})]}),j.fusionTech>0&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=Q.scrap&&P>=Q.metalRefinado&&_>=10?"2px solid #8B5CF6":"2px solid #374151",opacity:_>=10?1:.6},children:[i.jsx("h3",{style:{color:"#8B5CF6",marginTop:0},children:"⚛️ Reactor de Fusión"}),i.jsxs("p",{children:["⚡ Producción: +",E(250)," energía/segundo"]}),i.jsxs("p",{children:["🔋 Capacidad: +",E(1e3)," energía máxima"]}),i.jsxs("p",{children:["💰 Coste: ",E(Q.scrap)," Chatarra + ",E(Q.metalRefinado)," Metal Refinado"]}),i.jsxs("p",{children:["🏗️ Construidos: ",c," | 📦 En cola: ",v.queue]}),i.jsx(fe,{queue:v,itemName:"fusionReactor",onCancel:b}),i.jsx("p",{children:"📋 Requisitos: 10 Núcleos Energéticos"}),i.jsxs(se,{onClick:f,disabled:e<Q.scrap||P<Q.metalRefinado||_<10,tooltipText:T([{amount:Q.scrap,current:e,text:"Chatarra"},{amount:Q.metalRefinado,current:P,text:"Metal Refinado"},{amount:10,current:_,text:"Núcleos Energéticos"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=Q.scrap&&P>=Q.metalRefinado&&_>=10?"#8B5CF6":"#9CA3AF",color:"white",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Reactor de Fusión ",y==="max"&&`(${H})`]}),_<10&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 10 Núcleos Energéticos"})]})]})}),en=({progress:e,time:r})=>i.jsx("div",{style:{width:"100%",backgroundColor:"#374151",borderRadius:"4px",marginTop:"0.5rem"},children:i.jsx("div",{style:{width:`${e/r*100}%`,backgroundColor:"#22C55E",height:"5px",borderRadius:"4px"}})}),df=dr.memo(({scrap:e,metalRefinado:r,basicStorage:n,mediumStorage:t,advancedStorage:o,quantumHoardUnit:a,lithiumIonBattery:s,plasmaAccumulator:l,harmonicContainmentField:c,basicStorageQueue:u,mediumStorageQueue:d,advancedStorageQueue:g,quantumHoardUnitQueue:p,lithiumIonBatteryQueue:v,plasmaAccumulatorQueue:m,harmonicContainmentFieldQueue:C,energyCores:w,onBuildBasicStorage:h,onBuildMediumStorage:f,onBuildAdvancedStorage:y,onBuildQuantumHoardUnit:x,onBuildLithiumIonBattery:S,onBuildPlasmaAccumulator:b,onBuildHarmonicContainmentField:j,buyAmount:_,onSetBuyAmount:P,onClose:T,onCancel:I})=>{const $=B=>{const ue=B.filter(V=>V.current<V.amount);return ue.length===0?"":"Requiere: "+ue.map(V=>`${V.text} (${E(V.amount)})`).join(", ")},F=B=>{if(typeof B=="number")return Math.floor(e/B);const ue=B.scrap>0?Math.floor(e/B.scrap):1/0,V=B.metal>0?Math.floor(r/B.metal):1/0;return Math.min(ue,V)},Ne=F(100),Se=F(1e3),Re=F(1e4),Y=F({scrap:75e3,metal:50}),ne=F(150),K=F(750),ae=F({scrap:3e3,metal:10});return i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsx("h2",{children:"📦 MÓDULO DE ALMACÉN"}),i.jsx("button",{onClick:T,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),i.jsx(si,{buyAmount:_,onSetBuyAmount:P}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=100?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h3",{style:{color:"#F59E0B",marginTop:0},children:"📦 Almacén Básico"}),i.jsxs("p",{children:["📈 Capacidad: +",E(50)," chatarra máxima"]}),i.jsxs("p",{children:["💰 Coste: ",E(100)," chatarra"]}),i.jsxs("p",{children:["🏗️ Construidos: ",n," | 📦 En cola: ",u.queue]}),u.queue>0&&i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[i.jsx("button",{onClick:()=>I("basicStorage",1),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar 1"}),i.jsx("button",{onClick:()=>I("basicStorage","all"),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar Todo"})]}),i.jsxs("p",{children:["⏱️ T/U: ",u.time,"s"]}),u.queue>0&&i.jsx(en,{progress:u.progress,time:u.time}),i.jsxs(se,{onClick:h,disabled:e<100,tooltipText:$([{amount:100,current:e,text:"Chatarra"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=100?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Almacén Básico ",_==="max"&&`(${Ne})`]})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=1e3&&n>=3?"2px solid #22C55E":"2px solid #374151",opacity:n>=3?1:.6},children:[i.jsx("h3",{style:{color:"#22C55E",marginTop:0},children:"- Almacén Medio"}),i.jsxs("p",{children:["📈 Capacidad: +",E(500)," chatarra máxima"]}),i.jsxs("p",{children:["💰 Coste: ",E(1e3)," chatarra"]}),i.jsxs("p",{children:["🏗️ Construidos: ",t," | 📦 En cola: ",d.queue]}),d.queue>0&&i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[i.jsx("button",{onClick:()=>I("mediumStorage",1),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar 1"}),i.jsx("button",{onClick:()=>I("mediumStorage","all"),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar Todo"})]}),i.jsxs("p",{children:["⏱️ T/U: ",d.time,"s"]}),i.jsx("p",{children:"📋 Requisitos: 3 Almacenes Básicos"}),d.queue>0&&i.jsx(en,{progress:d.progress,time:d.time}),i.jsxs(se,{onClick:f,disabled:e<1e3||n<3,tooltipText:$([{amount:1e3,current:e,text:"Chatarra"},{amount:3,current:n,text:"Almacenes Básicos"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=1e3&&n>=3?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Almacén Medio ",_==="max"&&`(${Se})`]}),n<3&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 3 Almacenes Básicos"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=1e4&&t>=1?"2px solid #D946EF":"2px solid #374151",opacity:t>=1?1:.6},children:[i.jsx("h3",{style:{color:"#D946EF",marginTop:0},children:"🚀 Almacén Avanzado"}),i.jsxs("p",{children:["📈 Capacidad: +",E(5e3)," chatarra máxima"]}),i.jsxs("p",{children:["💰 Coste: ",E(1e4)," chatarra"]}),i.jsxs("p",{children:["🏗️ Construidos: ",o," | 📦 En cola: ",g.queue]}),g.queue>0&&i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[i.jsx("button",{onClick:()=>I("advancedStorage",1),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar 1"}),i.jsx("button",{onClick:()=>I("advancedStorage","all"),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar Todo"})]}),i.jsxs("p",{children:["⏱️ T/U: ",g.time,"s"]}),i.jsx("p",{children:"📋 Requisitos: 1 Almacén Medio"}),g.queue>0&&i.jsx(en,{progress:g.progress,time:g.time}),i.jsxs(se,{onClick:y,disabled:e<1e4||t<1,tooltipText:$([{amount:1e4,current:e,text:"Chatarra"},{amount:1,current:t,text:"Almacenes Medios"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=1e4&&t>=1?"#D946EF":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Almacén Avanzado ",_==="max"&&`(${Re})`]}),t<1&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 1 Almacén Medio"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=75e3&&r>=50&&o>=3?"2px solid #D946EF":"2px solid #374151",opacity:o>=3?1:.6},children:[i.jsx("h3",{style:{color:"#D946EF",marginTop:0},children:"🌌 Unidad de Acopio Cuántico"}),i.jsxs("p",{children:["📈 Capacidad: +",E(5e4)," chatarra máxima"]}),i.jsxs("p",{children:["💰 Coste: ",E(75e3)," chatarra y ",E(50)," metal refinado"]}),i.jsxs("p",{children:["🏗️ Construidos: ",a," | 📦 En cola: ",p.queue]}),p.queue>0&&i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[i.jsx("button",{onClick:()=>I("quantumHoardUnit",1),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar 1"}),i.jsx("button",{onClick:()=>I("quantumHoardUnit","all"),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar Todo"})]}),i.jsxs("p",{children:["⏱️ T/U: ",p.time,"s"]}),i.jsx("p",{children:"📋 Requisitos: 3 Almacenes Avanzados"}),p.queue>0&&i.jsx(en,{progress:p.progress,time:p.time}),i.jsxs(se,{onClick:x,disabled:e<75e3||r<50||o<3,tooltipText:$([{amount:75e3,current:e,text:"Chatarra"},{amount:50,current:r,text:"Metal Refinado"},{amount:3,current:o,text:"Almacenes Avanzados"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=75e3&&r>=50&&o>=3?"#D946EF":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Acopio Cuántico ",_==="max"&&`(${Y})`]}),o<3&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 3 Almacenes Avanzados"})]}),i.jsx("h3",{style:{borderBottom:"2px solid #06B6D4",paddingBottom:"0.5rem",marginTop:"3rem"},children:"Almacenamiento de Energía"}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=150?"2px solid #06B6D4":"2px solid #374151"},children:[i.jsx("h3",{style:{color:"#06B6D4",marginTop:0},children:"🔋 Batería de Iones de Litio"}),i.jsxs("p",{children:["📈 Capacidad: +",E(50)," energía máxima"]}),i.jsxs("p",{children:["💰 Coste: ",E(150)," chatarra"]}),i.jsxs("p",{children:["🏗️ Construidos: ",s," | 📦 En cola: ",v.queue]}),v.queue>0&&i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[i.jsx("button",{onClick:()=>I("lithiumIonBattery",1),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar 1"}),i.jsx("button",{onClick:()=>I("lithiumIonBattery","all"),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar Todo"})]}),i.jsxs("p",{children:["⏱️ T/U: ",v.time,"s"]}),v.queue>0&&i.jsx(en,{progress:v.progress,time:v.time}),i.jsxs(se,{onClick:S,disabled:e<150,tooltipText:$([{amount:150,current:e,text:"Chatarra"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=150?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Batería ",_==="max"&&`(${ne})`]})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=750&&s>=5?"2px solid #06B6D4":"2px solid #374151",opacity:s>=5?1:.6},children:[i.jsx("h3",{style:{color:"#06B6D4",marginTop:0},children:"🔋 Acumulador de Plasma"}),i.jsxs("p",{children:["📈 Capacidad: +",E(250)," energía máxima"]}),i.jsxs("p",{children:["💰 Coste: ",E(750)," chatarra"]}),i.jsxs("p",{children:["🏗️ Construidos: ",l," | 📦 En cola: ",m.queue]}),m.queue>0&&i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[i.jsx("button",{onClick:()=>I("plasmaAccumulator",1),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar 1"}),i.jsx("button",{onClick:()=>I("plasmaAccumulator","all"),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar Todo"})]}),i.jsxs("p",{children:["⏱️ T/U: ",m.time,"s"]}),i.jsx("p",{children:"📋 Requisitos: 5 Baterías de Iones de Litio"}),m.queue>0&&i.jsx(en,{progress:m.progress,time:m.time}),i.jsxs(se,{onClick:b,disabled:e<750||s<5,tooltipText:$([{amount:750,current:e,text:"Chatarra"},{amount:5,current:s,text:"Baterías de Iones de Litio"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=750&&s>=5?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Acumulador ",_==="max"&&`(${K})`]}),s<5&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 5 Baterías de Iones de Litio"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:e>=3e3&&r>=10&&l>=3?"2px solid #D946EF":"2px solid #374151",opacity:l>=3?1:.6},children:[i.jsx("h3",{style:{color:"#D946EF",marginTop:0},children:"🔋 Campo de Contención Armónico"}),i.jsxs("p",{children:["📈 Capacidad: +",E(1200)," energía máxima"]}),i.jsxs("p",{children:["💰 Coste: ",E(3e3)," chatarra y ",E(10)," metal refinado"]}),i.jsxs("p",{children:["🏗️ Construidos: ",c," | 📦 En cola: ",C.queue]}),C.queue>0&&i.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[i.jsx("button",{onClick:()=>I("harmonicContainmentField",1),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar 1"}),i.jsx("button",{onClick:()=>I("harmonicContainmentField","all"),style:{flexGrow:1,backgroundColor:"#FBBF24",border:"none",padding:"0.5rem",borderRadius:"4px",cursor:"pointer",color:"#1F2937"},children:"Cancelar Todo"})]}),i.jsxs("p",{children:["⏱️ T/U: ",C.time,"s"]}),i.jsx("p",{children:"📋 Requisitos: 3 Acumuladores de Plasma"}),C.queue>0&&i.jsx(en,{progress:C.progress,time:C.time}),i.jsxs(se,{onClick:j,disabled:e<3e3||r<10||l<3,tooltipText:$([{amount:3e3,current:e,text:"Chatarra"},{amount:10,current:r,text:"Metal Refinado"},{amount:3,current:l,text:"Acumuladores de Plasma"}]),style:{padding:"0.75rem 1.5rem",backgroundColor:e>=3e3&&r>=10&&l>=3?"#D946EF":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",fontWeight:"bold",marginTop:"0.5rem",width:"100%"},children:["Encargar Campo de Contención ",_==="max"&&`(${ae})`]}),l<3&&i.jsx("p",{style:{color:"#F59E0B",fontSize:"0.9rem",marginTop:"0.5rem"},children:"⚠️ Necesitas 3 Acumuladores de Plasma"})]})]})}),pf=dr.memo(({activeMissions:e,completedMissions:r,currentScrap:n,maxScrap:t,currentEnergy:o,maxEnergy:a,onClaimReward:s,onClose:l})=>{const c=m=>Math.min(m.current/m.target*100,100),u=m=>{switch(m.type){case"scrap":return`+${m.value} Chatarra`;case"energy":return`+${m.value} Energía`;case"drone":return"Dron Básico";case"unlock":return`Desbloqueo de ${m.value}`;default:return"Recompensa"}},d=m=>{if(m.completed)return!1;switch(m.reward.type){case"scrap":return n+m.reward.value<=t;case"energy":return o+m.reward.value<=a;case"drone":case"unlock":return!0;default:return!0}},g=e.filter(m=>m.isMain&&!m.completed),p=e.filter(m=>!m.isMain&&!m.completed),v=(m,C)=>{const w=c(m),h=w>=100&&d(m),f=w>=100&&!h;return i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:C?`2px solid ${w>=100?"#22C55E":"#D946EF"}`:`1px solid ${w>=100?"#22C55E":"#374151"}`},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[i.jsxs("h4",{style:{color:C?"#D946EF":w>=100?"#22C55E":"#F59E0B",margin:0},children:[C&&"★ "," ",m.title]}),i.jsx("span",{style:{color:"#06B6D4",fontSize:"0.9rem",fontWeight:"bold"},children:u(m.reward)})]}),i.jsx("p",{style:{margin:"0.5rem 0",fontSize:"0.9rem",color:"#D1D5DB"},children:m.description}),i.jsxs("div",{style:{marginBottom:"0.5rem"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"#9CA3AF",marginBottom:"0.25rem"},children:[i.jsxs("span",{children:["Progreso: ",m.current,"/",m.target]}),i.jsxs("span",{children:[Math.round(w),"%"]})]}),i.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#374151",borderRadius:"4px",overflow:"hidden"},children:i.jsx("div",{style:{width:`${w}%`,height:"100%",backgroundColor:w>=100?"#22C55E":"#06B6D4",borderRadius:"4px",transition:"width 0.3s ease"}})})]}),i.jsxs("div",{style:{fontSize:"0.8rem",color:"#9CA3AF",marginBottom:"0.5rem"},children:["Objetivo: ",m.objective]}),w>=100&&i.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"1rem"},children:[f&&i.jsx("span",{style:{color:"#EF4444",fontSize:"0.8rem"},children:"⚠️ Espacio insuficiente"}),i.jsx("button",{onClick:()=>s(m.id),disabled:!h,style:{padding:"0.5rem 1rem",backgroundColor:h?"#22C55E":"#9CA3AF",color:h?"#1F2937":"#0F172A",border:"none",borderRadius:"4px",cursor:h?"pointer":"not-allowed",fontWeight:"bold",fontSize:"0.8rem"},children:h?"🎁 Reclamar":f?"Completar":"⏳ Esperando"})]})]},m.id)};return i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsx("h2",{children:"🎯 SISTEMA DE MISIONES"}),i.jsx("button",{onClick:l,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),g.length>0&&i.jsxs("div",{style:{marginBottom:"2rem"},children:[i.jsx("h3",{style:{color:"#D946EF",marginBottom:"1rem",borderBottom:"1px solid #D946EF",paddingBottom:"0.5rem"},children:"★ MISIÓN PRINCIPAL"}),g.map(m=>v(m,!0))]}),i.jsxs("div",{style:{marginBottom:"2rem"},children:[i.jsx("h3",{style:{color:"#F59E0B",marginBottom:"1rem"},children:"MISIONES SECUNDARIAS"}),p.length===0&&g.length===0?i.jsx("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",textAlign:"center",color:"#9CA3AF"},children:"No hay misiones activas. ¡Excelente trabajo, técnico!"}):p.map(m=>v(m,!1))]}),r.length>0&&i.jsxs("div",{children:[i.jsx("h3",{style:{color:"#22C55E",marginBottom:"1rem"},children:"MISIONES COMPLETADAS"}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",border:"2px solid #22C55E"},children:[i.jsxs("div",{style:{color:"#22C55E",fontWeight:"bold",marginBottom:"0.5rem"},children:["✅ ",r.length," misión(es) completada(s)"]}),i.jsx("div",{style:{fontSize:"0.9rem",color:"#9CA3AF"},children:"Continúa expandiendo la estación para desbloquear nuevas misiones."})]})]})]})}),mf=({gameState:e,onResearchUpgrade:r,onClose:n})=>{const{techCenter:t,drones:o,resources:a}=e,{unlocked:s,researchPoints:l,upgrades:c}=t,[u,d]=k.useState(!1),g=.1*(1+(c.researchEfficiency||0)*.2),v=Object.values(o).reduce((x,S)=>x+S,0)*.01*(1+(c.advancedAnalysis||0)*.1),C=Math.max(0,a.energyProduction-a.energyConsumption)*.005*(1+(c.algorithmOptimization||0)*.15),w=(g+v+C)/(1-(c.quantumComputing||0)*.05),h=[{id:"collectionEfficiency",category:"Drones",title:"Recolección Mejorada",description:"Aumenta la chatarra recolectada por los drones.",effect:x=>`+${x*10}% Prod. Chatarra`,cost:100,maxLevel:5,requirements:[]},{id:"droneAssembly",category:"Drones",title:"Línea de Ensamblaje",description:"Acelera la construcción de todo tipo de drones.",effect:x=>`-${x*5}% Tiempo Constr.`,cost:150,maxLevel:5,requirements:["collectionEfficiency"]},{id:"reinforcedBasicDrones",category:"Drones",title:"Drones Reforzados I",description:"Desbloquea drones básicos reforzados.",effect:()=>"Desbloquea DBR-F",cost:250,maxLevel:1,requirements:["droneAssembly"]},{id:"reinforcedMediumDrones",category:"Drones",title:"Drones Reforzados II",description:"Desbloquea drones medios reforzados.",effect:()=>"Desbloquea DMR-F",cost:500,maxLevel:1,requirements:["reinforcedBasicDrones"]},{id:"reinforcedAdvancedDrones",category:"Drones",title:"Drones Reforzados III",description:"Desbloquea drones avanzados reforzados.",effect:()=>"Desbloquea DAR-F",cost:1e3,maxLevel:1,requirements:["reinforcedMediumDrones"]},{id:"golemChassis",category:"Drones",title:"Chasis Golem",description:"Desbloquea los poderosos Drones Golem.",effect:()=>"Desbloquea DG-1",cost:2500,maxLevel:1,requirements:["reinforcedAdvancedDrones"]},{id:"swarmAI",category:"Drones",title:"IA de Enjambre",description:"Por cada 50 drones, +1% a la producción global de chatarra (máx 10%).",effect:x=>`Actualmente: +${x}%`,cost:5e3,maxLevel:10,requirements:["golemChassis"]},{id:"reassignProtocols",category:"Drones",title:"Protocolos de Reasignación",description:"Desbloquea la capacidad de desmantelar drones en el Taller para recuperar el 75% de sus costes.",effect:()=>"Desbloquea Desmantelamiento",cost:1200,maxLevel:1,requirements:["swarmAI"]},{id:"geologicalScanners",category:"Drones",title:"Scanners Geológicos",description:"Los drones tienen una pequeña probabilidad de encontrar recursos raros al recolectar chatarra.",effect:x=>`+${x*.01}% Prob. Recursos Raros`,cost:3e3,maxLevel:5,requirements:["reaasignProtocols"]},{id:"powerOptimization",category:"Energia",title:"Optimización Energética",description:"Reduce el consumo de energía de los drones.",effect:x=>`-${x*5}% Consumo Energía`,cost:120,maxLevel:5,requirements:[]},{id:"energyCalibration",category:"Energia",title:"Calibración de Componentes",description:"Acelera la construcción de unidades de energía.",effect:x=>`-${x*5}% Tiempo Constr.`,cost:180,maxLevel:5,requirements:["powerOptimization"]},{id:"energyEfficiency",category:"Energia",title:"Eficiencia de Paneles",description:"Aumenta la producción de los paneles solares.",effect:x=>`+${x*10}% Prod. Paneles`,cost:200,maxLevel:4,requirements:["energyCalibration"]},{id:"powerGrid",category:"Energia",title:"Red Eléctrica Mejorada",description:"Aumenta la producción de todas las fuentes de energía.",effect:x=>`+${x*5}% Prod. Global`,cost:400,maxLevel:5,requirements:["energyEfficiency"]},{id:"batteryTech",category:"Energia",title:"Tecnología de Baterías",description:"Aumenta la capacidad máxima de energía.",effect:x=>`+${x*15}% Cap. Energía`,cost:300,maxLevel:5,requirements:["powerGrid"]},{id:"coreEfficiency",category:"Energia",title:"Eficiencia de Núcleos",description:"Aumenta la producción de los Núcleos Energéticos.",effect:x=>`+${x*10}% Prod. Núcleos`,cost:800,maxLevel:3,requirements:["batteryTech"]},{id:"geothermalEnergy",category:"Energia",title:"Energía Geotérmica",description:"Desbloquea el Generador Geotérmico (Próximamente).",effect:()=>"Desbloqueo",cost:3e3,maxLevel:1,requirements:["coreEfficiency"]},{id:"fusionTech",category:"Energia",title:"Reactores de Fusión",description:"Desbloquea el Reactor de Fusión, una fuente de energía masiva.",effect:()=>"Desbloquea Reactor",cost:5e3,maxLevel:1,requirements:["geothermalEnergy"]},{id:"poweredFabricators",category:"Energia",title:"Fabricadores Potenciados",description:"Si la energía está por encima del 90%, la construcción y crafteo es un 10% más rápida.",effect:x=>`+${x*10}% Velocidad (Bono)`,cost:2e3,maxLevel:3,requirements:["fusionTech"]},{id:"researchEfficiency",category:"Investigacion",title:"Protocolos de Datos",description:"Aumenta la generación base de Puntos de Investigación (RP).",effect:x=>`+${x*20}% RP Base`,cost:150,maxLevel:5,requirements:[]},{id:"advancedAnalysis",category:"Investigacion",title:"Análisis de Flota",description:"Los drones generan más RP.",effect:x=>`+${x*10}% RP por Dron`,cost:300,maxLevel:4,requirements:["researchEfficiency"]},{id:"algorithmOptimization",category:"Investigacion",title:"Algoritmos Predictivos",description:"La energía sobrante genera más RP.",effect:x=>`+${x*15}% RP por Energía Excedente`,cost:450,maxLevel:4,requirements:["advancedAnalysis"]},{id:"constructionEfficiency",category:"Investigacion",title:"Eficiencia de Construcción",description:"Reduce el tiempo de construcción de todas las unidades.",effect:x=>`-${x*5}% Tiempo de Construcción`,cost:600,maxLevel:5,requirements:["algorithmOptimization"]},{id:"quantumComputing",category:"Investigacion",title:"Computación Cuántica",description:"Reduce el coste de todas las investigaciones.",effect:x=>`-${x*5}% Coste Investigación`,cost:1500,maxLevel:3,requirements:["constructionEfficiency"]},{id:"singularity",category:"Investigacion",title:"Singularidad (Próximamente)",description:"Trascendencia tecnológica.",effect:()=>"Próximamente",cost:1e4,maxLevel:1,requirements:["quantumComputing"]},{id:"globalEfficiency",category:"Investigacion",title:"Eficiencia Global (Infinita)",description:"Aumenta permanentemente toda la producción de chatarra.",effect:x=>`+${x}% Prod. Chatarra`,cost:1e4,maxLevel:1/0,requirements:[],isInfinite:!0},{id:"storageOptimization",category:"Almacenamiento",title:"Logística Mejorada",description:"Aumenta la capacidad de almacenamiento de chatarra.",effect:x=>`+${x*15}% Cap. Chatarra`,cost:80,maxLevel:5,requirements:[]},{id:"storageConstruction",category:"Almacenamiento",title:"Logística Eficiente",description:"Acelera la construcción de unidades de almacenamiento.",effect:x=>`-${x*5}% Tiempo Constr.`,cost:130,maxLevel:5,requirements:["storageOptimization"]},{id:"cargoDrones",category:"Almacenamiento",title:"Drones de Carga",description:"Aumenta la capacidad de las unidades de almacenamiento.",effect:x=>`+${x*10}% Bono Almacenamiento`,cost:220,maxLevel:4,requirements:["storageConstruction"]},{id:"energyStorage",category:"Almacenamiento",title:"Almacenamiento Energético",description:"Aumenta la capacidad de las baterías.",effect:x=>`+${x*10}% Bono Baterías`,cost:350,maxLevel:4,requirements:["cargoDrones"]},{id:"matterCompression",category:"Almacenamiento",title:"Compresión de Materia",description:"Reduce el coste de construcción de unidades de almacenamiento.",effect:x=>`-${x*5}% Coste Almacenamiento`,cost:1200,maxLevel:3,requirements:["energyStorage"]},{id:"pocketDimension",category:"Almacenamiento",title:"Dimensión de Bolsillo (Próximamente)",description:"Almacenamiento casi infinito.",effect:()=>"Próximamente",cost:6e3,maxLevel:1,requirements:["matterCompression"]},{id:"foundryProtocols",category:"Fundicion",title:"Protocolos de Fundición",description:"Desbloquea la Fundición para crear Metal Refinado.",effect:()=>"Desbloquea la Fundición",cost:50,maxLevel:1,requirements:[]},{id:"metalSmeltingSpeed",category:"Fundicion",title:"Fundición Eficiente",description:"Reduce el tiempo de crafteo del Metal Refinado.",effect:x=>`-${x*5}% Tiempo Crafteo`,cost:200,maxLevel:5,requirements:["foundryProtocols"]},{id:"steelProductionSpeed",category:"Fundicion",title:"Producción de Acero",description:"Reduce el tiempo de crafteo del Acero Estructural.",effect:x=>`-${x*5}% Tiempo Crafteo`,cost:400,maxLevel:5,requirements:["metalSmeltingSpeed"]},{id:"automatedFabrication",category:"Fundicion",title:"Fabricación Automatizada",description:"Desbloquea la automatización en la Fundición (Próximamente).",effect:()=>"Desbloqueo",cost:2e3,maxLevel:1,requirements:["steelProductionSpeed"]},{id:"smeltingEfficiency",category:"Fundicion",title:"Eficiencia de Costes I",description:"Reduce el coste de chatarra para crear Metal Refinado.",effect:x=>`-${x*5}% Coste Chatarra`,cost:400,maxLevel:4,requirements:["foundryProtocols"]},{id:"foundryEnergy",category:"Fundicion",title:"Eficiencia de Costes II",description:"Reduce el coste de energía para crear Metal Refinado.",effect:x=>`-${x*5}% Coste Energía`,cost:400,maxLevel:4,requirements:["smeltingEfficiency"]},{id:"alloyCreation",category:"Fundicion",title:"Creación de Aleaciones (Próximamente)",description:"Permite crear nuevos materiales.",effect:()=>"Próximamente",cost:1800,maxLevel:1,requirements:["foundryEnergy"]},{id:"selfReplication",category:"Fundicion",title:"Auto-Replicación (Próximamente)",description:"La fundición genera sus propios recursos.",effect:()=>"Próximamente",cost:7500,maxLevel:1,requirements:["alloyCreation"]},{id:"scrapPurification",category:"Fundicion",title:"Purificación de Chatarra",description:"Desbloquea una receta ineficiente para convertir chatarra en Metal Refinado.",effect:()=>"Desbloquea Receta",cost:1e3,maxLevel:1,requirements:["selfReplication"]}],f=["Drones","Energia","Investigacion","Almacenamiento","Fundicion"],y=x=>x.requirements.length===0?!0:x.requirements.every(S=>{const b=h.find(_=>_.id===S);return b?c[S]>=b.maxLevel:!1});return s?i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsx("h2",{children:"🔬 CENTRO TÉCNICO"}),i.jsx("button",{onClick:n,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2737",borderRadius:"4px",marginBottom:"2rem",textAlign:"center",position:"relative"},children:[i.jsxs("h3",{style:{color:"#06B6D4",marginTop:0,display:"inline-flex",alignItems:"center",gap:"1rem"},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[i.jsxs("span",{children:["🧪 Puntos de Investigación: ",E(l)]}),i.jsx("span",{style:{cursor:"pointer",fontSize:"0.9rem",border:"1px solid #9CA3AF",borderRadius:"50%",width:"20px",height:"20px",display:"inline-flex",justifyContent:"center",alignItems:"center"},children:"ⓘ"})]}),u&&i.jsx(ff,{base:g,fromDrones:v,fromEnergy:C,total:w,quantumComputingLevel:c.quantumComputing||0})]}),i.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"},children:f.map(x=>i.jsxs("div",{style:{flex:1,backgroundColor:"#1F2737",borderRadius:"8px",padding:"1rem"},children:[i.jsx("h3",{style:{textAlign:"center",color:"#F59E0B",marginTop:0},children:x.toUpperCase()}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:h.filter(S=>S.category===x).map(S=>i.jsx(hf,{tech:S,researchPoints:l,upgrades:c,onResearchUpgrade:r,isAvailable:y(S)},S.id))})]},x))})]}):i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsx("h2",{children:"🔬 CENTRO TÉCNICO"}),i.jsx("button",{onClick:n,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),i.jsxs("div",{style:{padding:"2rem",backgroundColor:"#1F2737",borderRadius:"4px",textAlign:"center",border:"2px solid #F59E0B"},children:[i.jsx("h3",{style:{color:"#F59E0B"},children:"🔒 CENTRO TÉCNICO BLOQUEADO"}),i.jsx("p",{children:"Para desbloquear el Centro Técnico, necesitas:"}),i.jsxs("ul",{style:{textAlign:"left",display:"inline-block",margin:"1rem 0"},children:[i.jsx("li",{children:"✅ 3 Drones Medios"}),i.jsx("li",{children:"✅ 1 Generador Solar Avanzado"}),i.jsx("li",{children:"✅ 1000 Chatarra"})]})]})]})},ff=({base:e,fromDrones:r,fromEnergy:n,total:t,quantumComputingLevel:o})=>i.jsxs("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#111827",border:"1px solid #374151",borderRadius:"8px",padding:"1rem",width:"300px",textAlign:"left",fontSize:"0.9rem",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",zIndex:10},children:[i.jsx("h4",{style:{margin:0,color:"#06B6D4"},children:"Generación de Investigación"}),i.jsx("hr",{style:{borderColor:"#374151",margin:"0.5rem 0"}}),i.jsxs("p",{style:{margin:"0.5rem 0"},children:["Tasa Base: ",i.jsxs("strong",{children:["+",e.toFixed(2)," /s"]})]}),i.jsxs("p",{style:{margin:"0.5rem 0"},children:["Análisis de Drones: ",i.jsxs("strong",{children:["+",r.toFixed(2)," /s"]})]}),i.jsxs("p",{style:{margin:"0.5rem 0"},children:["Superávit Energético: ",i.jsxs("strong",{children:["+",n.toFixed(2)," /s"]})]}),o>0&&i.jsxs("p",{style:{margin:"0.5rem 0",color:"#22C55E"},children:["Multiplicador Cuántico: ",i.jsxs("strong",{children:["x",(1/(1-o*.05)).toFixed(2)]})]}),i.jsx("hr",{style:{borderColor:"#374151",margin:"0.5rem 0"}}),i.jsxs("p",{style:{margin:"0.5rem 0",fontWeight:"bold"},children:["Total: ",i.jsxs("strong",{children:["+",t.toFixed(2)," /s"]})]})]}),hf=({tech:e,researchPoints:r,upgrades:n,onResearchUpgrade:t,isAvailable:o})=>{const a=n[e.id]||0,s=o&&r>=e.cost&&a<e.maxLevel,l=typeof e.effect=="function"?e.effect(a):e.effect;return i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"8px",border:s?"2px solid #22C55E":a>0?"2px solid #F59E0B":"2px solid #374151",opacity:o?1:.5},children:[i.jsx("h4",{style:{margin:"0 0 0.5rem 0"},children:e.title}),i.jsx("p",{style:{fontSize:"0.8rem",color:"#9CA3AF",margin:"0 0 0.5rem 0"},children:e.description}),i.jsx("p",{style:{fontSize:"0.9rem",color:"#22C55E",margin:"0 0 1rem 0",fontWeight:"bold"},children:l}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("span",{children:["Nivel: ",a,"/",e.maxLevel]}),i.jsxs("button",{onClick:()=>t(e.id,e.cost),disabled:!s,style:{padding:"0.5rem 1rem",backgroundColor:s?"#22C55E":"#374151",color:"white",border:"none",borderRadius:"4px",cursor:s?"pointer":"not-allowed"},children:[a>0?"Mejorar":"Investigar"," (",e.cost," RP)"]})]})]})},gf=dr.memo(mf),yf=dr.memo(({scrap:e,energy:r,metalRefinado:n,aceroEstructural:t,fragmentosPlaca:o,circuitosDañados:a,placasCasco:s,cableadoSuperconductor:l,barraCombustible:c,metalRefinadoQueue:u,aceroEstructuralQueue:d,placasCascoQueue:g,cableadoSuperconductorQueue:p,barraCombustibleQueue:v,onCraftRefinedMetal:m,onCraftStructuralSteel:C,onCraftHullPlate:w,onCraftSuperconductorWiring:h,onCraftFuelRod:f,onCraftPurifiedMetal:y,upgrades:x,buyAmount:S,onSetBuyAmount:b,onClose:j,onCancel:_})=>{const P={scrap:1e3,energy:100},T={scrap:1e3,metal:10,energy:250},I={fragmentos:10,acero:5,energy:500},$={circuitos:10,metal:25,energy:1e3},L={metal:10,acero:5,energy:1500},Z={scrap:5e3,energy:500},Q=Math.min(Math.floor(e/P.scrap),Math.floor(r/P.energy)),ce=Math.min(Math.floor(e/T.scrap),Math.floor(n/T.metal),Math.floor(r/T.energy)),xe=Math.min(Math.floor(o/I.fragmentos),Math.floor(t/I.acero),Math.floor(r/I.energy)),A=Math.min(Math.floor(a/$.circuitos),Math.floor(n/$.metal),Math.floor(r/$.energy)),D=Math.min(Math.floor(n/L.metal),Math.floor(t/L.acero),Math.floor(r/L.energy)),N=Math.min(Math.floor(e/Z.scrap),Math.floor(r/Z.energy));return i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsx("h2",{children:"🔥 FUNDICIÓN"}),i.jsx("button",{onClick:j,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),i.jsx(si,{buyAmount:S,onSetBuyAmount:b}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:Q>0?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#F59E0B",marginTop:0},children:"🔩 Metal Refinado"}),i.jsxs("p",{children:["💰 Coste: ",E(P.scrap)," Chatarra + ",E(P.energy)," Energía"]}),i.jsxs("p",{children:["🏗️ En Posesión: ",E(n)]}),i.jsxs("p",{children:["📦 En cola: ",u.queue]}),i.jsx(fe,{queue:u,itemName:"metalRefinado",onCancel:_}),i.jsxs("button",{onClick:m,disabled:Q<=0,style:{padding:"0.75rem 1.5rem",backgroundColor:Q>0?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",cursor:Q>0?"pointer":"not-allowed",fontWeight:"bold",marginTop:"0.5rem"},children:["Encargar Metal ",S==="max"&&`(${Q})`]})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:ce>0?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#06B6D4",marginTop:0},children:"🏗️ Acero Estructural"}),i.jsxs("p",{children:["💰 Coste: ",E(T.scrap)," Chatarra + ",T.metal," Metal + ",T.energy," Energía"]}),i.jsxs("p",{children:["🏗️ En Posesión: ",E(t)]}),i.jsxs("p",{children:["📦 En cola: ",d.queue]}),i.jsx(fe,{queue:d,itemName:"aceroEstructural",onCancel:_}),i.jsxs("button",{onClick:C,disabled:ce<=0,style:{padding:"0.75rem 1.5rem",backgroundColor:ce>0?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",cursor:ce>0?"pointer":"not-allowed",fontWeight:"bold",marginTop:"0.5rem"},children:["Encargar Acero ",S==="max"&&`(${ce})`]})]}),i.jsx("h3",{style:{borderBottom:"1px solid #4B5563",paddingBottom:"0.5rem",marginTop:"2rem"},children:"Componentes de Nave"}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:xe>0?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#F59E0B",marginTop:0},children:"🛡️ Placa de Casco Reforzado"}),i.jsxs("p",{children:["💰 Coste: ",I.fragmentos," Fragmentos de Placa + ",I.acero," Acero + ",I.energy," Energía"]}),i.jsxs("p",{children:["ℹ️ Fragmentos: ",E(o)]}),i.jsxs("p",{children:["🏗️ En Posesión: ",E(s)]}),i.jsxs("p",{children:["📦 En cola: ",g.queue]}),i.jsx(fe,{queue:g,itemName:"placasCasco",onCancel:_}),i.jsxs("button",{onClick:w,disabled:xe<=0,style:{padding:"0.75rem 1.5rem",backgroundColor:xe>0?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",cursor:xe>0?"pointer":"not-allowed",fontWeight:"bold",marginTop:"0.5rem"},children:["Encargar Placa ",S==="max"&&`(${xe})`]})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:A>0?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#06B6D4",marginTop:0},children:"⚡ Cableado de Superconductores"}),i.jsxs("p",{children:["💰 Coste: ",$.circuitos," Circuitos Dañados + ",$.metal," Metal + ",$.energy," Energía"]}),i.jsxs("p",{children:["ℹ️ Circuitos: ",E(a)]}),i.jsxs("p",{children:["🏗️ En Posesión: ",E(l)]}),i.jsxs("p",{children:["📦 En cola: ",p.queue]}),i.jsx(fe,{queue:p,itemName:"cableadoSuperconductor",onCancel:_}),i.jsxs("button",{onClick:h,disabled:A<=0,style:{padding:"0.75rem 1.5rem",backgroundColor:A>0?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",cursor:A>0?"pointer":"not-allowed",fontWeight:"bold",marginTop:"0.5rem"},children:["Encargar Cableado ",S==="max"&&`(${A})`]})]}),i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:D>0?"2px solid #22C55E":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#FCD34D",marginTop:0},children:"⛽ Barra de Combustible"}),i.jsxs("p",{children:["💰 Coste: ",L.metal," Metal + ",L.acero," Acero + ",L.energy," Energía"]}),i.jsxs("p",{children:["🏗️ En Posesión: ",E(c)]}),i.jsxs("p",{children:["📦 En cola: ",v.queue]}),i.jsx(fe,{queue:v,itemName:"barraCombustible",onCancel:_}),i.jsxs("button",{onClick:f,disabled:D<=0,style:{padding:"0.75rem 1.5rem",backgroundColor:D>0?"#22C55E":"#9CA3AF",color:"#0F172A",border:"none",borderRadius:"4px",cursor:D>0?"pointer":"not-allowed",fontWeight:"bold",marginTop:"0.5rem"},children:["Encargar Barra ",S==="max"&&`(${D})`]})]}),x.scrapPurification>0&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"1rem",border:N>0?"2px solid #A855F7":"2px solid #374151"},children:[i.jsx("h4",{style:{color:"#A855F7",marginTop:0},children:"⚛️ Purificación de Chatarra"}),i.jsx("p",{children:"Convierte una gran cantidad de recursos básicos en Metal Refinado. Es ineficiente, pero útil en emergencias."}),i.jsxs("p",{children:["💰 Coste: ",E(Z.scrap)," Chatarra + ",E(Z.energy)," Energía"]}),i.jsxs("button",{onClick:y,disabled:N<=0,style:{padding:"0.75rem 1.5rem",backgroundColor:N>0?"#A855F7":"#9CA3AF",color:"white",border:"none",borderRadius:"4px",cursor:N>0?"pointer":"not-allowed",fontWeight:"bold",marginTop:"0.5rem"},children:["Purificar Chatarra ",S==="max"&&`(${N})`]})]})]})}),xf=({shipyardProgress:e,shipyardCosts:r,placasCasco:n,cableadoSuperconductor:t,nucleoSingularidad:o,researchPoints:a,dispatch:s,onClose:l})=>{const c={placasCasco:n,cableadoSuperconductor:t,nucleoSingularidad:o,researchPoints:a},u={placasCasco:"Placas de Casco",cableadoSuperconductor:"Cableado de Superconductores",nucleoSingularidad:"Núcleo de Singularidad",researchPoints:"Puntos de Investigación"},d=(v,m)=>{c[m]>=1&&s({type:"DONATE_TO_SHIPYARD",payload:{component:v,resource:m,amount:1}})},g=(v,m)=>{const C=c[m];C>0&&s({type:"DONATE_TO_SHIPYARD",payload:{component:v,resource:m,amount:C}})},p=(v,m)=>{const C=e[m],w=r[m],h=Object.keys(w).every(f=>C[f]>=w[f]);return i.jsxs("div",{style:{backgroundColor:"#111827",padding:"1rem",borderRadius:"8px",border:h?"2px solid #22C55E":"2px solid #374151",marginBottom:"1rem"},children:[i.jsxs("h3",{style:{color:"#F59E0B",marginTop:0},children:[v," ",h&&"✅"]}),Object.keys(w).map(f=>{const y=f,x=u[y]||y,S=C[y],b=w[y];return i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsxs("p",{style:{textTransform:"capitalize"},children:[x,": ",E(S)," / ",E(b)]}),i.jsx("div",{style:{width:"100%",backgroundColor:"#374151",borderRadius:"4px"},children:i.jsx("div",{style:{width:`${Math.min(S/b*100,100)}%`,backgroundColor:"#06B6D4",height:"10px",borderRadius:"4px"}})}),!h&&i.jsxs("div",{style:{marginTop:"0.5rem"},children:[i.jsx("button",{onClick:()=>d(m,y),disabled:c[y]<1,style:{marginRight:"0.5rem",padding:"0.5rem 1rem",backgroundColor:c[y]>=1?"#22C55E":"#9CA3AF",color:"white",border:"none",borderRadius:"4px",cursor:c[y]>=1?"pointer":"not-allowed"},children:"Donar 1"}),i.jsxs("button",{onClick:()=>g(m,y),disabled:c[y]<=0,style:{padding:"0.5rem 1rem",backgroundColor:c[y]>0?"#F59E0B":"#9CA3AF",color:"white",border:"none",borderRadius:"4px",cursor:c[y]>0?"pointer":"not-allowed"},children:["Donar MAX (",E(c[y]),")"]})]})]},y)})]})};return i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsx("h2",{children:'🛠️ ASTILLERO - PROYECTO "VINDICATOR"'}),i.jsx("button",{onClick:l,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),i.jsx("div",{style:{padding:"1rem",backgroundColor:"#1F2937",borderRadius:"4px",marginBottom:"2rem",border:"2px solid #06B6D4"},children:i.jsx("p",{style:{textAlign:"center",color:"#9CA3AF"},children:`Aurora: "Reconstruir el acorazado 'Vindicator' es nuestra única opción. Los componentes clave solo se pueden recuperar de los restos de antiguas batallas. Envía expediciones para encontrarlos."`})}),p("Estructura del Casco","hull"),p("Núcleo de Energía","powerCore"),p("Sistemas de Puntería","targetingSystem"),p("Motor de Curvatura","warpDrive")]})},vf=dr.memo(xf),Cf=({completionTimestamp:e})=>{const[r,n]=k.useState(e-Date.now());k.useEffect(()=>{const a=setInterval(()=>{n(s=>Math.max(0,s-1e3))},1e3);return()=>clearInterval(a)},[]);const t=Math.floor(r/6e4),o=Math.floor(r%6e4/1e3);return i.jsxs("span",{children:[t,"m ",o,"s"]})},Il={scrap:{name:"Chatarra",icon:"💰"},metalRefinado:{name:"Metal Refinado",icon:"🔩"},aceroEstructural:{name:"Acero Estructural",icon:"🏗️"},fragmentosPlaca:{name:"Fragmentos de Placa",icon:"🧱"},circuitosDañados:{name:"Circuitos Dañados",icon:"🔌"},aleacionReforzada:{name:"Aleación Reforzada",icon:"🛡️"},neuroChipCorrupto:{name:"Neuro-Chip Corrupto",icon:"🧠"}},Ef=dr.memo(({resources:e,drones:r,activeExpeditions:n,onStartExpedition:t,onClaimReward:o,onClose:a})=>{const s={expeditionDrone:n.filter(c=>{var u;return((u=sn.find(d=>d.id===c.id))==null?void 0:u.droneType)==="expeditionDrone"}).reduce((c,u)=>c+u.dronesSent,0),expeditionV2Drone:n.filter(c=>{var u;return((u=sn.find(d=>d.id===c.id))==null?void 0:u.droneType)==="expeditionV2Drone"}).reduce((c,u)=>c+u.dronesSent,0)},l={expeditionDrone:r.expeditionDrone-s.expeditionDrone,expeditionV2Drone:r.expeditionV2Drone-s.expeditionV2Drone};return i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",minHeight:"100vh",padding:"1rem",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[i.jsx("h2",{children:"🗺️ MÓDULO DE EXPEDICIONES"}),i.jsx("button",{onClick:a,style:{padding:"0.5rem 1rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cerrar"})]}),i.jsxs("div",{style:{backgroundColor:"#1F2937",padding:"1rem",borderRadius:"8px",marginBottom:"2rem"},children:[i.jsx("h3",{children:"Estado de la Flota de Expedición"}),i.jsxs("p",{children:["Drones de Expedición (DE-1) Disponibles: ",i.jsx("strong",{style:{color:"#22C55E"},children:l.expeditionDrone})," / ",r.expeditionDrone]}),i.jsxs("p",{children:["Drones de Expedición (DE-2) Disponibles: ",i.jsx("strong",{style:{color:"#10B981"},children:l.expeditionV2Drone})," / ",r.expeditionV2Drone]})]}),n.length>0&&i.jsxs("div",{style:{marginBottom:"2rem"},children:[i.jsx("h3",{style:{borderBottom:"1px solid #374151",paddingBottom:"0.5rem"},children:"Expediciones en Curso"}),n.map(c=>{const u=sn.find(g=>g.id===c.id);if(!u)return null;const d=c.completionTimestamp<=Date.now();return i.jsxs("div",{style:{backgroundColor:"#1F2937",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[i.jsx("h4",{children:u.title}),i.jsxs("p",{children:[c.dronesSent," ",u.droneType==="expeditionV2Drone"?"Drones (DE-2)":"Drones (DE-1)"," enviados."]}),d?i.jsxs("div",{children:[i.jsx("p",{style:{color:"#22C55E"},children:"¡Expedición Completada!"}),i.jsx("button",{onClick:()=>o(c),style:{padding:"0.75rem 1.5rem",backgroundColor:"#F59E0B",color:"white",border:"none",borderRadius:"4px"},children:"Reclamar Recompensa"})]}):i.jsxs("p",{children:["Tiempo Restante: ",i.jsx(Cf,{completionTimestamp:c.completionTimestamp})]})]},c.id)})]}),i.jsxs("div",{children:[i.jsx("h3",{style:{borderBottom:"1px solid #374151",paddingBottom:"0.5rem"},children:"Destinos Disponibles"}),sn.map(c=>{if(n.some(m=>m.id===c.id))return null;const d=c.droneType,g=c.costs.drones,p=l[d];let v=p>=g;for(const[m,C]of Object.entries(c.costs))if(m!=="drones"&&e[m]<C){v=!1;break}return i.jsxs("div",{style:{backgroundColor:"#1F2937",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",opacity:v?1:.6,border:`2px solid ${v?"#374151":"#EF4444"}`},children:[i.jsx("h4",{children:c.title}),i.jsx("p",{children:c.description}),i.jsxs("p",{children:[i.jsx("strong",{children:"Duración:"})," ",c.duration/60," minutos"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Requisitos:"}),i.jsxs("ul",{style:{listStyle:"none",paddingLeft:"1rem",margin:"0.5rem 0"},children:[i.jsxs("li",{style:{color:p>=g?"#E5E7EB":"#EF4444"},children:[d==="expeditionV2Drone"?"Drones (DE-2):":"Drones (DE-1):"," ",g]}),Object.entries(c.costs).map(([m,C])=>{if(m==="drones")return null;const w=e[m]>=C,h=Il[m]||{name:m,icon:"❓"};return i.jsxs("li",{style:{color:w?"#E5E7EB":"#EF4444"},children:[h.icon," ",h.name,": ",E(C)]},m)})]})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Posibles Recompensas:"}),i.jsx("ul",{style:{listStyle:"none",paddingLeft:"1rem",margin:"0.5rem 0"},children:Object.entries(c.rewards).map(([m,C])=>{const w=Il[m];if(!w)return null;const[h,f]=C;return i.jsxs("li",{children:[w.icon," ",w.name,": ",E(h)," - ",E(f)]},m)})})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Riesgo:"})," ",c.risk.chance*100,"% de posibilidad de perder el dron."]}),i.jsxs("button",{onClick:()=>t(c.id),disabled:!v,style:{width:"100%",padding:"0.75rem 1.5rem",marginTop:"1rem",backgroundColor:v?"#22C55E":"#9CA3AF",color:"white",border:"none",borderRadius:"4px",cursor:v?"pointer":"not-allowed"},children:["Enviar ",g," ",d==="expeditionV2Drone"?"Dron (DE-2)":"Dron (DE-1)"]})]},c.id)})]})]})}),ed=()=>{const{gameState:e,dispatch:r}=Kr(),[n,t]=k.useState(!1),{volume:o}=e.settings,a=d=>{r({type:"SET_VOLUME",payload:d})},s=()=>{const d=new CustomEvent("debugUnlockTechCenter");window.dispatchEvent(d),t(!1)},l=()=>{if(window.confirm("¿Estás seguro de que quieres reiniciar todo el progreso? Esta acción no se puede deshacer.")){const d=new CustomEvent("resetGame");window.dispatchEvent(d),t(!1)}},c=()=>{const d=new CustomEvent("debugCompleteVindicator");window.dispatchEvent(d),t(!1)},u=()=>{const d=new CustomEvent("debugFinishExpeditions");window.dispatchEvent(d),t(!1)};return i.jsxs("div",{style:{position:"fixed",bottom:"1rem",right:"1rem",zIndex:1e3,fontFamily:"Inter, sans-serif",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[n&&i.jsxs("div",{style:{padding:"1rem",backgroundColor:"#111827",borderRadius:"8px",border:"2px solid #374151",marginBottom:"0.5rem",width:"220px"},children:[i.jsx("strong",{style:{color:"#E5E7EB",fontSize:"0.9rem",display:"block",marginBottom:"1rem"},children:"AJUSTES"}),i.jsxs("div",{style:{marginBottom:"1rem"},children:[i.jsxs("label",{htmlFor:"volume-slider",style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem"},children:["Volumen: ",o,"%"]}),i.jsx("input",{id:"volume-slider",type:"range",min:"0",max:"100",value:o,onChange:d=>a(Number(d.target.value)),style:{width:"100%"}})]}),i.jsx("button",{onClick:()=>{alert("Créditos: Próximamente..."),t(!1)},style:{padding:"0.5rem",backgroundColor:"#374151",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",width:"100%",marginBottom:"1rem"},children:"Créditos"}),i.jsx("hr",{style:{border:"none",borderBottom:"1px solid #374151",marginBottom:"1rem"}}),i.jsx("strong",{style:{color:"#EF4444",fontSize:"0.9rem"},children:"AJUSTES DE DESARROLLO"}),i.jsx("button",{onClick:s,style:{padding:"0.5rem",backgroundColor:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",marginTop:"1rem",width:"100%"},children:"Desbloquear Módulos"}),i.jsx("button",{onClick:c,style:{padding:"0.5rem",backgroundColor:"#F59E0B",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",marginTop:"0.5rem",width:"100%"},children:"Completar Vindicator"}),i.jsx("button",{onClick:u,style:{padding:"0.5rem",backgroundColor:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",marginTop:"0.5rem",width:"100%"},children:"Finalizar Expediciones"}),i.jsx("button",{onClick:l,style:{padding:"0.5rem",backgroundColor:"#991B1B",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",marginTop:"0.5rem",width:"100%"},children:"Reiniciar Juego"}),i.jsx("button",{onClick:()=>{window.confirm("¿Estás seguro de que quieres salir del juego?")&&window.close()},style:{padding:"0.5rem",backgroundColor:"#1E40AF",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",marginTop:"0.5rem",width:"100%"},children:"Salir"})]}),i.jsx("button",{onClick:()=>t(!n),title:"Ajustes",style:{width:"50px",height:"50px",borderRadius:"50%",border:"2px solid #374151",backgroundColor:"#1F2937",color:"white",fontSize:"1.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"⚙️"})]})},Sf=({notification:e,onDismiss:r})=>{const[n,t]=k.useState(!1);k.useEffect(()=>{if(e){t(!0);const c=setTimeout(()=>{o()},6e3);return()=>clearTimeout(c)}else t(!1)},[e]);const o=()=>{t(!1),setTimeout(()=>{r()},300)};if(!e)return null;const a={position:"fixed",top:"20%",left:"50%",transform:`translate(-50%, ${n?"0":"-100px"})`,backgroundColor:"#1F2937",color:"#E5E7EB",padding:"1.5rem",borderRadius:"8px",border:"2px solid #F59E0B",zIndex:1e3,textAlign:"center",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.5)",transition:"transform 0.3s ease-in-out, opacity 0.3s ease-in-out",opacity:n?1:0,maxWidth:"500px"},s={color:"#F59E0B",marginTop:0,marginBottom:"0.5rem",fontSize:"1.5rem"},l={margin:0,color:"#D1D5DB"};return i.jsxs("div",{style:a,onClick:o,children:[i.jsx("h2",{style:s,children:e.title}),i.jsx("p",{style:l,children:e.message})]})};const jf=()=>{const[e,r]=k.useState([]),n=k.useCallback((t,o)=>{const a={id:Date.now(),text:o,x:t.clientX,y:t.clientY};r(s=>[...s,a])},[]);return k.useEffect(()=>{const t=o=>{n(o.detail.originalEvent,o.detail.text)};return document.addEventListener("showFloatingText",t),()=>{document.removeEventListener("showFloatingText",t)}},[n]),k.useEffect(()=>{const t=setInterval(()=>{r(o=>o.filter(a=>Date.now()-a.id<3e3))},500);return()=>clearInterval(t)},[]),Am.createPortal(i.jsx(i.Fragment,{children:e.map(t=>i.jsx("span",{className:"floating-text",style:{left:t.x,top:t.y},children:t.text},t.id))}),document.body)},wf=()=>{const e=ai(),r=Ju(),n=k.useRef(null);k.useEffect(()=>{n.current&&(n.current.volume=e.settings.volume/100)},[e.settings.volume]),k.useEffect(()=>{const O=n.current;O&&O.play().catch(()=>console.log("La reproducción automática fue bloqueada. Se requiere interacción del usuario."))},[]);const{currentView:t,workshopBuyAmount:o,energyBuyAmount:a,storageBuyAmount:s,foundryBuyAmount:l,modules:c,resources:u,drones:d,energy:g,workshop:p,techCenter:v,storage:m,activeExpeditions:C,shipyard:w,foundry:h,rates:f,notificationQueue:y,phase2Unlocked:x}=e,S=k.useCallback(()=>{r({type:"DISMISS_NOTIFICATION"})},[r]),b=k.useCallback(O=>{r(O==="goToPhase2"?{type:"GO_TO_PHASE_2"}:{type:"SET_CURRENT_VIEW",payload:O})},[r]),j=k.useCallback(()=>r({type:"CLOSE_CURRENT_VIEW"}),[r]),_=k.useCallback(()=>r({type:"BUILD_BASIC_DRONE"}),[r]),P=k.useCallback(()=>r({type:"BUILD_MEDIUM_DRONE"}),[r]),T=k.useCallback(()=>r({type:"BUILD_ADVANCED_DRONE"}),[r]),I=k.useCallback(()=>r({type:"BUILD_REINFORCED_BASIC"}),[r]),$=k.useCallback(()=>r({type:"BUILD_REINFORCED_MEDIUM"}),[r]),L=k.useCallback(()=>r({type:"BUILD_REINFORCED_ADVANCED"}),[r]),Z=k.useCallback(()=>r({type:"BUILD_GOLEM_DRONE"}),[r]),Q=k.useCallback(()=>r({type:"BUILD_EXPEDITION_DRONE"}),[r]),ce=k.useCallback(()=>r({type:"BUILD_EXPEDITION_V2_DRONE"}),[r]),xe=k.useCallback(()=>r({type:"BUILD_WYRM"}),[r]),A=k.useCallback(O=>r({type:"SET_WORKSHOP_BUY_AMOUNT",payload:O}),[r]),D=k.useCallback((O,Ie)=>{r({type:"CANCEL_QUEUE_ITEM",payload:{category:"workshop",itemName:O,amount:Ie}})},[r]),N=k.useCallback((O,Ie)=>{r({type:"DISMANTLE_DRONE",payload:{droneType:O,amount:Ie}})},[r]),H=k.useCallback(()=>r({type:"BUILD_SOLAR_PANEL"}),[r]),F=k.useCallback(()=>r({type:"BUILD_MEDIUM_SOLAR"}),[r]),Ne=k.useCallback(()=>r({type:"BUILD_ADVANCED_SOLAR"}),[r]),Se=k.useCallback(()=>r({type:"BUILD_ENERGY_CORE"}),[r]),Re=k.useCallback(()=>r({type:"BUILD_FUSION_REACTOR"}),[r]),Y=k.useCallback(O=>r({type:"SET_ENERGY_BUY_AMOUNT",payload:O}),[r]),ne=k.useCallback((O,Ie)=>{r({type:"CANCEL_QUEUE_ITEM",payload:{category:"energy",itemName:O,amount:Ie}})},[r]),K=k.useCallback(()=>r({type:"BUILD_BASIC_STORAGE"}),[r]),ae=k.useCallback(()=>r({type:"BUILD_MEDIUM_STORAGE"}),[r]),B=k.useCallback(()=>r({type:"BUILD_ADVANCED_STORAGE"}),[r]),ue=k.useCallback(()=>r({type:"BUILD_QUANTUM_HOARD_UNIT"}),[r]),V=k.useCallback(()=>r({type:"BUILD_LITHIUM_ION_BATTERY"}),[r]),_e=k.useCallback(()=>r({type:"BUILD_PLASMA_ACCUMULATOR"}),[r]),nr=k.useCallback(()=>r({type:"BUILD_HARMONIC_CONTAINMENT_FIELD"}),[r]),Xr=k.useCallback(O=>r({type:"SET_STORAGE_BUY_AMOUNT",payload:O}),[r]),Kn=k.useCallback((O,Ie)=>{r({type:"CANCEL_QUEUE_ITEM",payload:{category:"storage",itemName:O,amount:Ie}})},[r]),Xn=k.useCallback(O=>r({type:"CLAIM_REWARD",payload:O}),[r]),br=k.useCallback(()=>r({type:"CLOSE_CURRENT_VIEW"}),[r]),Ar=k.useCallback(O=>{r({type:"START_EXPEDITION",payload:{expeditionId:O}})},[r]),xn=k.useCallback(O=>{r({type:"CLAIM_EXPEDITION_REWARDS",payload:O})},[r]),Zr=k.useCallback(()=>r({type:"CRAFT_REFINED_METAL"}),[r]),Zn=k.useCallback(()=>r({type:"CRAFT_STRUCTURAL_STEEL"}),[r]),vn=k.useCallback(()=>r({type:"CRAFT_HULL_PLATE"}),[r]),pe=k.useCallback(()=>r({type:"CRAFT_SUPERCONDUCTOR_WIRING"}),[r]),be=k.useCallback(()=>r({type:"CRAFT_FUEL_ROD"}),[r]),tr=k.useCallback(O=>r({type:"SET_FOUNDRY_BUY_AMOUNT",payload:O}),[r]),ve=k.useCallback((O,Ie)=>{r({type:"CANCEL_QUEUE_ITEM",payload:{category:"foundry",itemName:O,amount:Ie}})},[r]),Jr=k.useCallback(()=>r({type:"CRAFT_PURIFIED_METAL"}),[r]),li=()=>{switch(t){case"workshop":return i.jsx(cf,{scrap:u.scrap,metalRefinado:u.metalRefinado,aceroEstructural:u.aceroEstructural,basicDrones:d.basic,mediumDrones:d.medium,advancedDrones:d.advanced,reinforcedBasicDrones:d.reinforcedBasic,reinforcedMediumDrones:d.reinforcedMedium,reinforcedAdvancedDrones:d.reinforcedAdvanced,golemDrones:d.golem,expeditionDrones:d.expeditionDrone,expeditionV2Drones:d.expeditionV2Drone,wyrmDrones:d.wyrm,basicDroneQueue:p.queues.basic,mediumDroneQueue:p.queues.medium,advancedDroneQueue:p.queues.advanced,reinforcedBasicDroneQueue:p.queues.reinforcedBasic,reinforcedMediumDroneQueue:p.queues.reinforcedMedium,reinforcedAdvancedDroneQueue:p.queues.reinforcedAdvanced,golemDroneQueue:p.queues.golem,expeditionDroneQueue:p.queues.expeditionDrone,expeditionV2DroneQueue:p.queues.expeditionV2Drone,wyrmDroneQueue:p.queues.wyrm,upgrades:v.upgrades,onBuildBasicDrone:_,onBuildMediumDrone:P,onBuildAdvancedDrone:T,onBuildReinforcedBasic:I,onBuildReinforcedMedium:$,onBuildReinforcedAdvanced:L,onBuildGolemDrone:Z,onBuildExpeditionDrone:Q,onBuildExpeditionV2Drone:ce,onBuildWyrm:xe,onDismantle:N,buyAmount:o,onSetBuyAmount:A,onClose:j,onCancel:D});case"energy":return i.jsx(uf,{scrap:u.scrap,currentEnergy:u.energy,maxEnergy:u.maxEnergy,energyConsumption:u.energyConsumption,solarPanels:g.solarPanels,mediumSolarPanels:g.mediumSolarPanels,advancedSolar:g.advancedSolar,energyCores:g.energyCores,solarPanelsQueue:g.queues.solarPanels,mediumSolarPanelsQueue:g.queues.mediumSolarPanels,advancedSolarQueue:g.queues.advancedSolar,energyCoresQueue:g.queues.energyCores,fusionReactorQueue:g.queues.fusionReactor,onBuildSolarPanel:H,onBuildMediumSolar:F,onBuildAdvancedSolar:Ne,onBuildEnergyCore:Se,onBuildFusionReactor:Re,buyAmount:a,onSetBuyAmount:Y,onClose:j,onCancel:ne,upgrades:v.upgrades,energyCoresCount:g.energyCores,metalRefinado:u.metalRefinado,fusionReactors:g.fusionReactor});case"storage":return i.jsx(df,{scrap:u.scrap,metalRefinado:u.metalRefinado,basicStorage:m.basicStorage,mediumStorage:m.mediumStorage,advancedStorage:m.advancedStorage,quantumHoardUnit:m.quantumHoardUnit,lithiumIonBattery:m.lithiumIonBattery,plasmaAccumulator:m.plasmaAccumulator,harmonicContainmentField:m.harmonicContainmentField,basicStorageQueue:m.queues.basicStorage,mediumStorageQueue:m.queues.mediumStorage,advancedStorageQueue:m.queues.advancedStorage,quantumHoardUnitQueue:m.queues.quantumHoardUnit,lithiumIonBatteryQueue:m.queues.lithiumIonBattery,plasmaAccumulatorQueue:m.queues.plasmaAccumulator,harmonicContainmentFieldQueue:m.queues.harmonicContainmentField,energyCores:g.energyCores,onBuildBasicStorage:K,onBuildMediumStorage:ae,onBuildAdvancedStorage:B,onBuildQuantumHoardUnit:ue,onBuildLithiumIonBattery:V,onBuildPlasmaAccumulator:_e,onBuildHarmonicContainmentField:nr,buyAmount:s,onSetBuyAmount:Xr,onClose:j,onCancel:Kn});case"missions":return i.jsx(pf,{activeMissions:e.missions.activeMissions,completedMissions:e.missions.completedMissions,currentScrap:e.resources.scrap,maxScrap:e.resources.maxScrap,currentEnergy:e.resources.energy,maxEnergy:e.resources.maxEnergy,onClaimReward:Xn,onClose:br});case"techCenter":return i.jsx(gf,{gameState:e,onResearchUpgrade:(O,Ie)=>r({type:"RESEARCH_UPGRADE",payload:{upgradeName:O,cost:Ie}}),onClose:()=>r({type:"CLOSE_CURRENT_VIEW"})});case"foundry":return i.jsx(yf,{scrap:u.scrap,energy:u.energy,metalRefinado:u.metalRefinado,aceroEstructural:u.aceroEstructural,fragmentosPlaca:u.fragmentosPlaca,circuitosDañados:u.circuitosDañados,placasCasco:u.placasCasco,cableadoSuperconductor:u.cableadoSuperconductor,barraCombustible:u.barraCombustible,metalRefinadoQueue:h.queues.metalRefinado,aceroEstructuralQueue:h.queues.aceroEstructural,placasCascoQueue:h.queues.placasCasco,cableadoSuperconductorQueue:h.queues.cableadoSuperconductor,barraCombustibleQueue:h.queues.barraCombustible,onCraftRefinedMetal:Zr,onCraftStructuralSteel:Zn,onCraftHullPlate:vn,onCraftSuperconductorWiring:pe,onCraftFuelRod:be,onCraftPurifiedMetal:Jr,upgrades:v.upgrades,buyAmount:l,onSetBuyAmount:tr,onClose:j,onCancel:ve});case"expeditions":return i.jsx(Ef,{resources:u,drones:d,activeExpeditions:C,onStartExpedition:Ar,onClaimReward:xn,onClose:j});case"shipyard":return i.jsx(vf,{shipyardProgress:w.progress,shipyardCosts:w.costs,placasCasco:u.placasCasco,cableadoSuperconductor:u.cableadoSuperconductor,nucleoSingularidad:u.nucleoSingularidad,researchPoints:v.researchPoints,dispatch:r,onClose:()=>r({type:"CLOSE_CURRENT_VIEW"})});case"":default:return i.jsx("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-start",height:"100%",padding:"2rem"},children:i.jsx(Km,{onCollectScrap:()=>r({type:"COLLECT_SCRAP"}),scrapPerClick:f.scrapPerClick})})}};return i.jsxs("div",{style:{backgroundColor:"#0F172A",backgroundImage:`url(${Vm})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",color:"#E5E7EB",minHeight:"100vh",fontFamily:"Inter, sans-serif",display:"flex",flexDirection:"column"},children:[i.jsx(Qm,{}),u.energy<=0&&u.energyProduction<u.energyConsumption&&i.jsxs("div",{style:{padding:"0.5rem 1rem",backgroundColor:"#450A0A",color:"#FEE2E2",textAlign:"center",fontSize:"0.9rem",borderBottom:"2px solid #7F1D1D"},children:[i.jsx("strong",{children:"Advertencia:"})," Balance energético negativo. La producción de recursos está detenida."]}),i.jsxs("div",{style:{flex:1,display:"flex"},children:[i.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:li()}),i.jsx(sf,{energyUnlocked:c.energy,storageUnlocked:c.storage,techCenterUnlocked:c.techCenter,foundryUnlocked:c.foundry,expeditionsUnlocked:c.expeditions,shipyardUnlocked:c.shipyard,phase2Unlocked:x,currentView:t,onModuleSelect:b,scrapForUnlock:u.scrap,mediumDronesForUnlock:d.medium,advancedSolarForUnlock:g.advancedSolar,foundryProtocolsUpgrade:v.upgrades.foundryProtocols})]}),i.jsx(ed,{}),i.jsx(Sf,{notification:y&&y.length>0?y[0]:null,onDismiss:S}),i.jsx(jf,{}),i.jsx("audio",{ref:n,src:Wm,loop:!0})]})},kf=({message:e,onClose:r,autoHide:n=!0})=>{const[t,o]=k.useState(!1);k.useEffect(()=>{o(!0)},[]),k.useEffect(()=>{if(n){const s=setTimeout(()=>{a()},5e3);return()=>clearTimeout(s)}},[n,r]);const a=()=>{o(!1),setTimeout(r,300)};return i.jsx("div",{style:{maxWidth:"400px",backgroundColor:"#111827",color:"#E5E7EB",padding:"1rem",borderRadius:"8px",border:"2px solid #06B6D4",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",transform:t?"translateX(0)":"translateX(100%)",opacity:t?1:0,transition:"all 0.3s ease-in-out",fontFamily:"Inter, sans-serif"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[i.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#06B6D4",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:"1.2rem",fontWeight:"bold"},children:"A"}),i.jsxs("div",{style:{flex:1},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[i.jsx("strong",{style:{color:"#06B6D4"},children:"AURORA"}),i.jsx("button",{onClick:a,style:{background:"none",border:"none",color:"#9CA3AF",cursor:"pointer",fontSize:"1.2rem",padding:"0 0.25rem",marginLeft:"1rem"},children:"×"})]}),i.jsx("p",{style:{margin:0,lineHeight:"1.4",fontSize:"0.9rem"},children:e})]})]})})},Rf=e=>{const r=k.useRef(null),n=1e3;k.useEffect(()=>{let t;const o=a=>{r.current===null&&(r.current=a);const s=a-r.current;if(s>=n){const l=Math.floor(s/n);r.current=a-s%n;for(let c=0;c<l;c++)e({type:"GAME_TICK"}),e({type:"UPDATE_MISSION_PROGRESS"})}t=requestAnimationFrame(o)};return t=requestAnimationFrame(o),()=>cancelAnimationFrame(t)},[e])},_f=()=>{const{gameState:e,dispatch:r}=Kr();return Rf(r),k.useEffect(()=>{try{const n={...e,lastSaveTimestamp:Date.now(),aurora:{...e.aurora,shownMessages:Array.from(e.aurora.shownMessages)}};localStorage.setItem("mekadron-savegame",JSON.stringify(n))}catch(n){console.error("No se pudo guardar la partida:",n)}},[e]),k.useEffect(()=>{const n=()=>{r({type:"DEBUG_UNLOCK_TECH_CENTER"}),r({type:"ADD_AURORA_MESSAGE",payload:{message:"Modo desarrollo activado. Centro Técnico y Fundición desbloqueados.",messageKey:"debug_unlock"}})};window.addEventListener("debugUnlockTechCenter",n);const t=()=>{r({type:"DEBUG_COMPLETE_VINDICATOR"}),r({type:"ADD_AURORA_MESSAGE",payload:{message:"Modo desarrollo: 'Vindicator' completado.",messageKey:"debug_vindicator"}})},o=()=>{r({type:"DEBUG_FINISH_EXPEDITIONS"}),r({type:"ADD_AURORA_MESSAGE",payload:{message:"Modo desarrollo: Expediciones en curso finalizadas.",messageKey:"debug_expeditions"}})};return window.addEventListener("debugCompleteVindicator",t),window.addEventListener("debugFinishExpeditions",o),()=>{window.removeEventListener("debugUnlockTechCenter",n),window.removeEventListener("debugCompleteVindicator",t),window.removeEventListener("debugFinishExpeditions",o)}},[r]),k.useEffect(()=>{const n=setInterval(()=>{e.aurora.pendingMessages.length>0&&e.aurora.activeMessages.length<3&&r({type:"PROCESS_AURORA_QUEUE"})},1e3);return()=>clearInterval(n)},[e.aurora.pendingMessages.length,e.aurora.activeMessages.length,r]),i.jsxs(i.Fragment,{children:[i.jsx(wf,{}),i.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:1e3},children:e.aurora.activeMessages.map((n,t)=>i.jsx("div",{style:{marginBottom:t>0?"1rem":"0"},children:i.jsx(kf,{message:n.text,onClose:()=>r({type:"REMOVE_AURORA_MESSAGE",payload:{messageId:n.id}})})},n.id))})]})},bf=({onComplete:e})=>{const r="Vindicator activo. La Fase 2 comienza.",[n,t]=k.useState(""),[o,a]=k.useState(!1);return k.useEffect(()=>{let s=0;const l=setInterval(()=>{s++,t(r.substring(0,s)),s>=r.length&&(clearInterval(l),a(!0))},100);return()=>clearInterval(l)},[r]),i.jsxs("div",{style:{backgroundColor:"#000",color:"#00FF41",fontFamily:'"Courier New", Courier, monospace',display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"2rem",boxSizing:"border-box"},children:[i.jsx("div",{style:{width:"100%",maxWidth:"800px",border:"2px solid #00FF41",padding:"2rem",boxShadow:"0 0 15px #00FF41"},children:i.jsxs("p",{style:{fontSize:"1.5rem",lineHeight:"1.6",margin:0,textAlign:"center"},children:[n,i.jsx("span",{style:{animation:"blink 1s step-end infinite"},children:"_"})]})}),o&&i.jsx("button",{onClick:e,style:{marginTop:"2rem",padding:"1rem 2rem",fontFamily:'"Courier New", Courier, monospace',fontSize:"1.2rem",backgroundColor:"transparent",color:"#00FF41",border:"2px solid #00FF41",cursor:"pointer",animation:"pulse 2s infinite"},children:"[ CONTINUAR ]"}),i.jsx("style",{children:`
        @keyframes blink {
          from, to { opacity: 1; }
          50% { opacity: 0; }
        }
        @keyframes pulse {
          0% { box-shadow: 0 0 5px #00FF41; }
          50% { box-shadow: 0 0 20px #00FF41; }
          100% { box-shadow: 0 0 5px #00FF41; }
        }
      `})]})},Af="/Mekadron-idle/assets/phase2-background-72fdf11f.png",Df=({metalRefinado:e,aceroEstructural:r,placasCasco:n,cableadoSuperconductor:t,aleacionReforzada:o,neuroChipCorrupto:a,barraCombustible:s})=>{const{gameState:l}=Kr(),{vindicator:c}=l;return i.jsxs("div",{style:{backgroundColor:"#111827",color:"#E5E7EB",padding:"1rem",borderBottom:"2px solid #1F2937",display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"Inter, sans-serif"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Metal Refinado",children:[i.jsx("span",{style:{fontSize:"1.2rem",color:"#F59E0B",marginRight:"0.5rem"},children:"🔩"}),i.jsx("span",{children:E(e)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Acero Estructural",children:[i.jsx("span",{style:{fontSize:"1.2rem",color:"#94A3B8",marginRight:"0.5rem"},children:"🏗️"}),i.jsx("span",{children:E(r)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Placas de Casco",children:[i.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem"},children:"🧱"}),i.jsx("span",{children:E(n)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Cableado Superconductor",children:[i.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem"},children:"🔌"}),i.jsx("span",{children:E(t)})]}),i.jsx("div",{style:{borderLeft:"2px solid #374151",height:"24px"}}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Aleación Reforzada",children:[i.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem"},children:"🛡️"}),i.jsx("span",{children:E(o)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Neuro-Chip Corrupto",children:[i.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem"},children:"🧠"}),i.jsx("span",{children:E(a)})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Barras de Combustible",children:[i.jsx("span",{style:{fontSize:"1.2rem",marginRight:"0.5rem"},children:"⛽"}),i.jsx("span",{children:E(s)})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",backgroundColor:"rgba(31, 41, 55, 0.8)",padding:"0.5rem 1rem",borderRadius:"8px",border:"1px solid #374151"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Salud",children:[i.jsx("span",{style:{fontSize:"1.2rem",color:"#EF4444",marginRight:"0.5rem"},children:"❤️"}),i.jsxs("span",{style:{fontSize:"0.9rem",fontWeight:"bold"},children:[E(c.currentHealth),"/",E(c.maxHealth)]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Escudo",children:[i.jsx("span",{style:{fontSize:"1.2rem",color:"#3B82F6",marginRight:"0.5rem"},children:"🛡️"}),i.jsxs("span",{style:{fontSize:"0.9rem",fontWeight:"bold"},children:[E(c.currentShield),"/",E(c.maxShield)]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center"},title:"Daño",children:[i.jsx("span",{style:{fontSize:"1.2rem",color:"#F59E0B",marginRight:"0.5rem"},children:"⚔️"}),i.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"bold"},children:E(c.damage)})]})]})]})};const Mf=({onClose:e})=>{const{gameState:r,dispatch:n}=Kr(),t=s=>{n({type:"SELECT_BATTLE_DESTINATION",payload:s})},o=()=>{n({type:"START_BATTLE"})},a=r.battleRoom.selectedDestination;return i.jsxs("div",{className:"battle-view",children:[i.jsxs("div",{className:"battle-view-header",children:[i.jsx("h2",{children:"⚔️ SALA DE BATALLA - Capítulo 1"}),i.jsx("button",{onClick:e,className:"close-button",children:"Cerrar"})]}),i.jsxs("div",{className:"vindicator-status",children:[i.jsx("h3",{children:"Estado del Vindicator"}),i.jsxs("div",{className:"status-bars",children:[i.jsxs("div",{className:"status-bar",children:[i.jsxs("span",{children:["Vida: ",Math.round(r.vindicator.currentHealth)," / ",Math.round(r.vindicator.maxHealth)]}),i.jsx("div",{className:"bar-container",children:i.jsx("div",{className:"health-fill",style:{width:`${r.vindicator.currentHealth/r.vindicator.maxHealth*100}%`}})})]}),i.jsxs("div",{className:"status-bar",children:[i.jsxs("span",{children:["Escudo: ",Math.round(r.vindicator.currentShield)," / ",Math.round(r.vindicator.maxShield)]}),i.jsx("div",{className:"bar-container",children:i.jsx("div",{className:"shield-fill",style:{width:`${r.vindicator.currentShield/r.vindicator.maxShield*100}%`}})})]})]}),i.jsx("div",{className:"vindicator-stats",children:i.jsxs("span",{children:["Daño: ",r.vindicator.damage]})})]}),i.jsxs("div",{className:"battle-room-content",children:[i.jsx("div",{className:"destination-list",children:ln.map((s,l)=>{const c=r.battleRoom.battlesCompleted[l||0],u=s.battles.length,d=c>=u;let g=!1;if(l>0){const p=ln[l-1],v=r.battleRoom.battlesCompleted[l-1||0];!s.isBoss&&v<p.battles.length&&(g=!0),s.isBoss&&l===5&&(ln.slice(0,5).every((C,w)=>(r.battleRoom.battlesCompleted[w]||0)>=C.battles.length)||(g=!0))}return i.jsxs("button",{onClick:()=>t(l),disabled:g,className:`destination-list-item ${a===l?"active":""} ${d?"completed":""} ${g?"locked":""} ${s.isBoss?"boss-destination":""}`,children:[g&&i.jsx("span",{className:"lock-icon",children:"🔒"}),s.isBoss&&i.jsx("span",{className:"boss-icon",children:"👑"}),s.name,!g&&i.jsxs("span",{className:"battle-progress",children:["Progreso: ",c," / ",u]})]},s.name)})}),i.jsx("div",{className:"destination-details",children:a!==null?(()=>{const s=ln[a],l=r.battleRoom.battlesCompleted[a]||0,c=s.battles.length;if(l>=c)return i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:s.isBoss?"boss-title":"",children:s.name}),i.jsx("p",{children:s.description}),i.jsx("p",{className:"completed-message",children:s.isBoss?"¡Jefe final derrotado! Capítulo completado.":"¡Destino completado!"}),s.isBoss&&i.jsxs("div",{className:"chapter-rewards",children:[i.jsx("h4",{children:"🎉 ¡Has completado el Capítulo 1!"}),i.jsx("p",{children:"Recompensas desbloqueadas:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Vindicator Mk.II disponible"}),i.jsx("li",{children:"Tecnología Avanzada x1"}),i.jsx("li",{children:"Núcleo de Singularidad x5"})]})]})]});const u=s.battles[l];return i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:s.isBoss?"boss-title":"",children:s.name}),i.jsx("p",{children:s.description}),i.jsxs("div",{className:"next-battle-info",children:[i.jsxs("h4",{children:["Próxima Batalla: ",u.enemyName]}),i.jsxs("div",{className:"enemy-stats",children:[i.jsxs("p",{children:["Vida: ",E(u.health)]}),i.jsxs("p",{children:["Escudo: ",E(u.shield)]}),i.jsxs("p",{children:["Daño: ",E(u.damage)]})]}),i.jsxs("div",{className:"battle-rewards",children:[i.jsx("h5",{children:"🎁 Recompensas de Victoria:"}),i.jsxs("div",{className:"rewards-list",children:[i.jsxs("div",{className:"reward-item",children:[i.jsx("span",{className:"reward-icon",children:"💰"}),i.jsx("span",{className:"reward-amount",children:E(u.reward.scrap)}),i.jsx("span",{className:"reward-name",children:"Chatarra"})]}),i.jsxs("div",{className:"reward-item",children:[i.jsx("span",{className:"reward-icon",children:"🛡️"}),i.jsx("span",{className:"reward-amount",children:E(u.reward.aleacionReforzada)}),i.jsx("span",{className:"reward-name",children:"Aleación Reforzada"})]}),i.jsxs("div",{className:"reward-item",children:[i.jsx("span",{className:"reward-icon",children:"🧠"}),i.jsx("span",{className:"reward-amount",children:E(u.reward.neuroChipCorrupto)}),i.jsx("span",{className:"reward-name",children:"Neuro-Chip Corrupto"})]})]})]}),i.jsxs("div",{className:"fuel-cost",children:[i.jsx("span",{className:"fuel-icon",children:"⛽"}),"Coste: 1 Barra de Combustible"]}),i.jsxs("div",{className:"battle-warning",children:[i.jsx("p",{children:"⚠️ Advertencia: El Vindicator mantendrá el daño entre batallas."}),i.jsx("p",{children:"Si pierdes, el progreso de este destino se reiniciará."})]}),i.jsxs("button",{className:`start-battle-btn ${s.isBoss?"boss-battle-btn":""}`,onClick:o,disabled:r.resources.barraCombustible<1,children:[s.isBoss?"🔥 ":"","Iniciar Combate ",l>0?`(${l+1}/${c})`:"",s.isBoss?" 🔥":""]}),r.resources.barraCombustible<1&&i.jsx("p",{className:"fuel-warning",children:"No tienes suficiente combustible. Fabrica más en la Fundición."})]})]})})():i.jsx("p",{children:"Selecciona un destino para ver los detalles."})})]})]})};const Tf=({onClose:e})=>{const{gameState:r,dispatch:n}=Kr(),{vindicator:t,resources:o,vindicatorUpgrades:a,blueprints:s,vindicatorLevel:l}=r,c=100,u=.2,d=()=>{const x=t.maxHealth-t.currentHealth;return Math.floor(x*c)},g=()=>{const x=t.maxShield-t.currentShield;return Math.floor(x*u*10)/10},p=()=>{const x=t.maxHealth-t.currentHealth,S=d();x>0&&o.scrap>=S&&n({type:"REPAIR_VINDICATOR_HEALTH",payload:{healthAmount:x,scrapCost:S}})},v=()=>{const x=t.maxShield-t.currentShield,S=g();x>0&&o.barraCombustible>=S&&n({type:"REPAIR_VINDICATOR_SHIELD",payload:{shieldAmount:x,fuelCost:S}})},m=t.maxHealth-t.currentHealth,C=t.maxShield-t.currentShield,w=d(),h=g(),f=m>0&&o.scrap>=w,y=C>0&&o.barraCombustible>=h;return i.jsxs("div",{className:"armory-view",children:[i.jsxs("div",{className:"armory-view-header",children:[i.jsx("h2",{children:"🛡️ ARMERÍA - VINDICATOR"}),i.jsx("button",{onClick:e,className:"close-button",children:"Cerrar"})]}),i.jsxs("div",{className:"armory-content",children:[i.jsxs("div",{className:"vindicator-status",children:[i.jsx("h3",{children:"Estado Actual"}),i.jsxs("div",{className:"status-bars",children:[i.jsxs("div",{className:"status-bar",children:[i.jsxs("span",{children:["Vida: ",E(t.currentHealth)," / ",E(t.maxHealth)]}),i.jsx("div",{className:"bar-container",children:i.jsx("div",{className:"health-fill",style:{width:`${t.currentHealth/t.maxHealth*100}%`}})})]}),i.jsxs("div",{className:"status-bar",children:[i.jsxs("span",{children:["Escudo: ",E(t.currentShield)," / ",E(t.maxShield)]}),i.jsx("div",{className:"bar-container",children:i.jsx("div",{className:"shield-fill",style:{width:`${t.currentShield/t.maxShield*100}%`}})})]})]})]}),i.jsxs("div",{className:"repair-section",children:[i.jsx("h3",{children:"🔧 SISTEMA DE REPARACIÓN"}),i.jsxs("div",{className:"repair-option",children:[i.jsxs("div",{className:"repair-info",children:[i.jsx("h4",{children:"Reparar Vida"}),i.jsxs("p",{children:["Repara ",E(m)," puntos de vida faltantes"]}),i.jsxs("div",{className:"repair-cost",children:[i.jsx("span",{className:"cost-icon",children:"💰"}),i.jsx("span",{className:"cost-amount",children:E(w)}),i.jsx("span",{className:"cost-name",children:"Chatarra"})]})]}),i.jsx("button",{className:`repair-button ${f?"":"disabled"}`,onClick:p,disabled:!f,children:f?"🛠️ REPARAR VIDA":"❌ NO HAY SUFICIENTE CHATARRA"})]}),i.jsxs("div",{className:"repair-option",children:[i.jsxs("div",{className:"repair-info",children:[i.jsx("h4",{children:"Reparar Escudo"}),i.jsxs("p",{children:["Repara ",E(C)," puntos de escudo faltantes"]}),i.jsxs("div",{className:"repair-cost",children:[i.jsx("span",{className:"cost-icon",children:"⛽"}),i.jsx("span",{className:"cost-amount",children:h.toFixed(1)}),i.jsx("span",{className:"cost-name",children:"Barras de Combustible"})]})]}),i.jsx("button",{className:`repair-button ${y?"":"disabled"}`,onClick:v,disabled:!y,children:y?"🛠️ REPARAR ESCUDO":"❌ NO HAY SUFICIENTE COMBUSTIBLE"})]})]}),i.jsxs("div",{className:"resources-info",children:[i.jsx("h4",{children:"Recursos Disponibles"}),i.jsxs("div",{className:"resources-list",children:[i.jsxs("div",{className:"resource-item",children:[i.jsx("span",{className:"resource-icon",children:"💰"}),i.jsx("span",{className:"resource-name",children:"Chatarra:"}),i.jsx("span",{className:"resource-amount",children:E(o.scrap)})]}),i.jsxs("div",{className:"resource-item",children:[i.jsx("span",{className:"resource-icon",children:"⛽"}),i.jsx("span",{className:"resource-name",children:"Combustible:"}),i.jsx("span",{className:"resource-amount",children:E(o.barraCombustible)})]}),i.jsxs("div",{className:"resource-item",children:[i.jsx("span",{className:"resource-icon",children:"📜"}),i.jsx("span",{className:"resource-name",children:"Planos:"}),i.jsx("span",{className:"resource-amount",children:E(s)})]})]})]}),i.jsxs("div",{className:"vindicator-level-up-section",children:[i.jsx("h3",{children:"🚀 NIVEL DEL VINDICATOR"}),i.jsxs("div",{className:"level-up-card",children:[i.jsxs("div",{className:"level-display",children:["NIVEL ACTUAL: ",i.jsx("span",{children:l})]}),(()=>{const x=Yu.find(j=>j.level===l+1);if(!x)return i.jsx("p",{className:"max-level",children:"MÁXIMO NIVEL ALCANZADO"});const S=s>=x.blueprintCost,b=()=>{S&&n({type:"LEVEL_UP_VINDICATOR"})};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"level-up-bonus",children:[i.jsx("h5",{children:"BONIFICACIÓN AL SUBIR DE NIVEL:"}),i.jsxs("ul",{children:[i.jsxs("li",{children:["+",x.statBonus.health," Vida Máxima"]}),i.jsxs("li",{children:["+",x.statBonus.shield," Escudo Máximo"]}),i.jsxs("li",{children:["+",x.statBonus.damage," Daño"]})]})]}),i.jsxs("div",{className:"upgrade-cost",children:[i.jsxs("h5",{children:["COSTE PARA NIVEL ",x.level,":"]}),i.jsx("ul",{children:i.jsxs("li",{className:S?"has-enough":"not-enough",children:["Planos: ",E(s)," / ",E(x.blueprintCost)]})})]}),i.jsx("button",{className:`level-up-button ${S?"":"disabled"}`,onClick:b,disabled:!S,children:S?"🚀 SUBIR DE NIVEL":"PLANOS INSUFICIENTES"})]})})()]})]}),i.jsxs("div",{className:"upgrades-section",children:[i.jsx("h3",{children:"⭐ MEJORAS DE COMPONENTES"}),Object.entries(a).map(([x,S])=>{if(!S)return null;const{phase1Resources:b,phase2Resources:j}=S.costPerStar,_=Object.entries(b).every(([L,Z])=>o[L]>=Z),P=Object.entries(j).every(([L,Z])=>o[L]>=Z),T=S.currentStars>=S.maxStars,I=_&&P&&!T,$=()=>{I&&n({type:"UPGRADE_VINDICATOR_STAR",payload:{upgradeId:x}})};return i.jsxs("div",{className:"upgrade-card",children:[i.jsxs("div",{className:"upgrade-card-header",children:[i.jsx("h4",{children:S.name}),i.jsxs("div",{className:"stars-container",children:["★".repeat(S.currentStars),i.jsx("span",{style:{color:"#555"},children:"★".repeat(S.maxStars-S.currentStars)})]})]}),i.jsx("p",{children:S.description}),T?i.jsx("p",{className:"max-level",children:"NIVEL MÁXIMO ALCANZADO"}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"level-up-bonus",children:[i.jsx("h5",{children:"BONIFICACIÓN PRÓXIMA ESTRELLA:"}),i.jsxs("ul",{children:[S.statIncreasePerStar.health&&i.jsxs("li",{children:["+",S.statIncreasePerStar.health," Vida Máxima"]}),S.statIncreasePerStar.shield&&i.jsxs("li",{children:["+",S.statIncreasePerStar.shield," Escudo Máximo"]}),S.statIncreasePerStar.damage&&i.jsxs("li",{children:["+",S.statIncreasePerStar.damage," Daño"]})]})]}),i.jsxs("div",{className:"upgrade-cost",children:[i.jsx("h5",{children:"COSTE PRÓXIMA ESTRELLA:"}),i.jsxs("ul",{children:[Object.entries(b).map(([L,Z])=>i.jsx("li",{className:o[L]>=Z?"has-enough":"not-enough",children:`${L.charAt(0).toUpperCase()+L.slice(1)}: ${E(o[L])} / ${E(Z)}`},L)),Object.entries(j).map(([L,Z])=>i.jsx("li",{className:o[L]>=Z?"has-enough":"not-enough",children:`${L.charAt(0).toUpperCase()+L.slice(1)}: ${E(o[L])} / ${E(Z)}`},L))]})]}),i.jsx("button",{className:`upgrade-button ${I?"":"disabled"}`,onClick:$,disabled:!I,children:I?"✨ MEJORAR":"RECURSOS INSUFICIENTES"})]})]},x)})]})]})]})},Nf=()=>{const{gameState:e,dispatch:r}=Kr(),{resources:n,currentView:t}=e,o=()=>{r({type:"CLOSE_CURRENT_VIEW"})};return i.jsxs("div",{style:{backgroundImage:`url(${Af})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",color:"#E5E7EB",minHeight:"100vh",fontFamily:"Inter, sans-serif",display:"flex",flexDirection:"column"},children:[i.jsx(Df,{metalRefinado:n.metalRefinado,aceroEstructural:n.aceroEstructural,placasCasco:n.placasCasco,cableadoSuperconductor:n.cableadoSuperconductor,aleacionReforzada:n.aleacionReforzada,neuroChipCorrupto:n.neuroChipCorrupto,barraCombustible:n.barraCombustible}),i.jsxs("div",{style:{flex:1,display:"flex"},children:[i.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem"},children:[t==="battleRoom"&&i.jsx(Mf,{onClose:o}),t==="armory"&&i.jsx(Tf,{onClose:o})]}),i.jsxs("div",{style:{backgroundColor:"rgba(31, 41, 55, 0.8)",padding:"1rem",width:"300px",borderLeft:"2px solid #374151",backdropFilter:"blur(5px)"},children:[i.jsx("h3",{style:{color:"#93C5FD",marginBottom:"1rem",textAlign:"center"},children:"Vindicator"}),i.jsx("button",{onClick:()=>r({type:"SET_CURRENT_VIEW",payload:"battleRoom"}),style:{padding:"0.75rem 1rem",backgroundColor:t==="battleRoom"?"#F59E0B":"#374151",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"0.5rem",width:"100%",textAlign:"left"},children:"⚔️ Sala de Batalla"}),i.jsx("button",{onClick:()=>r({type:"SET_CURRENT_VIEW",payload:"armory"}),style:{padding:"0.75rem 1rem",backgroundColor:t==="armory"?"#F59E0B":"#374151",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"0.5rem",width:"100%",textAlign:"left"},children:"🛡️ Armería"}),i.jsx("button",{onClick:()=>r({type:"RETURN_TO_PHASE_1"}),style:{padding:"0.75rem 1rem",backgroundColor:"#374151",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"1rem",width:"100%",textAlign:"left"},children:"🛰️ Volver a la Estación"})]})]}),i.jsx(ed,{})]})};const If=()=>{const{gameState:e,dispatch:r}=Kr(),{vindicator:n,activeBattle:t}=e,[o,a]=k.useState("idle"),[s,l]=k.useState("normal"),[c,u]=k.useState(null);if(!t)return i.jsx("div",{children:"Cargando batalla..."});const d={slow:2e3,normal:1e3,fast:500},g=k.useCallback(()=>{r({type:"PLAYER_ATTACK"})},[r]),p=()=>{a("running");const h=setInterval(()=>{g()},d[s]);u(h)},v=()=>{a("paused"),c&&(clearInterval(c),u(null))},m=()=>{a("running");const h=setInterval(()=>{g()},d[s]);u(h)},C=()=>{a("finished"),c&&(clearInterval(c),u(null))},w=()=>{C(),r({type:"ESCAPE_COMBAT"})};return k.useEffect(()=>()=>{c&&clearInterval(c)},[c]),k.useEffect(()=>{!t&&o==="running"&&C()},[t,o,C]),i.jsxs("div",{className:"combat-scene",children:[i.jsx("div",{className:"combat-status",children:i.jsxs("span",{className:`status-indicator ${o}`,children:["Estado: ",o==="idle"?"Listo":o==="running"?"En combate":o==="paused"?"Pausado":"Finalizado"]})}),i.jsxs("div",{className:"combat-header",children:[i.jsxs("div",{className:"vindicator-header",children:[i.jsx("div",{className:"unit-name vindicator-name",children:"VINDICATOR"}),i.jsxs("div",{className:"health-display",children:[i.jsx("span",{className:"health-label",children:"VIDA:"}),i.jsx("div",{className:"health-bar-container",children:i.jsx("div",{className:"health-fill vindicator-health",style:{width:`${n.currentHealth/n.maxHealth*100}%`}})}),i.jsxs("span",{className:"health-value",children:[Math.round(n.currentHealth)," / ",Math.round(n.maxHealth)]})]}),i.jsxs("div",{className:"health-display",children:[i.jsx("span",{className:"health-label",children:"ESCUDO:"}),i.jsx("div",{className:"health-bar-container",children:i.jsx("div",{className:"shield-fill",style:{width:`${n.currentShield/n.maxShield*100}%`}})}),i.jsxs("span",{className:"health-value",children:[Math.round(n.currentShield)," / ",Math.round(n.maxShield)]})]})]}),i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",color:"#ecc94b",textShadow:"2px 2px 0px #000"},children:"VS"}),i.jsxs("div",{className:"enemy-header",children:[i.jsx("div",{className:"unit-name enemy-name",children:t.enemyName.toUpperCase()}),i.jsxs("div",{className:"health-display",children:[i.jsx("span",{className:"health-label",children:"VIDA:"}),i.jsx("div",{className:"health-bar-container",children:i.jsx("div",{className:"health-fill enemy-health",style:{width:`${t.enemyCurrentHealth/t.enemyMaxHealth*100}%`}})}),i.jsxs("span",{className:"health-value",children:[Math.round(t.enemyCurrentHealth)," / ",Math.round(t.enemyMaxHealth)]})]}),i.jsxs("div",{className:"health-display",children:[i.jsx("span",{className:"health-label",children:"ESCUDO:"}),i.jsx("div",{className:"health-bar-container",children:i.jsx("div",{className:"shield-fill",style:{width:`${t.enemyCurrentShield/t.enemyMaxShield*100}%`}})}),i.jsxs("span",{className:"health-value",children:[Math.round(t.enemyCurrentShield)," / ",Math.round(t.enemyMaxShield)]})]})]})]}),i.jsxs("div",{className:"combat-area",children:[i.jsxs("div",{className:"combatant vindicator-combatant",children:[i.jsx("div",{className:"unit-sprite",children:"🚀"}),i.jsxs("div",{className:"unit-stats",children:[i.jsxs("div",{className:"stat-item",children:["DAÑO: ",n.damage]}),i.jsx("div",{className:"stat-item",children:"TIPO: ASALTO"}),i.jsx("div",{className:"stat-item",children:"MOV: 6"}),i.jsx("div",{className:"stat-item",children:"RANGO: 1-2"})]})]}),i.jsxs("div",{className:"combatant enemy-combatant",children:[i.jsx("div",{className:"unit-sprite",children:"👾"}),i.jsxs("div",{className:"unit-stats",children:[i.jsxs("div",{className:"stat-item",children:["DAÑO: ",t.enemyCurrentHealth>0?"???":"0"]}),i.jsx("div",{className:"stat-item",children:"TIPO: ENEMIGO"}),i.jsx("div",{className:"stat-item",children:"MOV: 4"}),i.jsx("div",{className:"stat-item",children:"RANGO: 1"})]})]})]}),i.jsxs("div",{className:"combat-controls-center",children:[o==="idle"&&i.jsx("button",{className:"central-action-button",onClick:p,children:"🚀 INICIAR COMBATE AUTOMÁTICO"}),o==="running"&&i.jsx("button",{className:"central-action-button",onClick:v,children:"⏸️ PAUSAR COMBATE"}),o==="paused"&&i.jsx("button",{className:"central-action-button",onClick:m,children:"▶️ REANUDAR COMBATE"}),i.jsxs("div",{className:"speed-controls-center",children:[i.jsx("label",{children:"Velocidad:"}),i.jsxs("select",{value:s,onChange:h=>l(h.target.value),disabled:o==="running",children:[i.jsx("option",{value:"slow",children:"Lenta"}),i.jsx("option",{value:"normal",children:"Normal"}),i.jsx("option",{value:"fast",children:"Rápida"})]})]}),i.jsxs("div",{className:"secondary-actions",children:[(o==="paused"||o==="idle")&&i.jsx("button",{className:"secondary-button stop-button",onClick:C,children:"⏹️ Detener"}),i.jsx("button",{className:"secondary-button escape-button",onClick:w,disabled:o==="running",children:"🏃 Escapar"})]})]})]})};class Pf extends k.Component{constructor(){super(...arguments);js(this,"state",{hasError:!1,error:void 0})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,t){console.error("----------------------------------------"),console.error("--- ERROR ATRAPADO POR ERROR BOUNDARY ---"),console.error("----------------------------------------"),console.error("Error:",n),console.error("Component Stack:",t.componentStack),console.error("----------------------------------------")}render(){var n;return this.state.hasError?i.jsxs("div",{style:{backgroundColor:"#111827",color:"white",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2rem",fontFamily:"monospace"},children:[i.jsx("h1",{style:{color:"#EF4444"},children:"Algo ha salido muy mal."}),i.jsx("p",{children:"Ha ocurrido un error de renderizado que ha bloqueado la aplicación."}),i.jsx("p",{children:"Por favor, recarga la página. Si el error persiste, informa de ello."}),i.jsxs("pre",{style:{backgroundColor:"#1F2937",padding:"1rem",borderRadius:"8px",border:"1px solid #374151",color:"#F3F4F6",maxWidth:"800px",overflow:"auto",whiteSpace:"pre-wrap",marginTop:"2rem"},children:[i.jsx("strong",{children:"Error:"})," ",(n=this.state.error)==null?void 0:n.toString()]})]}):this.props.children}}const Ff=()=>{const{gameState:e,dispatch:r}=Kr();k.useEffect(()=>{const t=()=>{r({type:"RESET_GAME"})};return window.addEventListener("resetGame",t),()=>{window.removeEventListener("resetGame",t)}},[r]);const n=()=>{switch(e.currentScene){case"startMenu":return i.jsx(Nl,{onStartGame:()=>r({type:"START_GAME"})});case"introScene":return i.jsx(Hm,{onComplete:()=>r({type:"SHOW_MAIN_SCENE"})});case"main":return i.jsx(_f,{});case"phase2Intro":return i.jsx(bf,{onComplete:()=>r({type:"GO_TO_PHASE_2"})});case"phase2Main":return i.jsx(Nf,{});case"combatScene":return i.jsx(If,{},e.battleCount);default:return i.jsx(Nl,{onStartGame:()=>r({type:"START_GAME"})})}};return i.jsx(Pf,{children:n()})};Pi.createRoot(document.getElementById("root")).render(i.jsx(dr.StrictMode,{children:i.jsx(Om,{children:i.jsx(Ff,{})})}));
