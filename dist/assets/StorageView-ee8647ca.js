import{R as Q,j as s,f as a,g as o}from"./index-22dcefa4.js";import{B as ss}from"./BuyAmountSelector-eff27179.js";import{B as b}from"./BotonConTooltip-fa0a09a1.js";const es="/Mekadron-idle/assets/storage-basic-41fbd999.png",as="/Mekadron-idle/assets/storage-medium-e68240b8.png",ts="/Mekadron-idle/assets/storage-advanced-049817db.png",ns="/Mekadron-idle/assets/storage-quantum-6aface52.png",os="/Mekadron-idle/assets/battery-lithium-ion-407b0dc1.png",rs="/Mekadron-idle/assets/accumulator-plasma-963d6d52.png",is="/Mekadron-idle/assets/harmonic-containment-field-3b46fe0e.png",q=({progress:e,time:n})=>s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar",style:{width:`${e/n*100}%`}})}),ms=Q.memo(({scrap:e,metalRefinado:n,basicStorage:m,mediumStorage:r,advancedStorage:i,quantumHoardUnit:y,lithiumIonBattery:x,plasmaAccumulator:c,harmonicContainmentField:I,basicStorageQueue:A,mediumStorageQueue:M,advancedStorageQueue:$,quantumHoardUnitQueue:v,lithiumIonBatteryQueue:E,plasmaAccumulatorQueue:T,harmonicContainmentFieldQueue:B,onBuildBasicStorage:L,onBuildMediumStorage:P,onBuildAdvancedStorage:z,onBuildQuantumHoardUnit:R,onBuildLithiumIonBattery:H,onBuildPlasmaAccumulator:V,onBuildHarmonicContainmentField:O,buyAmount:l,onSetBuyAmount:G,onClose:J,onCancel:t})=>{const h=d=>{const w=d.filter(k=>k.current<k.amount);return w.length===0?"":"Requiere: "+w.map(k=>`${k.text} (${a(k.amount)})`).join(", ")},f=o.storage.basicStorage.costs.scrap,F=o.storage.mediumStorage.costs.scrap,j=o.storage.advancedStorage.costs.scrap,g=o.storage.quantumHoardUnit.costs.scrap,u=o.storage.quantumHoardUnit.costs.metalRefinado,D=o.storage.lithiumIonBattery.costs.scrap,U=o.storage.plasmaAccumulator.costs.scrap,C=o.storage.harmonicContainmentField.costs.scrap,p=o.storage.harmonicContainmentField.costs.metalRefinado,N=d=>{if(typeof d=="number")return Math.floor(e/d);const w=d.scrap>0?Math.floor(e/d.scrap):1/0,k=d.metal>0?Math.floor(n/d.metal):1/0;return Math.min(w,k)},K=N(f),W=N(F),X=N(j),Y=N({scrap:g,metal:u}),Z=N(D),_=N(U),S=N({scrap:C,metal:p});return s.jsxs("div",{className:"storage-view-container",children:[s.jsxs("div",{className:"storage-view-header",children:[s.jsx("h2",{children:"MÓDULO DE ALMACÉN"}),s.jsx("button",{onClick:J,className:"close-button",children:"Cerrar"})]}),s.jsx(ss,{buyAmount:l,onSetBuyAmount:G}),s.jsxs("div",{className:`storage-item ${e>=f?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#F59E0B"},children:"Almacén Básico"}),s.jsxs("p",{children:["Capacidad: +",a(50)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(f)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",m," | En cola: ",A.queue]}),A.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("basicStorage",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("basicStorage","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",A.time,"s"]}),A.queue>0&&s.jsx(q,{progress:A.progress,time:A.time}),s.jsxs(b,{onClick:L,disabled:e<f,tooltipText:h([{amount:f,current:e,text:"Chatarra"}]),className:`build-button ${e>=f?"unlocked":""}`,children:["Encargar Almacén Básico ",l==="max"&&`(${K})`]})]}),s.jsx("img",{src:es,alt:"Almacén Básico",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=F&&m>=3?"unlocked":""} ${m>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#22C55E"},children:"Almacén Medio"}),s.jsxs("p",{children:["Capacidad: +",a(500)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(F)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",r," | En cola: ",M.queue]}),M.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("mediumStorage",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("mediumStorage","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",M.time,"s"]}),s.jsx("p",{children:"Requisitos: 3 Almacenes Básicos"}),M.queue>0&&s.jsx(q,{progress:M.progress,time:M.time}),s.jsxs(b,{onClick:P,disabled:e<F||m<3,tooltipText:h([{amount:F,current:e,text:"Chatarra"},{amount:3,current:m,text:"Almacenes Básicos"}]),className:`build-button ${e>=F&&m>=3?"unlocked":""}`,children:["Encargar Almacén Medio ",l==="max"&&`(${W})`]}),m<3&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Almacenes Básicos"})]}),s.jsx("img",{src:as,alt:"Almacén Medio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=j&&r>=1?"unlocked":""} ${r>=1?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Almacén Avanzado"}),s.jsxs("p",{children:["Capacidad: +",a(5e3)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(j)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",i," | En cola: ",$.queue]}),$.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("advancedStorage",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("advancedStorage","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",$.time,"s"]}),s.jsx("p",{children:"Requisitos: 1 Almacén Medio"}),$.queue>0&&s.jsx(q,{progress:$.progress,time:$.time}),s.jsxs(b,{onClick:z,disabled:e<j||r<1,tooltipText:h([{amount:j,current:e,text:"Chatarra"},{amount:1,current:r,text:"Almacenes Medios"}]),className:`build-button ${e>=j&&r>=1?"unlocked":""}`,style:{backgroundColor:e>=j&&r>=1?"#D946EF":"#9CA3AF"},children:["Encargar Almacén Avanzado ",l==="max"&&`(${X})`]}),r<1&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Almacén Medio"})]}),s.jsx("img",{src:ts,alt:"Almacén Avanzado",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=g&&n>=u&&i>=3?"unlocked":""} ${i>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Unidad de Acopio Cuántico"}),s.jsxs("p",{children:["Capacidad: +",a(5e4)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(g)," chatarra y ",a(u)," metal refinado"]}),s.jsxs("p",{children:["Construidos: ",y," | En cola: ",v.queue]}),v.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("quantumHoardUnit",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("quantumHoardUnit","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",v.time,"s"]}),s.jsx("p",{children:"Requisitos: 3 Almacenes Avanzados"}),v.queue>0&&s.jsx(q,{progress:v.progress,time:v.time}),s.jsxs(b,{onClick:R,disabled:e<g||n<u||i<3,tooltipText:h([{amount:g,current:e,text:"Chatarra"},{amount:u,current:n,text:"Metal Refinado"},{amount:3,current:i,text:"Almacenes Avanzados"}]),className:`build-button ${e>=g&&n>=u&&i>=3?"unlocked":""}`,style:{backgroundColor:e>=g&&n>=u&&i>=3?"#D946EF":"#9CA3AF"},children:["Encargar Acopio Cuántico ",l==="max"&&`(${Y})`]}),i<3&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Almacenes Avanzados"})]}),s.jsx("img",{src:ns,alt:"Unidad de Acopio Cuántico",className:"storage-item-image"})]}),s.jsx("h3",{style:{borderBottom:"2px solid #06B6D4",paddingBottom:"0.5rem",marginTop:"3rem"},children:"Almacenamiento de Energía"}),s.jsxs("div",{className:`storage-item ${e>=D?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Batería de Iones de Litio"}),s.jsxs("p",{children:["Capacidad: +",a(50)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",a(D)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",x," | En cola: ",E.queue]}),E.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("lithiumIonBattery",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("lithiumIonBattery","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",E.time,"s"]}),E.queue>0&&s.jsx(q,{progress:E.progress,time:E.time}),s.jsxs(b,{onClick:H,disabled:e<D,tooltipText:h([{amount:D,current:e,text:"Chatarra"}]),className:`build-button ${e>=D?"unlocked":""}`,children:["Encargar Batería ",l==="max"&&`(${Z})`]})]}),s.jsx("img",{src:os,alt:"Batería de Iones de Litio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=U&&x>=5?"unlocked":""} ${x>=5?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Acumulador de Plasma"}),s.jsxs("p",{children:["Capacidad: +",a(250)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",a(U)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",c," | En cola: ",T.queue]}),T.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("plasmaAccumulator",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("plasmaAccumulator","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",T.time,"s"]}),s.jsx("p",{children:"Requisitos: 5 Baterías de Iones de Litio"}),T.queue>0&&s.jsx(q,{progress:T.progress,time:T.time}),s.jsxs(b,{onClick:V,disabled:e<U||x<5,tooltipText:h([{amount:U,current:e,text:"Chatarra"},{amount:5,current:x,text:"Baterías de Iones de Litio"}]),className:`build-button ${e>=U&&x>=5?"unlocked":""}`,children:["Encargar Acumulador ",l==="max"&&`(${_})`]}),x<5&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Baterías de Iones de Litio"})]}),s.jsx("img",{src:rs,alt:"Acumulador de Plasma",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=C&&n>=p&&c>=3?"unlocked":""} ${c>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Campo de Contención Armónico"}),s.jsxs("p",{children:["Capacidad: +",a(1200)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",a(C)," chatarra y ",a(p)," metal refinado"]}),s.jsxs("p",{children:["Construidos: ",I," | En cola: ",B.queue]}),B.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("harmonicContainmentField",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("harmonicContainmentField","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",B.time,"s"]}),s.jsx("p",{children:"Requisitos: 3 Acumuladores de Plasma"}),B.queue>0&&s.jsx(q,{progress:B.progress,time:B.time}),s.jsxs(b,{onClick:O,disabled:e<C||n<p||c<3,tooltipText:h([{amount:C,current:e,text:"Chatarra"},{amount:p,current:n,text:"Metal Refinado"},{amount:3,current:c,text:"Acumuladores de Plasma"}]),className:`build-button ${e>=C&&n>=p&&c>=3?"unlocked":""}`,style:{backgroundColor:e>=C&&n>=p&&c>=3?"#D946EF":"#9CA3AF"},children:["Encargar Campo de Contención ",l==="max"&&`(${S})`]}),c<3&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Acumuladores de Plasma"})]}),s.jsx("img",{src:is,alt:"Campo de Contención Armónico",className:"storage-item-image"})]})]})});export{ms as default};
