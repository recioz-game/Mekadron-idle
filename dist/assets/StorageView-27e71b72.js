import{R as ss,j as s,f as a,g as o}from"./index-7d1eb703.js";import{B as es}from"./BuyAmountSelector-98f3d09c.js";import{B as N}from"./BotonConTooltip-c62f4489.js";import{u as as}from"./useDragToScroll-3a4eacb2.js";const ts="/Mekadron-idle/assets/storage-basic-41fbd999.png",ns="/Mekadron-idle/assets/storage-medium-e68240b8.png",os="/Mekadron-idle/assets/storage-advanced-049817db.png",rs="/Mekadron-idle/assets/storage-quantum-6aface52.png",is="/Mekadron-idle/assets/battery-lithium-ion-407b0dc1.png",cs="/Mekadron-idle/assets/accumulator-plasma-963d6d52.png",ls="/Mekadron-idle/assets/harmonic-containment-field-3b46fe0e.png",b=({progress:e,time:n})=>s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar",style:{width:`${e/n*100}%`}})}),gs=ss.memo(({scrap:e,metalRefinado:n,aceroEstructural:ds,basicStorage:d,mediumStorage:r,advancedStorage:i,quantumHoardUnit:I,lithiumIonBattery:m,plasmaAccumulator:c,harmonicContainmentField:y,basicStorageQueue:q,mediumStorageQueue:A,advancedStorageQueue:M,quantumHoardUnitQueue:$,lithiumIonBatteryQueue:v,plasmaAccumulatorQueue:T,harmonicContainmentFieldQueue:E,onBuildBasicStorage:R,onBuildMediumStorage:P,onBuildAdvancedStorage:z,onBuildQuantumHoardUnit:L,onBuildLithiumIonBattery:H,onBuildPlasmaAccumulator:V,onBuildHarmonicContainmentField:G,buyAmount:l,onSetBuyAmount:J,onClose:K,onCancel:t})=>{const O=as(),x=U=>{const w=U.filter(k=>k.current<k.amount);return w.length===0?"":"Requiere: "+w.map(k=>`${k.text} (${a(k.amount)})`).join(", ")},f=o.storage.basicStorage.costs.scrap,B=o.storage.mediumStorage.costs.scrap,h=o.storage.advancedStorage.costs.scrap,j=o.storage.quantumHoardUnit.costs.scrap,g=o.storage.quantumHoardUnit.costs.metalRefinado,F=o.storage.lithiumIonBattery.costs.scrap,D=o.storage.plasmaAccumulator.costs.scrap,u=o.storage.harmonicContainmentField.costs.scrap,C=o.storage.harmonicContainmentField.costs.metalRefinado,p=U=>{const w=U.scrap?Math.floor(e/U.scrap):1/0,k=U.metalRefinado?Math.floor(n/U.metalRefinado):1/0;return Math.min(w,k)},W=p({scrap:f}),X=p({scrap:B}),Y=p({scrap:h}),Z=p({scrap:j,metalRefinado:g}),_=p({scrap:F}),S=p({scrap:D}),Q=p({scrap:u,metalRefinado:C});return s.jsx("div",{className:"storage-view-container",children:s.jsxs("div",{className:"storage-content-area",ref:O,children:[s.jsx("button",{onClick:K,className:"close-button",children:"×"}),s.jsx(es,{buyAmount:l,onSetBuyAmount:J}),s.jsxs("div",{className:`storage-item ${e>=f?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#F59E0B"},children:"Almacén Básico"}),s.jsxs("p",{children:["Capacidad: +",a(50)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(f)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",d," | En cola: ",q.queue]}),q.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("basicStorage",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("basicStorage","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",q.time,"s"]}),q.queue>0&&s.jsx(b,{progress:q.progress,time:q.time}),s.jsxs(N,{onClick:R,disabled:e<f,tooltipText:x([{amount:f,current:e,text:"Chatarra"}]),className:`build-button ${e>=f?"unlocked":""}`,children:["Encargar Almacén Básico ",l==="max"&&`(${W})`]})]}),s.jsx("img",{src:ts,alt:"Almacén Básico",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=B&&d>=3?"unlocked":""} ${d>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#22C55E"},children:"Almacén Medio"}),s.jsxs("p",{children:["Capacidad: +",a(500)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(B)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",r," | En cola: ",A.queue]}),A.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("mediumStorage",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("mediumStorage","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",A.time,"s"]}),s.jsx("p",{children:"Requisitos: 3 Almacenes Básicos"}),A.queue>0&&s.jsx(b,{progress:A.progress,time:A.time}),s.jsxs(N,{onClick:P,disabled:e<B||d<3,tooltipText:x([{amount:B,current:e,text:"Chatarra"},{amount:3,current:d,text:"Almacenes Básicos"}]),className:`build-button ${e>=B&&d>=3?"unlocked":""}`,children:["Encargar Almacén Medio ",l==="max"&&`(${X})`]}),d<3&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Almacenes Básicos"})]}),s.jsx("img",{src:ns,alt:"Almacén Medio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=h&&r>=1?"unlocked":""} ${r>=1?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Almacén Avanzado"}),s.jsxs("p",{children:["Capacidad: +",a(5e3)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(h)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",i," | En cola: ",M.queue]}),M.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("advancedStorage",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("advancedStorage","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",M.time,"s"]}),s.jsx("p",{children:"Requisitos: 1 Almacén Medio"}),M.queue>0&&s.jsx(b,{progress:M.progress,time:M.time}),s.jsxs(N,{onClick:z,disabled:e<h||r<1,tooltipText:x([{amount:h,current:e,text:"Chatarra"},{amount:1,current:r,text:"Almacenes Medios"}]),className:`build-button ${e>=h&&r>=1?"unlocked":""}`,style:{backgroundColor:e>=h&&r>=1?"#D946EF":"#9CA3AF"},children:["Encargar Almacén Avanzado ",l==="max"&&`(${Y})`]}),r<1&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Almacén Medio"})]}),s.jsx("img",{src:os,alt:"Almacén Avanzado",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=j&&n>=g&&i>=3?"unlocked":""} ${i>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Unidad de Acopio Cuántico"}),s.jsxs("p",{children:["Capacidad: +",a(5e4)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(j)," chatarra y ",a(g)," metal refinado"]}),s.jsxs("p",{children:["Construidos: ",I," | En cola: ",$.queue]}),$.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("quantumHoardUnit",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("quantumHoardUnit","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",$.time,"s"]}),s.jsx("p",{children:"Requisitos: 3 Almacenes Avanzados"}),$.queue>0&&s.jsx(b,{progress:$.progress,time:$.time}),s.jsxs(N,{onClick:L,disabled:e<j||n<g||i<3,tooltipText:x([{amount:j,current:e,text:"Chatarra"},{amount:g,current:n,text:"Metal Refinado"},{amount:3,current:i,text:"Almacenes Avanzados"}]),className:`build-button ${e>=j&&n>=g&&i>=3?"unlocked":""}`,style:{backgroundColor:e>=j&&n>=g&&i>=3?"#D946EF":"#9CA3AF"},children:["Encargar Acopio Cuántico ",l==="max"&&`(${Z})`]}),i<3&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Almacenes Avanzados"})]}),s.jsx("img",{src:rs,alt:"Unidad de Acopio Cuántico",className:"storage-item-image"})]}),s.jsx("h3",{style:{borderBottom:"2px solid #06B6D4",paddingBottom:"0.5rem",marginTop:"3rem"},children:"Almacenamiento de Energía"}),s.jsxs("div",{className:`storage-item ${e>=F?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Batería de Iones de Litio"}),s.jsxs("p",{children:["Capacidad: +",a(50)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",a(F)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",m," | En cola: ",v.queue]}),v.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("lithiumIonBattery",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("lithiumIonBattery","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",v.time,"s"]}),v.queue>0&&s.jsx(b,{progress:v.progress,time:v.time}),s.jsxs(N,{onClick:H,disabled:e<F,tooltipText:x([{amount:F,current:e,text:"Chatarra"}]),className:`build-button ${e>=F?"unlocked":""}`,children:["Encargar Batería ",l==="max"&&`(${_})`]})]}),s.jsx("img",{src:is,alt:"Batería de Iones de Litio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=D&&m>=5?"unlocked":""} ${m>=5?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Acumulador de Plasma"}),s.jsxs("p",{children:["Capacidad: +",a(250)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",a(D)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",c," | En cola: ",T.queue]}),T.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("plasmaAccumulator",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("plasmaAccumulator","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",T.time,"s"]}),s.jsx("p",{children:"Requisitos: 5 Baterías de Iones de Litio"}),T.queue>0&&s.jsx(b,{progress:T.progress,time:T.time}),s.jsxs(N,{onClick:V,disabled:e<D||m<5,tooltipText:x([{amount:D,current:e,text:"Chatarra"},{amount:5,current:m,text:"Baterías de Iones de Litio"}]),className:`build-button ${e>=D&&m>=5?"unlocked":""}`,children:["Encargar Acumulador ",l==="max"&&`(${S})`]}),m<5&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Baterías de Iones de Litio"})]}),s.jsx("img",{src:cs,alt:"Acumulador de Plasma",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=u&&n>=C&&c>=3?"unlocked":""} ${c>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Campo de Contención Armónico"}),s.jsxs("p",{children:["Capacidad: +",a(1200)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",a(u)," chatarra y ",a(C)," metal refinado"]}),s.jsxs("p",{children:["Construidos: ",y," | En cola: ",E.queue]}),E.queue>0&&s.jsxs("div",{className:"queue-controls",children:[s.jsx("button",{onClick:()=>t("harmonicContainmentField",1),children:"Cancelar 1"}),s.jsx("button",{onClick:()=>t("harmonicContainmentField","all"),children:"Cancelar Todo"})]}),s.jsxs("p",{children:["T/U: ",E.time,"s"]}),s.jsx("p",{children:"Requisitos: 3 Acumuladores de Plasma"}),E.queue>0&&s.jsx(b,{progress:E.progress,time:E.time}),s.jsxs(N,{onClick:G,disabled:e<u||n<C||c<3,tooltipText:x([{amount:u,current:e,text:"Chatarra"},{amount:C,current:n,text:"Metal Refinado"},{amount:3,current:c,text:"Acumuladores de Plasma"}]),className:`build-button ${e>=u&&n>=C&&c>=3?"unlocked":""}`,style:{backgroundColor:e>=u&&n>=C&&c>=3?"#D946EF":"#9CA3AF"},children:["Encargar Campo de Contención ",l==="max"&&`(${Q})`]}),c<3&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Acumuladores de Plasma"})]}),s.jsx("img",{src:ls,alt:"Campo de Contención Armónico",className:"storage-item-image"})]})]})})});export{gs as default};
