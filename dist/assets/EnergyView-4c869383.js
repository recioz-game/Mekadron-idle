import{R as te,r as ce,j as e,f as a}from"./index-45ec8132.js";import{B as ie}from"./BuyAmountSelector-d668e215.js";import{B as u}from"./BotonConTooltip-896c2ff5.js";import{Q as h}from"./QueueControls-741410b9.js";import{u as le}from"./useDragToScroll-90977d89.js";const oe="/Mekadron-idle/assets/energy-solar-panel-basic-50867de1.png",re="/Mekadron-idle/assets/energy-solar-panel-medium-905ab7eb.png",de="/Mekadron-idle/assets/energy-solar-panel-advanced-c947fd28.png",me="/Mekadron-idle/assets/energy-core-damaged-43f3fd4b.png",xe="/Mekadron-idle/assets/energy-core-stabilized-35d5e644.png",ue="/Mekadron-idle/assets/energy-core-empowered-a43cb883.png",he="/Mekadron-idle/assets/fusion-reactor-9d28f766.png",ve=te.memo(({scrap:s,currentEnergy:F,maxEnergy:w,energyConsumption:f,solarPanels:t,mediumSolarPanels:c,advancedSolar:i,energyCores:l,stabilizedEnergyCores:o,empoweredEnergyCores:r,fusionReactors:P,solarPanelsQueue:C,mediumSolarPanelsQueue:R,advancedSolarQueue:B,energyCoresQueue:I,stabilizedEnergyCoresQueue:S,empoweredEnergyCoresQueue:T,fusionReactorQueue:A,onBuildSolarPanel:D,onBuildMediumSolar:O,onBuildAdvancedSolar:V,onBuildEnergyCore:G,onBuildStabilizedEnergyCore:U,onBuildEmpoweredEnergyCore:H,onBuildFusionReactor:J,buyAmount:d,onSetBuyAmount:K,onClose:L,onCancel:m,upgrades:W,metalRefinado:E})=>{const X=le(),x=q=>{const z=q.filter($=>$.current<$.amount);return z.length===0?"":"Requiere: "+z.map($=>`${$.text} (${a($.amount)})`).join(", ")},j=50,g=200,N=500,p=2e3,k=1e4,v=2e4,n={scrap:1e4,metalRefinado:25},y=q=>Math.floor(s/q),Y=y(j),Z=y(g),_=y(N),Q=y(p),ee=y(k),se=y(v),ae=Math.min(Math.floor(s/n.scrap),Math.floor(E/n.metalRefinado)),[M,ne]=ce.useState(!0),b=t*3+c*10+i*30+l*50+o*75+r*150+P*250;return e.jsx("div",{className:"energy-view-container",children:e.jsxs("div",{className:"energy-content-area",ref:X,children:[e.jsx("button",{onClick:L,className:"close-button",children:"×"}),e.jsxs("div",{className:"energy-summary",children:[e.jsxs("div",{className:"summary-header",onClick:()=>ne(!M),children:[e.jsx("h3",{style:{color:"#06B6D4"},children:"RESUMEN ENERGÉTICO"}),e.jsx("span",{className:`collapse-arrow ${M?"open":""}`,children:"▶"})]}),M&&e.jsxs("div",{className:"energy-summary-content",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Almacenado:"}),e.jsxs("span",{className:"summary-value",children:[a(F)," / ",a(w)]})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Balance:"}),e.jsxs("span",{className:"summary-value",style:{color:b>=f?"#22C55E":"#EF4444"},children:[(b-f).toFixed(1),"/s"]})]}),e.jsxs("div",{className:"summary-details",children:["(Producción: +",a(b),"/s | Consumo: -",a(f),"/s)"]})]})]}),e.jsx(ie,{buyAmount:d,onSetBuyAmount:K}),e.jsxs("div",{className:`energy-item ${s>=j?"unlocked":""}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Básico"}),e.jsxs("p",{children:["Producción: +",a(3)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(j)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",t," | En cola: ",C.queue]}),e.jsx(h,{queue:C,itemName:"solarPanels",onCancel:m}),e.jsxs(u,{onClick:D,disabled:s<j,tooltipText:x([{amount:j,current:s,text:"Chatarra"}]),className:`build-button ${s>=j?"unlocked":""}`,children:["Encargar Panel Solar ",d==="max"&&`(${Y})`]})]}),e.jsx("img",{src:oe,alt:"Panel Solar Básico",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=g&&t>=5?"unlocked":""} ${t>=5?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Medio"}),e.jsxs("p",{children:["Producción: +",a(10)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(g)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",c," | En cola: ",R.queue]}),e.jsx(h,{queue:R,itemName:"mediumSolarPanels",onCancel:m}),e.jsx("p",{children:"Requisitos: 5 Paneles Solares Básicos"}),e.jsxs(u,{onClick:O,disabled:s<g||t<5,tooltipText:x([{amount:g,current:s,text:"Chatarra"},{amount:5,current:t,text:"Paneles Solares Básicos"}]),className:`build-button ${s>=g&&t>=5?"unlocked":""}`,children:["Encargar Panel Medio ",d==="max"&&`(${Z})`]}),t<5&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Paneles Solares Básicos"})]}),e.jsx("img",{src:re,alt:"Panel Solar Medio",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=N&&c>=1?"unlocked":""} ${c>=1?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#06B6D4"},children:"Panel Solar Avanzado"}),e.jsxs("p",{children:["Producción: +",a(30)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(N)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",i," | En cola: ",B.queue]}),e.jsx(h,{queue:B,itemName:"advancedSolar",onCancel:m}),e.jsx("p",{children:"Requisitos: 1 Panel Solar Medio"}),e.jsxs(u,{onClick:V,disabled:s<N||c<1,tooltipText:x([{amount:N,current:s,text:"Chatarra"},{amount:1,current:c,text:"Paneles Solares Medios"}]),className:`build-button ${s>=N&&c>=1?"unlocked":""}`,children:["Encargar Panel Avanzado ",d==="max"&&`(${_})`]}),c<1&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Panel Solar Medio"})]}),e.jsx("img",{src:de,alt:"Panel Solar Avanzado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=p&&i>=3?"unlocked":""} ${i>=3?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F87171"},children:"Núcleo Energético Averiado"}),e.jsxs("p",{children:["Producción: +",a(50)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(100)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(p)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",l," | En cola: ",I.queue]}),e.jsx(h,{queue:I,itemName:"energyCores",onCancel:m}),e.jsx("p",{children:"Requisitos: 3 Paneles Solares Avanzados"}),e.jsxs(u,{onClick:G,disabled:s<p||i<3,tooltipText:x([{amount:p,current:s,text:"Chatarra"},{amount:3,current:i,text:"Paneles Solares Avanzados"}]),className:`build-button ${s>=p&&i>=3?"unlocked":""}`,children:["Encargar Núcleo Averiado ",d==="max"&&`(${Q})`]}),i<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Paneles Solares Avanzados"})]}),e.jsx("img",{src:me,alt:"Núcleo Energético Averiado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=k&&l>=3?"unlocked":""} ${l>=3?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#4ADE80"},children:"Núcleo Energético Estabilizado"}),e.jsxs("p",{children:["Producción: +",a(75)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(150)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(k)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",o," | En cola: ",S.queue]}),e.jsx(h,{queue:S,itemName:"stabilizedEnergyCores",onCancel:m}),e.jsx("p",{children:"Requisitos: 3 Núcleos Averiados"}),e.jsxs(u,{onClick:U,disabled:s<k||l<3,tooltipText:x([{amount:k,current:s,text:"Chatarra"},{amount:3,current:l,text:"Núcleos Averiados"}]),className:`build-button ${s>=k&&l>=3?"unlocked":""}`,children:["Encargar Núcleo Estabilizado ",d==="max"&&`(${ee})`]}),l<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Núcleos Averiados"})]}),e.jsx("img",{src:xe,alt:"Núcleo Energético Estabilizado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=v&&o>=3?"unlocked":""} ${o>=3?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#22C55E"},children:"Núcleo Energético Potenciado"}),e.jsxs("p",{children:["Producción: +",a(150)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(300)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(v)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",r," | En cola: ",T.queue]}),e.jsx(h,{queue:T,itemName:"empoweredEnergyCores",onCancel:m}),e.jsx("p",{children:"Requisitos: 3 Núcleos Estabilizados"}),e.jsxs(u,{onClick:H,disabled:s<v||o<3,tooltipText:x([{amount:v,current:s,text:"Chatarra"},{amount:3,current:o,text:"Núcleos Estabilizados"}]),className:`build-button ${s>=v&&o>=3?"unlocked":""}`,children:["Encargar Núcleo Potenciado ",d==="max"&&`(${se})`]}),o<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Núcleos Estabilizados"})]}),e.jsx("img",{src:ue,alt:"Núcleo Energético Potenciado",className:"energy-item-image"})]}),W.fusionTech>0&&e.jsxs("div",{className:`energy-item ${s>=n.scrap&&E>=n.metalRefinado&&r>=1?"unlocked":""} ${r>=1?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#8B5CF6"},children:"Reactor de Fusión"}),e.jsxs("p",{children:["Producción: +",a(250)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(1e3)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(n.scrap)," Chatarra + ",a(n.metalRefinado)," Metal Refinado"]}),e.jsxs("p",{children:["Construidos: ",P," | En cola: ",A.queue]}),e.jsx(h,{queue:A,itemName:"fusionReactor",onCancel:m}),e.jsx("p",{children:"Requisitos: 1 Núcleo Potenciado (anteriormente 10 averiados)"}),e.jsxs(u,{onClick:J,disabled:s<n.scrap||E<n.metalRefinado||r<1,tooltipText:x([{amount:n.scrap,current:s,text:"Chatarra"},{amount:n.metalRefinado,current:E,text:"Metal Refinado"},{amount:1,current:r,text:"Núcleos Potenciados"}]),className:`build-button ${s>=n.scrap&&E<n.metalRefinado&&r>=1?"unlocked":""}`,children:["Encargar Reactor de Fusión ",d==="max"&&`(${ae})`]}),r<1&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Núcleo Potenciado"})]}),e.jsx("img",{src:he,alt:"Reactor de Fusión",className:"energy-item-image"})]})]})})});export{ve as default};
