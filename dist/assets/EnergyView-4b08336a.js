import{R as ne,r as ce,j as e,f as a}from"./index-5b1e887f.js";import{B as le,Q as q}from"./QueueControls-8003cb5f.js";import{B as f}from"./BotonConTooltip-01b3c545.js";import{u as re}from"./useDragToScroll-42566c8e.js";const oe=""+new URL("energy-solar-panel-basic-50867de1.png",import.meta.url).href,de=""+new URL("energy-solar-panel-medium-905ab7eb.png",import.meta.url).href,me=""+new URL("energy-solar-panel-advanced-c947fd28.png",import.meta.url).href,xe=""+new URL("energy-core-damaged-43f3fd4b.png",import.meta.url).href,he=""+new URL("energy-core-stabilized-35d5e644.png",import.meta.url).href,je=""+new URL("energy-core-empowered-a43cb883.png",import.meta.url).href,Ne=""+new URL("fusion-reactor-9d28f766.png",import.meta.url).href,b=({progress:s,time:P})=>e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${s/P*100}%`}})}),fe=ne.memo(({scrap:s,currentEnergy:P,maxEnergy:D,energyConsumption:U,solarPanels:t,mediumSolarPanels:n,advancedSolar:c,energyCores:l,stabilizedEnergyCores:r,empoweredEnergyCores:o,fusionReactors:C,solarPanelsQueue:m,mediumSolarPanelsQueue:x,advancedSolarQueue:h,energyCoresQueue:j,stabilizedEnergyCoresQueue:N,empoweredEnergyCoresQueue:g,fusionReactorQueue:u,onBuildSolarPanel:z,onBuildMediumSolar:O,onBuildAdvancedSolar:S,onBuildEnergyCore:V,onBuildStabilizedEnergyCore:G,onBuildEmpoweredEnergyCore:H,onBuildFusionReactor:J,buyAmount:d,onSetBuyAmount:K,onClose:W,onCancel:p,upgrades:X,metalRefinado:B,numberFormat:ge})=>{const Y=re(),v=F=>{const L=F.filter(I=>I.current<I.amount);return L.length===0?"":"Requiere: "+L.map(I=>`${I.text} (${a(I.amount)})`).join(", ")},$=75,k=200,E=500,R=2e3,M=1e4,y=2e4,i={scrap:1e4,metalRefinado:25},T=F=>Math.floor(s/F),Z=T($),_=T(k),Q=T(E),ee=T(R),se=T(M),ae=T(y),ie=Math.min(Math.floor(s/i.scrap),Math.floor(B/i.metalRefinado)),[w,te]=ce.useState(!0),A=t*3+n*10+c*30+l*50+r*75+o*150+C*250;return e.jsx("div",{className:"energy-view-container",children:e.jsxs("div",{className:"energy-content-area",ref:Y,children:[e.jsx("button",{onClick:W,className:"close-button",children:"×"}),e.jsxs("div",{className:"energy-summary",children:[e.jsxs("div",{className:"summary-header",onClick:()=>te(!w),children:[e.jsx("h3",{style:{color:"#06B6D4"},children:"RESUMEN ENERGÉTICO"}),e.jsx("span",{className:`collapse-arrow ${w?"open":""}`,children:"▶"})]}),w&&e.jsxs("div",{className:"energy-summary-content",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Almacenado:"}),e.jsxs("span",{className:"summary-value",children:[a(P)," / ",a(D)]})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Balance:"}),e.jsxs("span",{className:"summary-value",style:{color:A>=U?"#22C55E":"#EF4444"},children:[(A-U).toFixed(1),"/s"]})]}),e.jsxs("div",{className:"summary-details",children:["(Producción: +",a(A),"/s | Consumo: -",a(U),"/s)"]})]})]}),e.jsx(le,{buyAmount:d,onSetBuyAmount:K}),e.jsxs("div",{className:`energy-item ${s>=$?"unlocked":""}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Básico"}),e.jsxs("p",{children:["Producción: +",a(3)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a($)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",t," | En cola: ",m.queue]}),m.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",m.time,"s | En cola: ",m.queue]}),e.jsx(b,{progress:m.progress,time:m.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(f,{onClick:z,disabled:s<$,tooltipText:v([{amount:$,current:s,text:"Chatarra"}]),className:`build-button ${s>=$?"unlocked":""}`,children:["Encargar Panel Solar ",d==="max"&&`(${Z})`]}),m.queue>0&&e.jsx(q,{itemName:"solarPanels",onCancel:p})]})]}),e.jsx("img",{src:oe,alt:"Panel Solar Básico",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=k&&t>=5?"unlocked":""} ${t>=5?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Medio"}),e.jsxs("p",{children:["Producción: +",a(10)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(k)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",n," | En cola: ",x.queue]}),e.jsx("p",{children:"Requisitos: 5 Paneles Solares Básicos"}),x.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",x.time,"s | En cola: ",x.queue]}),e.jsx(b,{progress:x.progress,time:x.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(f,{onClick:O,disabled:s<k||t<5,tooltipText:v([{amount:k,current:s,text:"Chatarra"},{amount:5,current:t,text:"Paneles Solares Básicos"}]),className:`build-button ${s<k||t<5?"":"unlocked"}`,children:["Encargar Panel Medio ",d==="max"&&`(${_})`]}),x.queue>0&&e.jsx(q,{itemName:"mediumSolarPanels",onCancel:p})]}),t<5&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Paneles Solares Básicos"})]}),e.jsx("img",{src:de,alt:"Panel Solar Medio",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=E&&n>=1?"unlocked":""} ${n>=1?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#06B6D4"},children:"Panel Solar Avanzado"}),e.jsxs("p",{children:["Producción: +",a(30)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(E)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",c," | En cola: ",h.queue]}),e.jsx("p",{children:"Requisitos: 1 Panel Solar Medio"}),h.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",h.time,"s | En cola: ",h.queue]}),e.jsx(b,{progress:h.progress,time:h.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(f,{onClick:S,disabled:s<E||n<1,tooltipText:v([{amount:E,current:s,text:"Chatarra"},{amount:1,current:n,text:"Paneles Solares Medios"}]),className:`build-button ${s>=E&&n>=1?"unlocked":""}`,children:["Encargar Panel Avanzado ",d==="max"&&`(${Q})`]}),h.queue>0&&e.jsx(q,{itemName:"advancedSolar",onCancel:p})]}),n<1&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Panel Solar Medio"})]}),e.jsx("img",{src:me,alt:"Panel Solar Avanzado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=R&&c>=3?"unlocked":""} ${c>=3?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F87171"},children:"Núcleo Energético Averiado"}),e.jsxs("p",{children:["Producción: +",a(50)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(100)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(R)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",l," | En cola: ",j.queue]}),e.jsx("p",{children:"Requisitos: 3 Paneles Solares Avanzados"}),j.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",j.time,"s | En cola: ",j.queue]}),e.jsx(b,{progress:j.progress,time:j.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(f,{onClick:V,disabled:s<R||c<3,tooltipText:v([{amount:R,current:s,text:"Chatarra"},{amount:3,current:c,text:"Paneles Solares Avanzados"}]),className:`build-button ${s>=R&&c>=3?"unlocked":""}`,children:["Encargar Núcleo Averiado ",d==="max"&&`(${ee})`]}),j.queue>0&&e.jsx(q,{itemName:"energyCores",onCancel:p})]}),c<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Paneles Solares Avanzados"})]}),e.jsx("img",{src:xe,alt:"Núcleo Energético Averiado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=M&&l>=3?"unlocked":""} ${l>=3?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#4ADE80"},children:"Núcleo Energético Estabilizado"}),e.jsxs("p",{children:["Producción: +",a(75)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(150)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(M)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",r," | En cola: ",N.queue]}),e.jsx("p",{children:"Requisitos: 3 Núcleos Averiados"}),N.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",N.time,"s | En cola: ",N.queue]}),e.jsx(b,{progress:N.progress,time:N.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(f,{onClick:G,disabled:s<M||l<3,tooltipText:v([{amount:M,current:s,text:"Chatarra"},{amount:3,current:l,text:"Núcleos Averiados"}]),className:`build-button ${s>=M&&l>=3?"unlocked":""}`,children:["Encargar Núcleo Estabilizado ",d==="max"&&`(${se})`]}),N.queue>0&&e.jsx(q,{itemName:"stabilizedEnergyCores",onCancel:p})]}),l<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Núcleos Averiados"})]}),e.jsx("img",{src:he,alt:"Núcleo Energético Estabilizado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=y&&r>=3?"unlocked":""} ${r>=3?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#22C55E"},children:"Núcleo Energético Potenciado"}),e.jsxs("p",{children:["Producción: +",a(150)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(300)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(y)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",o," | En cola: ",g.queue]}),e.jsx("p",{children:"Requisitos: 3 Núcleos Estabilizados"}),g.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",g.time,"s | En cola: ",g.queue]}),e.jsx(b,{progress:g.progress,time:g.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(f,{onClick:H,disabled:s<y||r<3,tooltipText:v([{amount:y,current:s,text:"Chatarra"},{amount:3,current:r,text:"Núcleos Estabilizados"}]),className:`build-button ${s>=y&&r>=3?"unlocked":""}`,children:["Encargar Núcleo Potenciado ",d==="max"&&`(${ae})`]}),g.queue>0&&e.jsx(q,{itemName:"empoweredEnergyCores",onCancel:p})]}),r<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Núcleos Estabilizados"})]}),e.jsx("img",{src:je,alt:"Núcleo Energético Potenciado",className:"energy-item-image"})]}),X.fusionTech>0&&e.jsxs("div",{className:`energy-item ${s>=i.scrap&&B>=i.metalRefinado&&o>=1?"unlocked":""} ${o>=1?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#8B5CF6"},children:"Reactor de Fusión"}),e.jsxs("p",{children:["Producción: +",a(250)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(1e3)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(i.scrap)," Chatarra + ",a(i.metalRefinado)," Metal Refinado"]}),e.jsxs("p",{children:["Construidos: ",C," | En cola: ",u.queue]}),e.jsx("p",{children:"Requisitos: 1 Núcleo Potenciado (anteriormente 10 averiados)"}),u.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",u.time,"s | En cola: ",u.queue]}),e.jsx(b,{progress:u.progress,time:u.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(f,{onClick:J,disabled:s<i.scrap||B<i.metalRefinado||o<1,tooltipText:v([{amount:i.scrap,current:s,text:"Chatarra"},{amount:i.metalRefinado,current:B,text:"Metal Refinado"},{amount:1,current:o,text:"Núcleos Potenciados"}]),className:`build-button ${s>=i.scrap&&B>=i.metalRefinado&&o>=1?"unlocked":""}`,children:["Encargar Reactor de Fusión ",d==="max"&&`(${ie})`]}),u.queue>0&&e.jsx(q,{itemName:"fusionReactor",onCancel:p})]}),o<1&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Núcleo Potenciado"})]}),e.jsx("img",{src:Ne,alt:"Reactor de Fusión",className:"energy-item-image"})]})]})})});export{fe as default};
