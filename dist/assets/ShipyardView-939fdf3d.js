import{R as P,b as T,i as k,j as a,f as o}from"./index-22dcefa4.js";const D=({shipyard:p,vindicator:t,resources:x,researchPoints:b,blueprints:N,onClose:c})=>{const i=T(),l=k[p.currentProjectIndex],j={...x,researchPoints:b,blueprints:N},v={scrap:"Chatarra",metalRefinado:"Metal Refinado",aceroEstructural:"Acero Estructural",placasCasco:"Placas de Casco",cableadoSuperconductor:"Cableado de Superconductores",nucleoSingularidad:"Núcleo de Singularidad",researchPoints:"Puntos de Investigación",aleacionReforzada:"Aleación Reforzada",neuroChipCorrupto:"Neuro-Chip Corrupto",blueprints:"Planos"},A={hull:"Estructura del Casco",powerCore:"Núcleo de Energía",targetingSystem:"Sistemas de Puntería",warpDrive:"Motor de Curvatura",chasisReforzado:"Chasis Reforzado",nucleoSingularidad:"Núcleo de Singularidad Avanzado",sistemaArmamento:'Sistema de Armamento "Devastator"',ensamblajeFinal:"Ensamblaje Final"},C=(s,r)=>{i({type:"DONATE_TO_SHIPYARD",payload:{component:s,resource:r,amount:1}})},y=(s,r)=>{const n=j[r]||0;n>0&&i({type:"DONATE_TO_SHIPYARD",payload:{component:s,resource:r,amount:n}})},g=(s,r)=>{const n=p.progress[s]||{},d=Object.keys(r).every(e=>(n[e]||0)>=r[e]),S=A[s]||s.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());return a.jsxs("div",{className:`component-progress ${d?"completed":""}`,children:[a.jsxs("h3",{className:"component-title",children:[S," ",d&&"✅"]}),Object.keys(r).map(e=>{const m=r[e],h=n[e]||0,u=j[e]||0,E=v[e]||e,R=m-h,O=Math.min(u,R);return a.jsxs("div",{className:"resource-progress",children:[a.jsxs("p",{children:[E,": ",o(h)," / ",o(m)]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar",style:{width:`${Math.min(h/m*100,100)}%`}})}),!d&&a.jsxs("div",{className:"donation-buttons",children:[a.jsx("button",{onClick:()=>C(s,e),disabled:u<1,className:"donate-button",children:"Donar 1"}),a.jsxs("button",{onClick:()=>y(s,e),disabled:u<=0,className:"donate-max-button",children:["Donar MAX (",o(O),")"]})]})]},e)})]},s)};return a.jsx("div",{className:"shipyard-view-container",children:t.vindicatorType==="mk1"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"shipyard-view-header",children:[a.jsx("h2",{children:"ESTADO DEL VINDICATOR"}),a.jsx("button",{onClick:c,className:"close-button",children:"Cerrar"})]}),a.jsxs("div",{className:"shipyard-intro",children:[a.jsx("h3",{children:'VINDICATOR MK.I "ACORAZADO"'}),a.jsx("p",{children:'Aurora: "El nuevo chasis está operativo. Todos los sistemas de combate han sido mejorados a un nuevo estándar. La antigua armería ya no es compatible; he preparado un nuevo sistema de módulos de especialización."'})]}),a.jsxs("div",{className:"mk1-stats-panel",children:[a.jsx("h4",{children:"Estadísticas Base:"}),a.jsxs("p",{children:["Vida del Casco: ",o(t.maxHealth)]}),a.jsxs("p",{children:["Escudo de Energía: ",o(t.maxShield)]}),a.jsxs("p",{children:["Potencia de Fuego: ",o(t.damage)]}),a.jsxs("p",{children:["Habilidad Pasiva: ",a.jsx("strong",{children:"Sobrecarga Reactiva"})]})]}),a.jsxs("div",{className:"mk1-actions",children:[a.jsx("button",{className:"mk1-action-button",onClick:()=>{i({type:"GO_TO_PHASE_2_VIEW",payload:"armory"})},children:"Ir a la Armería MK.I"}),a.jsx("button",{className:"mk1-action-button",onClick:()=>{i({type:"GO_TO_PHASE_2_VIEW",payload:"battleRoom"})},children:"Ir a la Sala de Batalla"})]})]}):l?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"shipyard-view-header",children:[a.jsxs("h2",{children:['ASTILLERO - PROYECTO "',l.name.toUpperCase(),'"']}),a.jsx("button",{onClick:c,className:"close-button",children:"Cerrar"})]}),a.jsx("div",{className:"shipyard-intro",children:a.jsx("p",{children:l.id==="vindicator_base"?`Aurora: "Reconstruir el 'Vindicator' es nuestra única opción. Necesitaremos los materiales avanzados de las expediciones para ensamblar los componentes principales."`:'Aurora: "Es hora de mejorar el Vindicator a la versión Mk.I. Necesitaremos los materiales que hemos conseguido en nuestras batallas para reforzarlo."'})}),Object.entries(l.costs).map(([s,r])=>g(s,r))]}):a.jsxs("div",{className:"shipyard-view-container",children:[a.jsxs("div",{className:"shipyard-view-header",children:[a.jsx("h2",{children:"ASTILLERO"}),a.jsx("button",{onClick:c,className:"close-button",children:"Cerrar"})]}),a.jsx("div",{className:"shipyard-intro",children:a.jsx("p",{children:"¡Todos los proyectos del astillero han sido completados!"})})]})})},f=P.memo(D);export{f as default};
