import{R as re,r as de,j as e,f as a,a as E}from"./index-bd01013b.js";import{B as me,a as k}from"./BotonConTooltip-00fde3ca.js";import{Q as T}from"./QueueControls-2dbc4c6d.js";import{u as xe}from"./useDragToScroll-836d6b51.js";const je=""+new URL("energy-solar-panel-basic-50867de1.png",import.meta.url).href,he=""+new URL("energy-solar-panel-medium-905ab7eb.png",import.meta.url).href,ge=""+new URL("energy-solar-panel-advanced-c947fd28.png",import.meta.url).href,Ne=""+new URL("energy-core-damaged-43f3fd4b.png",import.meta.url).href,pe=""+new URL("energy-core-stabilized-35d5e644.png",import.meta.url).href,qe=""+new URL("energy-core-empowered-a43cb883.png",import.meta.url).href,ve=""+new URL("fusion-reactor-9d28f766.png",import.meta.url).href,y=({progress:s,time:L})=>e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${s/L*100}%`}})}),Te=re.memo(({scrap:s,currentEnergy:L,maxEnergy:G,energyConsumption:S,solarPanels:j,mediumSolarPanels:h,advancedSolar:g,energyCores:N,stabilizedEnergyCores:p,empoweredEnergyCores:q,fusionReactors:O,hasBuilt:c,solarPanelsQueue:t,mediumSolarPanelsQueue:l,advancedSolarQueue:o,energyCoresQueue:r,stabilizedEnergyCoresQueue:d,empoweredEnergyCoresQueue:m,fusionReactorQueue:x,onBuildSolarPanel:H,onBuildMediumSolar:J,onBuildAdvancedSolar:K,onBuildEnergyCore:W,onBuildStabilizedEnergyCore:X,onBuildEmpoweredEnergyCore:Y,onBuildFusionReactor:Z,buyAmount:v,onSetBuyAmount:_,onClose:B,onCancel:$,upgrades:F,metalRefinado:w,numberFormat:i})=>{const Q=xe(),f=(D,oe)=>{const V=D.filter(A=>A.current<A.amount);return V.length===0?"":"Requiere: "+V.map(A=>`${A.text} (${a(A.amount,oe)})`).join(", ")},M=75,R=200,u=500,I=2e3,U=1e4,C=2e4,n={scrap:1e4,metalRefinado:25},P=D=>Math.floor(s/D),ee=P(M),se=P(R),ie=P(u),ce=P(I),ae=P(U),ne=P(C),te=Math.min(Math.floor(s/n.scrap),Math.floor(w/n.metalRefinado)),[z,le]=de.useState(!0),b=j*3+h*10+g*30+N*50+p*75+q*150+O*250;return e.jsx("div",{className:"energy-view-container",children:e.jsxs("div",{className:"energy-content-area",ref:Q,children:[e.jsx("button",{onClick:B,className:"close-button",children:"×"}),e.jsxs("div",{className:"energy-summary",children:[e.jsxs("div",{className:"summary-header",onClick:()=>le(!z),children:[e.jsx("h3",{style:{color:"#06B6D4"},children:"RESUMEN ENERGÉTICO"}),e.jsx("span",{className:`collapse-arrow ${z?"open":""}`,children:"▶"})]}),z&&e.jsxs("div",{className:"energy-summary-content",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Almacenado:"}),e.jsxs("span",{className:"summary-value",children:[a(L,i)," / ",a(G,i)]})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Balance:"}),e.jsxs("span",{className:"summary-value",style:{color:b>=S?"#22C55E":"#EF4444"},children:[(b-S).toFixed(1),"/s"]})]}),e.jsxs("div",{className:"summary-details",children:["(Producción: +",a(b,i),"/s | Consumo: -",a(S,i),"/s)"]})]})]}),e.jsx(me,{buyAmount:v,onSetBuyAmount:_}),e.jsxs("div",{className:`energy-item ${s>=M?"unlocked":""}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Básico"}),e.jsxs("p",{children:["Producción: +",a(3,i)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(M,i)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",j," | En cola: ",t.queue," ",t.queue>0?`| Tiempo: ~${E(t.queue*t.time)}`:""]}),t.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",t.time,"s | En cola: ",t.queue]}),e.jsx(y,{progress:t.progress,time:t.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(k,{onClick:H,disabled:s<M,tooltipText:f([{amount:M,current:s,text:"Chatarra"}],i),className:`build-button ${s>=M?"unlocked":""}`,children:["Encargar Panel Solar ",v==="max"&&`(${ee})`]}),t.queue>0&&e.jsx(T,{itemName:"solarPanels",onCancel:$})]})]}),e.jsx("img",{src:je,alt:"Panel Solar Básico",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=R&&(j>=5||c.mediumSolarPanels)?"unlocked":""} ${j>=5||c.mediumSolarPanels?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Medio"}),e.jsxs("p",{children:["Producción: +",a(10,i)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(R,i)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",h," | En cola: ",l.queue," ",l.queue>0?`| Tiempo: ~${E(l.queue*l.time)}`:""]}),e.jsx("p",{children:"Requisitos: 5 Paneles Solares Básicos (solo para el primero)"}),l.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",l.time,"s | En cola: ",l.queue]}),e.jsx(y,{progress:l.progress,time:l.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(k,{onClick:J,disabled:s<R||j<5&&!c.mediumSolarPanels,tooltipText:f([{amount:R,current:s,text:"Chatarra"},{amount:5,current:j,text:"Paneles Solares Básicos"}],i),className:`build-button ${s>=R&&(j>=5||c.mediumSolarPanels)?"unlocked":""}`,children:["Encargar Panel Medio ",v==="max"&&`(${se})`]}),l.queue>0&&e.jsx(T,{itemName:"mediumSolarPanels",onCancel:$})]}),j<5&&!c.mediumSolarPanels&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Paneles Solares Básicos"})]}),e.jsx("img",{src:he,alt:"Panel Solar Medio",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=u&&(h>=1||c.advancedSolar)?"unlocked":""} ${h>=1||c.advancedSolar?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#06B6D4"},children:"Panel Solar Avanzado"}),e.jsxs("p",{children:["Producción: +",a(30,i)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(u,i)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",g," | En cola: ",o.queue," ",o.queue>0?`| Tiempo: ~${E(o.queue*o.time)}`:""]}),e.jsx("p",{children:"Requisitos: 1 Panel Solar Medio (solo para el primero)"}),o.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",o.time,"s | En cola: ",o.queue]}),e.jsx(y,{progress:o.progress,time:o.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(k,{onClick:K,disabled:s<u||h<1&&!c.advancedSolar,tooltipText:f([{amount:u,current:s,text:"Chatarra"},{amount:1,current:h,text:"Paneles Solares Medios"}],i),className:`build-button ${s>=u&&(h>=1||c.advancedSolar)?"unlocked":""}`,children:["Encargar Panel Avanzado ",v==="max"&&`(${ie})`]}),o.queue>0&&e.jsx(T,{itemName:"advancedSolar",onCancel:$})]}),h<1&&!c.advancedSolar&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Panel Solar Medio"})]}),e.jsx("img",{src:ge,alt:"Panel Solar Avanzado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=I&&(g>=3||c.energyCores)?"unlocked":""} ${g>=3||c.energyCores?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F87171"},children:"Núcleo Energético Averiado"}),e.jsxs("p",{children:["Producción: +",a(50,i)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(100,i)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(I,i)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",N," | En cola: ",r.queue," ",r.queue>0?`| Tiempo: ~${E(r.queue*r.time)}`:""]}),e.jsx("p",{children:"Requisitos: 3 Paneles Solares Avanzados (solo para el primero)"}),r.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",r.time,"s | En cola: ",r.queue]}),e.jsx(y,{progress:r.progress,time:r.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(k,{onClick:W,disabled:s<I||g<3&&!c.energyCores,tooltipText:f([{amount:I,current:s,text:"Chatarra"},{amount:3,current:g,text:"Paneles Solares Avanzados"}],i),className:`build-button ${s>=I&&(g>=3||c.energyCores)?"unlocked":""}`,children:["Encargar Núcleo Averiado ",v==="max"&&`(${ce})`]}),r.queue>0&&e.jsx(T,{itemName:"energyCores",onCancel:$})]}),g<3&&!c.energyCores&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Paneles Solares Avanzados"})]}),e.jsx("img",{src:Ne,alt:"Núcleo Energético Averiado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=U&&(N>=3||c.stabilizedEnergyCores)?"unlocked":""} ${N>=3||c.stabilizedEnergyCores?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#4ADE80"},children:"Núcleo Energético Estabilizado"}),e.jsxs("p",{children:["Producción: +",a(75,i)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(150,i)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(U,i)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",p," | En cola: ",d.queue," ",d.queue>0?`| Tiempo: ~${E(d.queue*d.time)}`:""]}),e.jsx("p",{children:"Requisitos: 3 Núcleos Averiados (solo para el primero)"}),d.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",d.time,"s | En cola: ",d.queue]}),e.jsx(y,{progress:d.progress,time:d.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(k,{onClick:X,disabled:s<U||N<3&&!c.stabilizedEnergyCores,tooltipText:f([{amount:U,current:s,text:"Chatarra"},{amount:3,current:N,text:"Núcleos Averiados"}],i),className:`build-button ${s>=U&&(N>=3||c.stabilizedEnergyCores)?"unlocked":""}`,children:["Encargar Núcleo Estabilizado ",v==="max"&&`(${ae})`]}),d.queue>0&&e.jsx(T,{itemName:"stabilizedEnergyCores",onCancel:$})]}),N<3&&!c.stabilizedEnergyCores&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Núcleos Averiados"})]}),e.jsx("img",{src:pe,alt:"Núcleo Energético Estabilizado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=C&&(p>=3||c.empoweredEnergyCores)?"unlocked":""} ${p>=3||c.empoweredEnergyCores?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#22C55E"},children:"Núcleo Energético Potenciado"}),e.jsxs("p",{children:["Producción: +",a(150,i)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(300,i)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(C,i)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",q," | En cola: ",m.queue," ",m.queue>0?`| Tiempo: ~${E(m.queue*m.time)}`:""]}),e.jsx("p",{children:"Requisitos: 3 Núcleos Estabilizados (solo para el primero)"}),m.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",m.time,"s | En cola: ",m.queue]}),e.jsx(y,{progress:m.progress,time:m.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(k,{onClick:Y,disabled:s<C||p<3&&!c.empoweredEnergyCores,tooltipText:f([{amount:C,current:s,text:"Chatarra"},{amount:3,current:p,text:"Núcleos Estabilizados"}],i),className:`build-button ${s>=C&&(p>=3||c.empoweredEnergyCores)?"unlocked":""}`,children:["Encargar Núcleo Potenciado ",v==="max"&&`(${ne})`]}),m.queue>0&&e.jsx(T,{itemName:"empoweredEnergyCores",onCancel:$})]}),p<3&&!c.empoweredEnergyCores&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Núcleos Estabilizados"})]}),e.jsx("img",{src:qe,alt:"Núcleo Energético Potenciado",className:"energy-item-image"})]}),F.fusionTech>0&&e.jsxs("div",{className:`energy-item ${s>=n.scrap&&w>=n.metalRefinado&&q>=1?"unlocked":""} ${q>=1?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#8B5CF6"},children:"Reactor de Fusión"}),e.jsxs("p",{children:["Producción: +",a(250,i)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(1e3,i)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(n.scrap,i)," Chatarra + ",a(n.metalRefinado,i)," Metal Refinado"]}),e.jsxs("p",{children:["Construidos: ",O," | En cola: ",x.queue," ",x.queue>0?`| Tiempo: ~${E(x.queue*x.time)}`:""]}),e.jsx("p",{children:"Requisitos: 1 Núcleo Potenciado (anteriormente 10 averiados)"}),x.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",x.time,"s | En cola: ",x.queue]}),e.jsx(y,{progress:x.progress,time:x.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(k,{onClick:Z,disabled:s<n.scrap||w<n.metalRefinado||q<1,tooltipText:f([{amount:n.scrap,current:s,text:"Chatarra"},{amount:n.metalRefinado,current:w,text:"Metal Refinado"},{amount:1,current:q,text:"Núcleos Potenciados"}],i),className:`build-button ${s>=n.scrap&&w>=n.metalRefinado&&q>=1?"unlocked":""}`,children:["Encargar Reactor de Fusión ",v==="max"&&`(${te})`]}),x.queue>0&&e.jsx(T,{itemName:"fusionReactor",onCancel:$})]}),q<1&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Núcleo Potenciado"})]}),e.jsx("img",{src:ve,alt:"Reactor de Fusión",className:"energy-item-image"})]})]})})});export{Te as default};
