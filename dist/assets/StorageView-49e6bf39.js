import{R as es,j as s,f as a,g as i}from"./index-5b1e887f.js";import{B as as,Q as A}from"./QueueControls-8003cb5f.js";import{B as M}from"./BotonConTooltip-01b3c545.js";import{u as ts}from"./useDragToScroll-42566c8e.js";const is=""+new URL("storage-basic-41fbd999.png",import.meta.url).href,ns=""+new URL("storage-medium-e68240b8.png",import.meta.url).href,rs=""+new URL("storage-advanced-049817db.png",import.meta.url).href,os=""+new URL("storage-quantum-6aface52.png",import.meta.url).href,cs=""+new URL("battery-lithium-ion-407b0dc1.png",import.meta.url).href,ls=""+new URL("accumulator-plasma-963d6d52.png",import.meta.url).href,ds=""+new URL("harmonic-containment-field-3b46fe0e.png",import.meta.url).href,T=({progress:e,time:t})=>s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar",style:{width:`${e/t*100}%`}})}),ps=es.memo(({scrap:e,metalRefinado:t,aceroEstructural:ms,basicStorage:l,mediumStorage:n,advancedStorage:r,quantumHoardUnit:F,lithiumIonBattery:d,plasmaAccumulator:o,harmonicContainmentField:I,basicStorageQueue:m,mediumStorageQueue:x,advancedStorageQueue:h,quantumHoardUnitQueue:j,lithiumIonBatteryQueue:g,plasmaAccumulatorQueue:p,harmonicContainmentFieldQueue:N,onBuildBasicStorage:P,onBuildMediumStorage:y,onBuildAdvancedStorage:z,onBuildQuantumHoardUnit:V,onBuildLithiumIonBattery:G,onBuildPlasmaAccumulator:H,onBuildHarmonicContainmentField:J,buyAmount:c,onSetBuyAmount:K,onClose:O,onCancel:u})=>{const W=ts(),C=L=>{const D=L.filter($=>$.current<$.amount);return D.length===0?"":"Requiere: "+D.map($=>`${$.text} (${a($.amount)})`).join(", ")},B=i.storage.basicStorage.costs.scrap,w=i.storage.mediumStorage.costs.scrap,q=i.storage.advancedStorage.costs.scrap,f=i.storage.quantumHoardUnit.costs.scrap,v=i.storage.quantumHoardUnit.costs.metalRefinado,U=i.storage.lithiumIonBattery.costs.scrap,R=i.storage.plasmaAccumulator.costs.scrap,E=i.storage.harmonicContainmentField.costs.scrap,b=i.storage.harmonicContainmentField.costs.metalRefinado,k=L=>{const D=L.scrap?Math.floor(e/L.scrap):1/0,$=L.metalRefinado?Math.floor(t/L.metalRefinado):1/0;return Math.min(D,$)},X=k({scrap:B}),Y=k({scrap:w}),Z=k({scrap:q}),_=k({scrap:f,metalRefinado:v}),S=k({scrap:U}),Q=k({scrap:R}),ss=k({scrap:E,metalRefinado:b});return s.jsx("div",{className:"storage-view-container",children:s.jsxs("div",{className:"storage-content-area",ref:W,children:[s.jsx("button",{onClick:O,className:"close-button",children:"×"}),s.jsx(as,{buyAmount:c,onSetBuyAmount:K}),s.jsxs("div",{className:`storage-item ${e>=B?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#F59E0B"},children:"Almacén Básico"}),s.jsxs("p",{children:["Capacidad: +",a(50)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(B)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",l," | En cola: ",m.queue]}),m.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",m.time,"s | En cola: ",m.queue]}),s.jsx(T,{progress:m.progress,time:m.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(M,{onClick:P,disabled:e<B,tooltipText:C([{amount:B,current:e,text:"Chatarra"}]),className:`build-button ${e>=B?"unlocked":""}`,children:["Encargar Almacén Básico ",c==="max"&&`(${X})`]}),m.queue>0&&s.jsx(A,{itemName:"basicStorage",onCancel:u})]})]}),s.jsx("img",{src:is,alt:"Almacén Básico",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=w&&l>=3?"unlocked":""} ${l>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#22C55E"},children:"Almacén Medio"}),s.jsxs("p",{children:["Capacidad: +",a(500)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(w)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",n," | En cola: ",x.queue]}),s.jsx("p",{children:"Requisitos: 3 Almacenes Básicos"}),x.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",x.time,"s | En cola: ",x.queue]}),s.jsx(T,{progress:x.progress,time:x.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(M,{onClick:y,disabled:e<w||l<3,tooltipText:C([{amount:w,current:e,text:"Chatarra"},{amount:3,current:l,text:"Almacenes Básicos"}]),className:`build-button ${e>=w&&l>=3?"unlocked":""}`,children:["Encargar Almacén Medio ",c==="max"&&`(${Y})`]}),x.queue>0&&s.jsx(A,{itemName:"mediumStorage",onCancel:u})]}),l<3&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Almacenes Básicos"})]}),s.jsx("img",{src:ns,alt:"Almacén Medio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=q&&n>=1?"unlocked":""} ${n>=1?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Almacén Avanzado"}),s.jsxs("p",{children:["Capacidad: +",a(5e3)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(q)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",r," | En cola: ",h.queue]}),s.jsx("p",{children:"Requisitos: 1 Almacén Medio"}),h.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",h.time,"s | En cola: ",h.queue]}),s.jsx(T,{progress:h.progress,time:h.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(M,{onClick:z,disabled:e<q||n<1,tooltipText:C([{amount:q,current:e,text:"Chatarra"},{amount:1,current:n,text:"Almacenes Medios"}]),className:`build-button ${e>=q&&n>=1?"unlocked":""}`,style:{backgroundColor:e>=q&&n>=1?"#D946EF":"#9CA3AF"},children:["Encargar Almacén Avanzado ",c==="max"&&`(${Z})`]}),h.queue>0&&s.jsx(A,{itemName:"advancedStorage",onCancel:u})]}),n<1&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Almacén Medio"})]}),s.jsx("img",{src:rs,alt:"Almacén Avanzado",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=f&&t>=v&&r>=3?"unlocked":""} ${r>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Unidad de Acopio Cuántico"}),s.jsxs("p",{children:["Capacidad: +",a(5e4)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",a(f)," chatarra y ",a(v)," metal refinado"]}),s.jsxs("p",{children:["Construidos: ",F," | En cola: ",j.queue]}),s.jsx("p",{children:"Requisitos: 3 Almacenes Avanzados"}),j.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",j.time,"s | En cola: ",j.queue]}),s.jsx(T,{progress:j.progress,time:j.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(M,{onClick:V,disabled:e<f||t<v||r<3,tooltipText:C([{amount:f,current:e,text:"Chatarra"},{amount:v,current:t,text:"Metal Refinado"},{amount:3,current:r,text:"Almacenes Avanzados"}]),className:`build-button ${e>=f&&t>=v&&r>=3?"unlocked":""}`,style:{backgroundColor:e>=f&&t>=v&&r>=3?"#D946EF":"#9CA3AF"},children:["Encargar Acopio Cuántico ",c==="max"&&`(${_})`]}),j.queue>0&&s.jsx(A,{itemName:"quantumHoardUnit",onCancel:u})]}),r<3&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Almacenes Avanzados"})]}),s.jsx("img",{src:os,alt:"Unidad de Acopio Cuántico",className:"storage-item-image"})]}),s.jsx("h3",{style:{borderBottom:"2px solid #06B6D4",paddingBottom:"0.5rem",marginTop:"3rem"},children:"Almacenamiento de Energía"}),s.jsxs("div",{className:`storage-item ${e>=U?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Batería de Iones de Litio"}),s.jsxs("p",{children:["Capacidad: +",a(50)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",a(U)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",d," | En cola: ",g.queue]}),g.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",g.time,"s | En cola: ",g.queue]}),s.jsx(T,{progress:g.progress,time:g.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(M,{onClick:G,disabled:e<U,tooltipText:C([{amount:U,current:e,text:"Chatarra"}]),className:`build-button ${e>=U?"unlocked":""}`,children:["Encargar Batería ",c==="max"&&`(${S})`]}),g.queue>0&&s.jsx(A,{itemName:"lithiumIonBattery",onCancel:u})]})]}),s.jsx("img",{src:cs,alt:"Batería de Iones de Litio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=R&&d>=5?"unlocked":""} ${d>=5?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Acumulador de Plasma"}),s.jsxs("p",{children:["Capacidad: +",a(250)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",a(R)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",o," | En cola: ",p.queue]}),s.jsx("p",{children:"Requisitos: 5 Baterías de Iones de Litio"}),p.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",p.time,"s | En cola: ",p.queue]}),s.jsx(T,{progress:p.progress,time:p.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(M,{onClick:H,disabled:e<R||d<5,tooltipText:C([{amount:R,current:e,text:"Chatarra"},{amount:5,current:d,text:"Baterías de Iones de Litio"}]),className:`build-button ${e>=R&&d>=5?"unlocked":""}`,children:["Encargar Acumulador ",c==="max"&&`(${Q})`]}),p.queue>0&&s.jsx(A,{itemName:"plasmaAccumulator",onCancel:u})]}),d<5&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Baterías de Iones de Litio"})]}),s.jsx("img",{src:ls,alt:"Acumulador de Plasma",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=E&&t>=b&&o>=3?"unlocked":""} ${o>=3?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Campo de Contención Armónico"}),s.jsxs("p",{children:["Capacidad: +",a(1200)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",a(E)," chatarra y ",a(b)," metal refinado"]}),s.jsxs("p",{children:["Construidos: ",I," | En cola: ",N.queue]}),s.jsx("p",{children:"Requisitos: 3 Acumuladores de Plasma"}),N.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",N.time,"s | En cola: ",N.queue]}),s.jsx(T,{progress:N.progress,time:N.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(M,{onClick:J,disabled:e<E||t<b||o<3,tooltipText:C([{amount:E,current:e,text:"Chatarra"},{amount:b,current:t,text:"Metal Refinado"},{amount:3,current:o,text:"Acumuladores de Plasma"}]),className:`build-button ${e>=E&&t>=b&&o>=3?"unlocked":""}`,style:{backgroundColor:e>=E&&t>=b&&o>=3?"#D946EF":"#9CA3AF"},children:["Encargar Campo de Contención ",c==="max"&&`(${ss})`]}),N.queue>0&&s.jsx(A,{itemName:"harmonicContainmentField",onCancel:u})]}),o<3&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Acumuladores de Plasma"})]}),s.jsx("img",{src:ds,alt:"Campo de Contención Armónico",className:"storage-item-image"})]})]})})});export{ps as default};
