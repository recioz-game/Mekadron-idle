import{R,c as M,q as k,j as a,t as z,f as d}from"./index-18808fcb.js";import{u as P}from"./useDragToScroll-43b99b71.js";const T=({shipyard:m,resources:j,researchPoints:v,blueprints:x,onClose:b})=>{const p=M(),A=P(),t=k[m.currentProjectIndex],u={...j,researchPoints:v,blueprints:x},g={hull:"Estructura del Casco",powerCore:"Núcleo de Energía",targetingSystem:"Sistemas de Puntería",warpDrive:"Motor de Curvatura",chasisReforzado:"Chasis Reforzado",nucleoSingularidad:"Núcleo de Singularidad Avanzado",sistemaArmamento:'Sistema de Armamento "Devastator"',ensamblajeFinal:"Ensamblaje Final",chasisDeSigilo:"Chasis de Sigilo",motorDeManiobraAvanzado:"Motor de Maniobra Avanzado",sistemaDeCamuflajeEspectral:"Sistema de Camuflaje Espectral",cascoDeEspectro:"Casco de Espectro",nucleoDelVacio:"Núcleo del Vacío",modulosDeCorrupcion:"Módulos de Corrupción",chasisEspectral:"Chasis Espectral",sincronizadorFantasmal:"Sincronizador Fantasmal",armamentoDeFase:"Armamento de Fase",blindajeDeCiudadela:"Blindaje de Ciudadela",matrizDeOverlord:"Matriz de Overlord",sistemasDeArmasDefinitivos:"Sistemas de Armas Definitivos"},C={vindicator_base:`Aurora: "Reconstruir el 'Vindicator' es nuestra única opción. Necesitaremos los materiales avanzados de las expediciones para ensamblar los componentes principales."`,vindicator_mk1:'Aurora: "Es hora de mejorar el Vindicator a la versión Mk.I. Necesitaremos los materiales que hemos conseguido en nuestras batallas para reforzarlo."',vindicator_mk2_interceptor:'Aurora: "Hemos conseguido los planos del Interceptor. Con esta tecnología de sigilo y maniobra, seremos imparables."',vindicator_mk7_wraith:`Aurora: "Esta tecnología es... diferente. Parece alimentarse del vacío mismo. El 'Wraith' será una leyenda, o nuestra perdición."`,vindicator_mk8_phantom:`Aurora: "Si el 'Wraith' caminaba por el vacío, el 'Phantom' es el vacío mismo. Esta nave podría ser la clave para acabar con las flotas fantasma."`,vindicator_mk9_apex:`Aurora: "Hemos llegado al final. La tecnología de la Ciudadela es nuestra. Con el 'Apex', reclamaremos el futuro. Por todos nosotros."`},D=(s,o)=>{p({type:"DONATE_TO_SHIPYARD",payload:{component:s,resource:o,amount:1}})},N=(s,o)=>{const r=u[o]||0;r>0&&p({type:"DONATE_TO_SHIPYARD",payload:{component:s,resource:o,amount:r}})},y=(s,o)=>{const r=m.progress[s]||{},n=Object.keys(o).every(e=>(r[e]||0)>=o[e]),f=g[s]||s.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());return a.jsxs("div",{className:`component-progress ${n?"completed":""}`,children:[a.jsxs("h3",{className:"component-title",children:[f," ",n&&"✅"]}),Object.keys(o).map(e=>{var h;const i=o[e],l=r[e]||0,c=u[e]||0,S=((h=z[e])==null?void 0:h.name)||e.replace(/([A-Z])/g," $1").replace(/^./,O=>O.toUpperCase()),E=i-l,_=Math.min(c,E);return a.jsxs("div",{className:"resource-progress",children:[a.jsxs("p",{children:[S,": ",d(l)," / ",d(i)]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar",style:{width:`${Math.min(l/i*100,100)}%`}})}),!n&&a.jsxs("div",{className:"donation-buttons",children:[a.jsx("button",{onClick:()=>D(s,e),disabled:c<1,className:"donate-button",children:"Donar 1"}),a.jsxs("button",{onClick:()=>N(s,e),disabled:c<=0,className:"donate-max-button",children:["Donar MAX (",d(_),")"]})]})]},e)})]},s)};return a.jsx("div",{className:"shipyard-view-container",children:a.jsxs("div",{className:"shipyard-content-area",ref:A,children:[a.jsx("button",{onClick:b,className:"close-button",children:"×"}),t?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"shipyard-intro",children:[a.jsxs("h2",{className:"shipyard-project-title",children:['ASTILLERO - PROYECTO "',t.name.toUpperCase(),'"']}),a.jsx("p",{children:C[t.id]||"Iniciando nuevo proyecto..."})]}),Object.entries(t.costs).map(([s,o])=>y(s,o))]}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"shipyard-intro",children:[a.jsx("h2",{className:"shipyard-project-title",children:"ASTILLERO"}),a.jsx("p",{children:"¡Todos los proyectos del astillero han sido completados!"})]})})]})})},V=R.memo(T);export{V as default};
