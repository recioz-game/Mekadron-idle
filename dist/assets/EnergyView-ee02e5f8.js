import{R as X,j as e,f as a}from"./index-22dcefa4.js";import{B as Y}from"./BuyAmountSelector-eff27179.js";import{B as u}from"./BotonConTooltip-fa0a09a1.js";import{Q as g}from"./QueueControls-cd01b480.js";const Z="/Mekadron-idle/assets/energy-solar-panel-basic-50867de1.png",_="/Mekadron-idle/assets/energy-solar-panel-medium-905ab7eb.png",Q="/Mekadron-idle/assets/energy-solar-panel-advanced-c947fd28.png",ee="/Mekadron-idle/assets/energy-core-damaged-43f3fd4b.png",se="/Mekadron-idle/assets/energy-core-stabilized-35d5e644.png",ae="/Mekadron-idle/assets/energy-core-empowered-a43cb883.png",ne="/Mekadron-idle/assets/fusion-reactor-9d28f766.png",ge=X.memo(({scrap:s,currentEnergy:R,maxEnergy:S,energyConsumption:C,solarPanels:o,mediumSolarPanels:t,advancedSolar:r,energyCores:i,stabilizedEnergyCores:l,empoweredEnergyCores:c,fusionReactors:E,solarPanelsQueue:v,mediumSolarPanelsQueue:k,advancedSolarQueue:b,energyCoresQueue:M,stabilizedEnergyCoresQueue:P,empoweredEnergyCoresQueue:$,fusionReactorQueue:f,onBuildSolarPanel:B,onBuildMediumSolar:z,onBuildAdvancedSolar:I,onBuildEnergyCore:w,onBuildStabilizedEnergyCore:T,onBuildEmpoweredEnergyCore:A,onBuildFusionReactor:F,buyAmount:d,onSetBuyAmount:D,onClose:G,onCancel:m,upgrades:O,metalRefinado:j})=>{const x=y=>{const q=y.filter(N=>N.current<N.amount);return q.length===0?"":"Requiere: "+q.map(N=>`${N.text} (${a(N.amount)})`).join(", ")},n={scrap:1e4,metalRefinado:25},h=y=>Math.floor(s/y),U=h(50),V=h(200),L=h(500),H=h(2e3),J=h(1e4),K=h(2e4),W=Math.min(Math.floor(s/n.scrap),Math.floor(j/n.metalRefinado)),p=o*3+t*10+r*30+i*50+l*75+c*150+E*250;return e.jsxs("div",{className:"energy-view-container",children:[e.jsxs("div",{className:"energy-view-header",children:[e.jsx("h2",{children:"MÓDULO DE ENERGÍA"}),e.jsx("button",{onClick:G,className:"close-button",children:"Cerrar"})]}),e.jsxs("div",{className:"energy-summary",children:[e.jsx("h3",{style:{color:"#06B6D4"},children:"RESUMEN ENERGÉTICO"}),e.jsxs("div",{className:"energy-summary-content",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Almacenado:"}),e.jsxs("span",{className:"summary-value",children:[a(R)," / ",a(S)]})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Balance:"}),e.jsxs("span",{className:"summary-value",style:{color:p>=C?"#22C55E":"#EF4444"},children:[(p-C).toFixed(1),"/s"]})]}),e.jsxs("div",{className:"summary-details",children:["(Producción: +",a(p),"/s | Consumo: -",a(C),"/s)"]})]})]}),e.jsx(Y,{buyAmount:d,onSetBuyAmount:D}),e.jsxs("div",{className:`energy-item ${s>=50?"unlocked":""}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Básico"}),e.jsxs("p",{children:["Producción: +",a(3)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(50)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",o," | En cola: ",v.queue]}),e.jsx(g,{queue:v,itemName:"solarPanels",onCancel:m}),e.jsxs(u,{onClick:B,disabled:s<50,tooltipText:x([{amount:50,current:s,text:"Chatarra"}]),className:`build-button ${s>=50?"unlocked":""}`,children:["Encargar Panel Solar ",d==="max"&&`(${U})`]})]}),e.jsx("img",{src:Z,alt:"Panel Solar Básico",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=200&&o>=5?"unlocked":""} ${o>=5?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"Panel Solar Medio"}),e.jsxs("p",{children:["Producción: +",a(10)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(200)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",t," | En cola: ",k.queue]}),e.jsx(g,{queue:k,itemName:"mediumSolarPanels",onCancel:m}),e.jsx("p",{children:"Requisitos: 5 Paneles Solares Básicos"}),e.jsxs(u,{onClick:z,disabled:s<200||o<5,tooltipText:x([{amount:200,current:s,text:"Chatarra"},{amount:5,current:o,text:"Paneles Solares Básicos"}]),className:`build-button ${s>=200&&o>=5?"unlocked":""}`,children:["Encargar Panel Medio ",d==="max"&&`(${V})`]}),o<5&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Paneles Solares Básicos"})]}),e.jsx("img",{src:_,alt:"Panel Solar Medio",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=500&&t>=1?"unlocked":""} ${t>=1?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#06B6D4"},children:"Panel Solar Avanzado"}),e.jsxs("p",{children:["Producción: +",a(30)," energía/segundo"]}),e.jsxs("p",{children:["Coste: ",a(500)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",r," | En cola: ",b.queue]}),e.jsx(g,{queue:b,itemName:"advancedSolar",onCancel:m}),e.jsx("p",{children:"Requisitos: 1 Panel Solar Medio"}),e.jsxs(u,{onClick:I,disabled:s<500||t<1,tooltipText:x([{amount:500,current:s,text:"Chatarra"},{amount:1,current:t,text:"Paneles Solares Medios"}]),className:`build-button ${s>=500&&t>=1?"unlocked":""}`,children:["Encargar Panel Avanzado ",d==="max"&&`(${L})`]}),t<1&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Panel Solar Medio"})]}),e.jsx("img",{src:Q,alt:"Panel Solar Avanzado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=2e3&&r>=3?"unlocked":""} ${r>=3?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#F87171"},children:"Núcleo Energético Averiado"}),e.jsxs("p",{children:["Producción: +",a(50)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(100)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(2e3)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",i," | En cola: ",M.queue]}),e.jsx(g,{queue:M,itemName:"energyCores",onCancel:m}),e.jsx("p",{children:"Requisitos: 3 Paneles Solares Avanzados"}),e.jsxs(u,{onClick:w,disabled:s<2e3||r<3,tooltipText:x([{amount:2e3,current:s,text:"Chatarra"},{amount:3,current:r,text:"Paneles Solares Avanzados"}]),className:`build-button ${s>=2e3&&r>=3?"unlocked":""}`,children:["Encargar Núcleo Averiado ",d==="max"&&`(${H})`]}),r<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Paneles Solares Avanzados"})]}),e.jsx("img",{src:ee,alt:"Núcleo Energético Averiado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=1e4&&i>=3?"unlocked":""} ${i>=3?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#4ADE80"},children:"Núcleo Energético Estabilizado"}),e.jsxs("p",{children:["Producción: +",a(75)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(150)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(1e4)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",l," | En cola: ",P.queue]}),e.jsx(g,{queue:P,itemName:"stabilizedEnergyCores",onCancel:m}),e.jsx("p",{children:"Requisitos: 3 Núcleos Averiados"}),e.jsxs(u,{onClick:T,disabled:s<1e4||i<3,tooltipText:x([{amount:1e4,current:s,text:"Chatarra"},{amount:3,current:i,text:"Núcleos Averiados"}]),className:`build-button ${s>=1e4&&i>=3?"unlocked":""}`,children:["Encargar Núcleo Estabilizado ",d==="max"&&`(${J})`]}),i<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Núcleos Averiados"})]}),e.jsx("img",{src:se,alt:"Núcleo Energético Estabilizado",className:"energy-item-image"})]}),e.jsxs("div",{className:`energy-item ${s>=2e4&&l>=3?"unlocked":""} ${l>=3?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#22C55E"},children:"Núcleo Energético Potenciado"}),e.jsxs("p",{children:["Producción: +",a(150)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(300)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(2e4)," chatarra"]}),e.jsxs("p",{children:["Instalados: ",c," | En cola: ",$.queue]}),e.jsx(g,{queue:$,itemName:"empoweredEnergyCores",onCancel:m}),e.jsx("p",{children:"Requisitos: 3 Núcleos Estabilizados"}),e.jsxs(u,{onClick:A,disabled:s<2e4||l<3,tooltipText:x([{amount:2e4,current:s,text:"Chatarra"},{amount:3,current:l,text:"Núcleos Estabilizados"}]),className:`build-button ${s>=2e4&&l>=3?"unlocked":""}`,children:["Encargar Núcleo Potenciado ",d==="max"&&`(${K})`]}),l<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Núcleos Estabilizados"})]}),e.jsx("img",{src:ae,alt:"Núcleo Energético Potenciado",className:"energy-item-image"}),"En"]}),O.fusionTech>0&&e.jsxs("div",{className:`energy-item ${s>=n.scrap&&j>=n.metalRefinado&&c>=1?"unlocked":""} ${c>=1?"":"locked"}`,children:[e.jsxs("div",{className:"energy-item-content",children:[e.jsx("h3",{style:{color:"#8B5CF6"},children:"Reactor de Fusión"}),e.jsxs("p",{children:["Producción: +",a(250)," energía/segundo"]}),e.jsxs("p",{children:["Capacidad: +",a(1e3)," energía máxima"]}),e.jsxs("p",{children:["Coste: ",a(n.scrap)," Chatarra + ",a(n.metalRefinado)," Metal Refinado"]}),e.jsxs("p",{children:["Construidos: ",E," | En cola: ",f.queue]}),e.jsx(g,{queue:f,itemName:"fusionReactor",onCancel:m}),e.jsx("p",{children:"Requisitos: 1 Núcleo Potenciado (anteriormente 10 averiados)"}),e.jsxs(u,{onClick:F,disabled:s<n.scrap||j<n.metalRefinado||c<1,tooltipText:x([{amount:n.scrap,current:s,text:"Chatarra"},{amount:n.metalRefinado,current:j,text:"Metal Refinado"},{amount:1,current:c,text:"Núcleos Potenciados"}]),className:`build-button ${s>=n.scrap&&j<n.metalRefinado&&c>=1?"unlocked":""}`,children:["Encargar Reactor de Fusión ",d==="max"&&`(${W})`]}),c<1&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Núcleo Potenciado"})]}),e.jsx("img",{src:ne,alt:"Reactor de Fusión",className:"energy-item-image"})]})]})});export{ge as default};
