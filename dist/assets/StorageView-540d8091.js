import{R as os,j as s,f as t,a as U,g as j}from"./index-bd01013b.js";import{B as ns,a as w}from"./BotonConTooltip-00fde3ca.js";import{Q as R}from"./QueueControls-2dbc4c6d.js";import{u as cs}from"./useDragToScroll-836d6b51.js";const rs=""+new URL("storage-basic-41fbd999.png",import.meta.url).href,ls=""+new URL("storage-medium-e68240b8.png",import.meta.url).href,ds=""+new URL("storage-advanced-049817db.png",import.meta.url).href,ms=""+new URL("storage-quantum-6aface52.png",import.meta.url).href,xs=""+new URL("battery-lithium-ion-407b0dc1.png",import.meta.url).href,js=""+new URL("accumulator-plasma-963d6d52.png",import.meta.url).href,ps=""+new URL("harmonic-containment-field-3b46fe0e.png",import.meta.url).href,L=({progress:e,time:o})=>s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar",style:{width:`${e/o*100}%`}})}),$s=os.memo(({scrap:e,metalRefinado:o,aceroEstructural:hs,basicStorage:C,mediumStorage:p,advancedStorage:h,quantumHoardUnit:V,lithiumIonBattery:q,plasmaAccumulator:g,harmonicContainmentField:G,hasBuilt:a,basicStorageQueue:n,mediumStorageQueue:c,advancedStorageQueue:r,quantumHoardUnitQueue:l,lithiumIonBatteryQueue:d,plasmaAccumulatorQueue:m,harmonicContainmentFieldQueue:x,onBuildBasicStorage:J,onBuildMediumStorage:K,onBuildAdvancedStorage:O,onBuildQuantumHoardUnit:W,onBuildLithiumIonBattery:X,onBuildPlasmaAccumulator:Y,onBuildHarmonicContainmentField:Z,buyAmount:N,onSetBuyAmount:_,onClose:F,onCancel:$,numberFormat:i})=>{const B=cs(),f=(z,H)=>{const y=z.filter(I=>I.current<I.amount);return y.length===0?"":"Requiere: "+y.map(I=>`${I.text} (${t(I.amount,H)})`).join(", ")},D=j.storage.basicStorage.costs.scrap,u=j.storage.mediumStorage.costs.scrap,v=j.storage.advancedStorage.costs.scrap,E=j.storage.quantumHoardUnit.costs.scrap,A=j.storage.quantumHoardUnit.costs.metalRefinado,P=j.storage.lithiumIonBattery.costs.scrap,b=j.storage.plasmaAccumulator.costs.scrap,k=j.storage.harmonicContainmentField.costs.scrap,T=j.storage.harmonicContainmentField.costs.metalRefinado,M=z=>{const H=z.scrap?Math.floor(e/z.scrap):1/0,y=z.metalRefinado?Math.floor(o/z.metalRefinado):1/0;return Math.min(H,y)},S=M({scrap:D}),Q=M({scrap:u}),ss=M({scrap:v}),es=M({scrap:E,metalRefinado:A}),as=M({scrap:P}),is=M({scrap:b}),ts=M({scrap:k,metalRefinado:T});return s.jsx("div",{className:"storage-view-container",children:s.jsxs("div",{className:"storage-content-area",ref:B,children:[s.jsx("button",{onClick:F,className:"close-button",children:"×"}),s.jsx(ns,{buyAmount:N,onSetBuyAmount:_}),s.jsxs("div",{className:`storage-item ${e>=D?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#F59E0B"},children:"Almacén Básico"}),s.jsxs("p",{children:["Capacidad: +",t(50,i)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",t(D,i)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",C," | En cola: ",n.queue," ",n.queue>0?`| Tiempo: ~${U(n.queue*n.time)}`:""]}),n.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",n.time,"s | En cola: ",n.queue]}),s.jsx(L,{progress:n.progress,time:n.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(w,{onClick:J,disabled:e<D,tooltipText:f([{amount:D,current:e,text:"Chatarra"}],i),className:`build-button ${e>=D?"unlocked":""}`,children:["Encargar Almacén Básico ",N==="max"&&`(${S})`]}),n.queue>0&&s.jsx(R,{itemName:"basicStorage",onCancel:$})]})]}),s.jsx("img",{src:rs,alt:"Almacén Básico",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=u&&(C>=3||a.mediumStorage)?"unlocked":""} ${C>=3||a.mediumStorage?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#22C55E"},children:"Almacén Medio"}),s.jsxs("p",{children:["Capacidad: +",t(500,i)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",t(u,i)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",p," | En cola: ",c.queue," ",c.queue>0?`| Tiempo: ~${U(c.queue*c.time)}`:""]}),s.jsx("p",{children:"Requisitos: 3 Almacenes Básicos (solo para el primero)"}),c.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",c.time,"s | En cola: ",c.queue]}),s.jsx(L,{progress:c.progress,time:c.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(w,{onClick:K,disabled:e<u||C<3&&!a.mediumStorage,tooltipText:f([{amount:u,current:e,text:"Chatarra"},{amount:3,current:C,text:"Almacenes Básicos"}],i),className:`build-button ${e>=u&&(C>=3||a.mediumStorage)?"unlocked":""}`,children:["Encargar Almacén Medio ",N==="max"&&`(${Q})`]}),c.queue>0&&s.jsx(R,{itemName:"mediumStorage",onCancel:$})]}),C<3&&!a.mediumStorage&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Almacenes Básicos"})]}),s.jsx("img",{src:ls,alt:"Almacén Medio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=v&&(p>=1||a.advancedStorage)?"unlocked":""} ${p>=1||a.advancedStorage?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Almacén Avanzado"}),s.jsxs("p",{children:["Capacidad: +",t(5e3,i)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",t(v,i)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",h," | En cola: ",r.queue," ",r.queue>0?`| Tiempo: ~${U(r.queue*r.time)}`:""]}),s.jsx("p",{children:"Requisitos: 1 Almacén Medio (solo para el primero)"}),r.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",r.time,"s | En cola: ",r.queue]}),s.jsx(L,{progress:r.progress,time:r.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(w,{onClick:O,disabled:e<v||p<1&&!a.advancedStorage,tooltipText:f([{amount:v,current:e,text:"Chatarra"},{amount:1,current:p,text:"Almacenes Medios"}],i),className:`build-button ${e>=v&&(p>=1||a.advancedStorage)?"unlocked":""}`,style:{backgroundColor:e>=v&&(p>=1||a.advancedStorage)?"#D946EF":"#9CA3AF"},children:["Encargar Almacén Avanzado ",N==="max"&&`(${ss})`]}),r.queue>0&&s.jsx(R,{itemName:"advancedStorage",onCancel:$})]}),p<1&&!a.advancedStorage&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 1 Almacén Medio"})]}),s.jsx("img",{src:ds,alt:"Almacén Avanzado",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=E&&o>=A&&(h>=3||a.quantumHoardUnit)?"unlocked":""} ${h>=3||a.quantumHoardUnit?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Unidad de Acopio Cuántico"}),s.jsxs("p",{children:["Capacidad: +",t(5e4,i)," chatarra máxima"]}),s.jsxs("p",{children:["Coste: ",t(E,i)," chatarra y ",t(A,i)," metal refinado"]}),s.jsxs("p",{children:["Construidos: ",V," | En cola: ",l.queue," ",l.queue>0?`| Tiempo: ~${U(l.queue*l.time)}`:""]}),s.jsx("p",{children:"Requisitos: 3 Almacenes Avanzados (solo para el primero)"}),l.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",l.time,"s | En cola: ",l.queue]}),s.jsx(L,{progress:l.progress,time:l.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(w,{onClick:W,disabled:e<E||o<A||h<3&&!a.quantumHoardUnit,tooltipText:f([{amount:E,current:e,text:"Chatarra"},{amount:A,current:o,text:"Metal Refinado"},{amount:3,current:h,text:"Almacenes Avanzados"}],i),className:`build-button ${e>=E&&o>=A&&(h>=3||a.quantumHoardUnit)?"unlocked":""}`,style:{backgroundColor:e>=E&&o>=A&&(h>=3||a.quantumHoardUnit)?"#D946EF":"#9CA3AF"},children:["Encargar Acopio Cuántico ",N==="max"&&`(${es})`]}),l.queue>0&&s.jsx(R,{itemName:"quantumHoardUnit",onCancel:$})]}),h<3&&!a.quantumHoardUnit&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Almacenes Avanzados"})]}),s.jsx("img",{src:ms,alt:"Unidad de Acopio Cuántico",className:"storage-item-image"})]}),s.jsx("h3",{style:{borderBottom:"2px solid #06B6D4",paddingBottom:"0.5rem",marginTop:"3rem"},children:"Almacenamiento de Energía"}),s.jsxs("div",{className:`storage-item ${e>=P?"unlocked":""}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Batería de Iones de Litio"}),s.jsxs("p",{children:["Capacidad: +",t(50,i)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",t(P,i)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",q," | En cola: ",d.queue," ",d.queue>0?`| Tiempo: ~${U(d.queue*d.time)}`:""]}),d.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",d.time,"s | En cola: ",d.queue]}),s.jsx(L,{progress:d.progress,time:d.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(w,{onClick:X,disabled:e<P,tooltipText:f([{amount:P,current:e,text:"Chatarra"}],i),className:`build-button ${e>=P?"unlocked":""}`,children:["Encargar Batería ",N==="max"&&`(${as})`]}),d.queue>0&&s.jsx(R,{itemName:"lithiumIonBattery",onCancel:$})]})]}),s.jsx("img",{src:xs,alt:"Batería de Iones de Litio",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=b&&(q>=5||a.plasmaAccumulator)?"unlocked":""} ${q>=5||a.plasmaAccumulator?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#06B6D4"},children:"Acumulador de Plasma"}),s.jsxs("p",{children:["Capacidad: +",t(250,i)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",t(b,i)," chatarra"]}),s.jsxs("p",{children:["Construidos: ",g," | En cola: ",m.queue," ",m.queue>0?`| Tiempo: ~${U(m.queue*m.time)}`:""]}),s.jsx("p",{children:"Requisitos: 5 Baterías de Iones de Litio (solo para el primero)"}),m.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",m.time,"s | En cola: ",m.queue]}),s.jsx(L,{progress:m.progress,time:m.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(w,{onClick:Y,disabled:e<b||q<5&&!a.plasmaAccumulator,tooltipText:f([{amount:b,current:e,text:"Chatarra"},{amount:5,current:q,text:"Baterías de Iones de Litio"}],i),className:`build-button ${e>=b&&(q>=5||a.plasmaAccumulator)?"unlocked":""}`,children:["Encargar Acumulador ",N==="max"&&`(${is})`]}),m.queue>0&&s.jsx(R,{itemName:"plasmaAccumulator",onCancel:$})]}),q<5&&!a.plasmaAccumulator&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Baterías de Iones de Litio"})]}),s.jsx("img",{src:js,alt:"Acumulador de Plasma",className:"storage-item-image"})]}),s.jsxs("div",{className:`storage-item ${e>=k&&o>=T&&(g>=3||a.harmonicContainmentField)?"unlocked":""} ${g>=3||a.harmonicContainmentField?"":"locked"}`,children:[s.jsxs("div",{className:"storage-item-content",children:[s.jsx("h3",{style:{color:"#D946EF"},children:"Campo de Contención Armónico"}),s.jsxs("p",{children:["Capacidad: +",t(1200,i)," energía máxima"]}),s.jsxs("p",{children:["Coste: ",t(k,i)," chatarra y ",t(T,i)," metal refinado"]}),s.jsxs("p",{children:["Construidos: ",G," | En cola: ",x.queue," ",x.queue>0?`| Tiempo: ~${U(x.queue*x.time)}`:""]}),s.jsx("p",{children:"Requisitos: 3 Acumuladores de Plasma (solo para el primero)"}),x.queue>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"time-info",children:["T/U: ",x.time,"s | En cola: ",x.queue]}),s.jsx(L,{progress:x.progress,time:x.time})]}),s.jsxs("div",{className:"build-actions",children:[s.jsxs(w,{onClick:Z,disabled:e<k||o<T||g<3&&!a.harmonicContainmentField,tooltipText:f([{amount:k,current:e,text:"Chatarra"},{amount:T,current:o,text:"Metal Refinado"},{amount:3,current:g,text:"Acumuladores de Plasma"}],i),className:`build-button ${e>=k&&o>=T&&(g>=3||a.harmonicContainmentField)?"unlocked":""}`,style:{backgroundColor:e>=k&&o>=T&&(g>=3||a.harmonicContainmentField)?"#D946EF":"#9CA3AF"},children:["Encargar Campo de Contención ",N==="max"&&`(${ts})`]}),x.queue>0&&s.jsx(R,{itemName:"harmonicContainmentField",onCancel:$})]}),g<3&&!a.harmonicContainmentField&&s.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Acumuladores de Plasma"})]}),s.jsx("img",{src:ps,alt:"Campo de Contención Armónico",className:"storage-item-image"})]})]})})});export{$s as default};
