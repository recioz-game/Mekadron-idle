import{R as ce,j as e,f as n,d as Z}from"./index-5b1e887f.js";import{B as oe,Q as u}from"./QueueControls-8003cb5f.js";import{B as N}from"./BotonConTooltip-01b3c545.js";import{u as de}from"./useDragToScroll-42566c8e.js";const te=""+new URL("drone-basic-85491f9f.png",import.meta.url).href,le=""+new URL("drone-medium-fd303461.png",import.meta.url).href,me=""+new URL("drone-advanced-474a19f4.png",import.meta.url).href,xe=""+new URL("drone-expedition-cdc67b44.png",import.meta.url).href,he=""+new URL("drone-reinforced-basic-d13b19bd.png",import.meta.url).href,pe=""+new URL("drone-reinforced-medium-4a10a63f.png",import.meta.url).href,je=""+new URL("drone-reinforced-advanced-f52beac6.png",import.meta.url).href,fe=""+new URL("drone-expedition-v2-cdfeb4b3.png",import.meta.url).href,ve=""+new URL("drone-golem-bb288f4d.png",import.meta.url).href,Ne=""+new URL("drone-wyrm-2cd90d83.png",import.meta.url).href,E=({progress:M,time:B})=>e.jsx("div",{className:"progress-bar-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${M/B*100}%`}})}),Ee=ce.memo(({resources:M,bodegaResources:B,drones:i,queues:s,upgrades:c,onBuildBasicDrone:U,onBuildMediumDrone:P,onBuildAdvancedDrone:S,onBuildReinforcedBasic:G,onBuildReinforcedMedium:O,onBuildReinforcedAdvanced:I,onBuildGolemDrone:V,onBuildExpeditionDrone:y,onBuildExpeditionV2Drone:W,onBuildWyrm:Q,onDismantle:t,onRetrofit:z,buyAmount:o,onSetBuyAmount:T,onClose:X,onCancel:l,numberFormat:r})=>{const{scrap:a}=M,{metalRefinado:d,aceroEstructural:k}=B||{},J=de(),w=20,A=300,b=1500,m={scrap:600,metal:5},x={scrap:2500,metal:15},h={scrap:7e3,metal:30},p={scrap:3e3,metal:20},j={scrap:15e3,metal:100},f={scrap:75e3,steel:5},v={scrap:2e5,steel:15},g=C=>{const Y=C.scrap>0?Math.floor(a/C.scrap):1/0,L=C.metal&&C.metal>0?Math.floor(d/C.metal):1/0,$=C.steel&&C.steel>0?Math.floor(k/C.steel):1/0;return Math.min(Y,L,$)},K=g({scrap:w}),_=g({scrap:A}),F=g({scrap:b}),q=g(m),ee=g(x),se=g(h),ie=g(p),re=g(j),ae=g(f),ne=g(v),D=(C,Y)=>{const L=C.filter($=>$.current<$.amount);return L.length===0?"":"Requiere: "+L.map($=>`${$.text} (${n($.amount,Y)})`).join(", ")};return e.jsx("div",{className:"workshop-container",children:e.jsxs("div",{className:"workshop-content-area",ref:J,children:[e.jsx("button",{onClick:X,className:"close-button",children:"×"}),e.jsxs("div",{className:"drone-category",style:{borderColor:"#F59E0B"},children:[e.jsx("h3",{style:{color:"#F59E0B"},children:"DRONES DE RECICLADO"}),e.jsx(oe,{buyAmount:o,onSetBuyAmount:T}),e.jsxs("div",{className:`drone-item ${a>=w?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#F59E0B"},children:"Dron Básico de Reciclado (DBR)"}),e.jsxs("p",{children:["Producción: +",n(1,r)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",n(1,r)," energía"]}),e.jsxs("p",{children:["Coste: ",n(w,r)," chatarra"]}),e.jsxs("p",{children:["Flota: ",i.basic," | En cola: ",s.basic.queue]})]}),e.jsxs("div",{className:"controls-container",children:[e.jsx(R,{upgrades:c,droneType:"basic",onDismantle:t,droneCount:i.basic,buyAmount:o}),e.jsx(H,{resources:M,bodegaResources:B,upgrades:c,droneType:"basic",toDrone:"medium",onRetrofit:z,droneCount:i.basic,numberFormat:r})]}),s.basic.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.basic.time,"s | En cola: ",s.basic.queue]}),e.jsx(E,{progress:s.basic.progress,time:s.basic.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:U,disabled:a<w,tooltipText:D([{resource:"scrap",amount:w,current:a,text:"Chatarra"}],r),className:`build-button ${a>=w?"unlocked":""}`,children:["Encargar Dron Básico ",o==="max"&&`(${K})`]}),s.basic.queue>0&&e.jsx(u,{itemName:"basic",onCancel:l})]})]}),e.jsx("img",{src:te,alt:"Dron Básico",className:"drone-item-image"})]}),e.jsxs("div",{className:`drone-item ${a>=A&&i.basic>=10?"unlocked":""} ${i.basic>=10?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#06B6D4"},children:"Dron Medio de Reciclado (DMR)"}),e.jsxs("p",{children:["Producción: +",n(5,r)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",n(3,r)," energía"]}),e.jsxs("p",{children:["Coste: ",n(A,r)," chatarra"]}),e.jsxs("p",{children:["Flota: ",i.medium," | En cola: ",s.medium.queue]}),e.jsx("p",{children:"Requisitos: 10 Drones Básicos"})]}),e.jsxs("div",{className:"controls-container",children:[e.jsx(R,{upgrades:c,droneType:"medium",onDismantle:t,droneCount:i.medium,buyAmount:o}),e.jsx(H,{resources:M,bodegaResources:B,upgrades:c,droneType:"medium",toDrone:"advanced",onRetrofit:z,droneCount:i.medium,numberFormat:r})]}),s.medium.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.medium.time,"s | En cola: ",s.medium.queue]}),e.jsx(E,{progress:s.medium.progress,time:s.medium.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:P,disabled:a<A||i.basic<10,tooltipText:D([{amount:A,current:a,text:"Chatarra"},{amount:10,current:i.basic,text:"Drones Básicos"}],r),className:`build-button ${a>=A&&i.basic>=10?"unlocked":""}`,children:["Encargar Dron Medio ",o==="max"&&`(${_})`]}),s.medium.queue>0&&e.jsx(u,{itemName:"medium",onCancel:l})]}),i.basic<10&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 10 Drones Básicos para desbloquear"})]}),e.jsx("img",{src:le,alt:"Dron Medio",className:"drone-item-image"})]}),e.jsxs("div",{className:`drone-item ${a>=b&&i.medium>=3?"unlocked":""} ${i.medium>=3?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#22C55E"},children:"Dron Avanzado de Reciclado (DAR)"}),e.jsxs("p",{children:["Producción: +",n(20,r)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",n(5,r)," energía"]}),e.jsxs("p",{children:["Coste: ",n(b,r)," chatarra"]}),e.jsxs("p",{children:["Flota: ",i.advanced," | En cola: ",s.advanced.queue]}),e.jsx("p",{children:"Requisitos: 3 Drones Medios"})]}),e.jsx("div",{className:"controls-container",children:e.jsx(R,{upgrades:c,droneType:"advanced",onDismantle:t,droneCount:i.advanced,buyAmount:o})}),s.advanced.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.advanced.time,"s | En cola: ",s.advanced.queue]}),e.jsx(E,{progress:s.advanced.progress,time:s.advanced.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:S,disabled:a<b||i.medium<3,tooltipText:D([{amount:b,current:a,text:"Chatarra"},{amount:3,current:i.medium,text:"Drones Medios"}],r),className:`build-button ${a>=b&&i.medium>=3?"unlocked":""}`,children:["Encargar Dron Avanzado ",o==="max"&&`(${F})`]}),s.advanced.queue>0&&e.jsx(u,{itemName:"advanced",onCancel:l})]}),i.medium<3&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 3 Drones Medios para desbloquear"})]}),e.jsx("img",{src:me,alt:"Dron Avanzado",className:"drone-item-image"})]})]}),e.jsxs("div",{className:"drone-category",style:{borderColor:"#10B981"},children:[e.jsx("h3",{style:{color:"#10B981"},children:"DRONES DE EXPEDICIÓN"}),e.jsxs("div",{className:`drone-item ${a>=p.scrap&&d>=p.metal&&i.advanced>=2?"unlocked":""} ${i.advanced>=2?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#10B981"},children:"Dron de Expedición (DE-1)"}),e.jsx("p",{children:"Función: Realiza expediciones para obtener recursos especiales"}),e.jsxs("p",{children:["Consumo: ",n(2,r)," energía (en expediciones)"]}),e.jsxs("p",{children:["Coste: ",n(p.scrap,r)," chatarra, ",n(p.metal,r)," metal refinado"]}),e.jsx("p",{children:"Requisitos: 2 Drones Avanzados"}),e.jsxs("p",{children:["Flota: ",i.expeditionDrone," | En cola: ",s.expeditionDrone.queue]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(R,{upgrades:c,droneType:"expeditionDrone",onDismantle:t,droneCount:i.expeditionDrone,buyAmount:o})}),s.expeditionDrone.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.expeditionDrone.time,"s | En cola: ",s.expeditionDrone.queue]}),e.jsx(E,{progress:s.expeditionDrone.progress,time:s.expeditionDrone.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:y,disabled:a<p.scrap||d<p.metal||i.advanced<2,tooltipText:D([{amount:p.scrap,current:a,text:"Chatarra"},{amount:p.metal,current:d,text:"Metal Refinado"},{amount:2,current:i.advanced,text:"Drones Avanzados"}],r),className:`build-button ${a>=p.scrap&&d>=p.metal&&i.advanced>=2?"unlocked":""}`,children:["Encargar Dron de Expedición ",o==="max"&&`(${ie})`]}),s.expeditionDrone.queue>0&&e.jsx(u,{itemName:"expeditionDrone",onCancel:l})]}),i.advanced<2&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 2 Drones Avanzados para desbloquear"})]}),e.jsx("img",{src:xe,alt:"Dron de Expedición",className:"drone-item-image"})]}),e.jsxs("div",{className:`drone-item ${a>=j.scrap&&d>=j.metal&&i.expeditionDrone>=5?"unlocked":""} ${i.expeditionDrone>=5?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#059669"},children:"Dron de Expedición v2 (DE-2)"}),e.jsx("p",{children:"Función: Realiza expediciones avanzadas para obtener recursos raros"}),e.jsxs("p",{children:["Consumo: ",n(5,r)," energía (en expediciones)"]}),e.jsxs("p",{children:["Coste: ",n(j.scrap,r)," chatarra, ",n(j.metal,r)," metal refinado"]}),e.jsx("p",{children:"Requisitos: 5 Drones de Expedición"}),e.jsxs("p",{children:["Flota: ",i.expeditionV2Drone," | En cola: ",s.expeditionV2Drone.queue]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(R,{upgrades:c,droneType:"expeditionV2Drone",onDismantle:t,droneCount:i.expeditionV2Drone,buyAmount:o})}),s.expeditionV2Drone.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.expeditionV2Drone.time,"s | En cola: ",s.expeditionV2Drone.queue]}),e.jsx(E,{progress:s.expeditionV2Drone.progress,time:s.expeditionV2Drone.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:W,disabled:a<j.scrap||d<j.metal||i.expeditionDrone<5,tooltipText:D([{amount:j.scrap,current:a,text:"Chatarra"},{amount:j.metal,current:d,text:"Metal Refinado"},{amount:5,current:i.expeditionDrone,text:"Drones de Expedición"}],r),className:`build-button ${a>=j.scrap&&d>=j.metal&&i.expeditionDrone>=5?"unlocked":""}`,children:["Encargar Dron de Expedición v2 ",o==="max"&&`(${re})`]}),s.expeditionV2Drone.queue>0&&e.jsx(u,{itemName:"expeditionV2Drone",onCancel:l})]}),i.expeditionDrone<5&&e.jsx("p",{className:"requirement-warning",children:"⚠️ Necesitas 5 Drones de Expedición para desbloquear"})]}),e.jsx("img",{src:fe,alt:"Dron de Expedición v2",className:"drone-item-image"})]})]}),(c.reinforcedBasicDrones>0||c.reinforcedMediumDrones>0||c.reinforcedAdvancedDrones>0)&&e.jsxs("div",{className:"drone-category",style:{borderColor:"#8B5CF6"},children:[e.jsx("h3",{style:{color:"#8B5CF6"},children:"DRONES REFORZADOS"}),c.reinforcedBasicDrones>0&&e.jsxs("div",{className:`drone-item ${a>=m.scrap&&d>=m.metal?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Básico Reforzado (DBR-F)"}),e.jsxs("p",{children:["Producción: +",n(8,r)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",n(3,r)," energía"]}),e.jsxs("p",{children:["Coste: ",n(m.scrap,r)," chatarra, ",n(m.metal,r)," metal refinado"]}),e.jsxs("p",{children:["Flota: ",i.reinforcedBasic," | En cola: ",s.reinforcedBasic.queue]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(R,{upgrades:c,droneType:"reinforcedBasic",onDismantle:t,droneCount:i.reinforcedBasic,buyAmount:o})}),s.reinforcedBasic.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.reinforcedBasic.time,"s | En cola: ",s.reinforcedBasic.queue]}),e.jsx(E,{progress:s.reinforcedBasic.progress,time:s.reinforcedBasic.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:G,disabled:a<m.scrap||d<m.metal,tooltipText:D([{amount:m.scrap,current:a,text:"Chatarra"},{amount:m.metal,current:d,text:"Metal Refinado"}],r),className:`build-button ${a>=m.scrap&&d>=m.metal?"unlocked":""}`,children:["Encargar Dron Básico Reforzado ",o==="max"&&`(${q})`]}),s.reinforcedBasic.queue>0&&e.jsx(u,{itemName:"reinforcedBasic",onCancel:l})]})]}),e.jsx("img",{src:he,alt:"Dron Básico Reforzado",className:"drone-item-image"})]}),c.reinforcedMediumDrones>0&&e.jsxs("div",{className:`drone-item ${a>=x.scrap&&d>=x.metal?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Medio Reforzado (DMR-F)"}),e.jsxs("p",{children:["Producción: +",n(25,r)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",n(6,r)," energía"]}),e.jsxs("p",{children:["Coste: ",n(x.scrap,r)," chatarra, ",n(x.metal,r)," metal refinado"]}),e.jsxs("p",{children:["Flota: ",i.reinforcedMedium," | En cola: ",s.reinforcedMedium.queue]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(R,{upgrades:c,droneType:"reinforcedMedium",onDismantle:t,droneCount:i.reinforcedMedium,buyAmount:o})}),s.reinforcedMedium.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.reinforcedMedium.time,"s | En cola: ",s.reinforcedMedium.queue]}),e.jsx(E,{progress:s.reinforcedMedium.progress,time:s.reinforcedMedium.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:O,disabled:a<x.scrap||d<x.metal,tooltipText:D([{amount:x.scrap,current:a,text:"Chatarra"},{amount:x.metal,current:d,text:"Metal Refinado"}],r),className:`build-button ${a>=x.scrap&&d>=x.metal?"unlocked":""}`,children:["Encargar Dron Medio Reforzado ",o==="max"&&`(${ee})`]}),s.reinforcedMedium.queue>0&&e.jsx(u,{itemName:"reinforcedMedium",onCancel:l})]})]}),e.jsx("img",{src:pe,alt:"Dron Medio Reforzado",className:"drone-item-image"})]}),c.reinforcedAdvancedDrones>0&&e.jsxs("div",{className:`drone-item ${a>=h.scrap&&d>=h.metal?"unlocked":""}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#A78BFA"},children:"Dron Avanzado Reforzado (DAR-F)"}),e.jsxs("p",{children:["Producción: +",n(80,r)," chatarra/segundo"]}),e.jsxs("p",{children:["Consumo: ",n(12,r)," energía"]}),e.jsxs("p",{children:["Coste: ",n(h.scrap,r)," chatarra, ",n(h.metal,r)," metal refinado"]}),e.jsxs("p",{children:["Flota: ",i.reinforcedAdvanced," | En cola: ",s.reinforcedAdvanced.queue]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(R,{upgrades:c,droneType:"reinforcedAdvanced",onDismantle:t,droneCount:i.reinforcedAdvanced,buyAmount:o})}),s.reinforcedAdvanced.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.reinforcedAdvanced.time,"s | En cola: ",s.reinforcedAdvanced.queue]}),e.jsx(E,{progress:s.reinforcedAdvanced.progress,time:s.reinforcedAdvanced.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:I,disabled:a<h.scrap||d<h.metal,tooltipText:D([{amount:h.scrap,current:a,text:"Chatarra"},{amount:h.metal,current:d,text:"Metal Refinado"}],r),className:`build-button ${a>=h.scrap&&d>=h.metal?"unlocked":""}`,children:["Encargar Dron Avanzado Reforzado ",o==="max"&&`(${se})`]}),s.reinforcedAdvanced.queue>0&&e.jsx(u,{itemName:"reinforcedAdvanced",onCancel:l})]})]}),e.jsx("img",{src:je,alt:"Dron Avanzado Reforzado",className:"drone-item-image"})]})]}),(c.golemChassis>0||c.wyrm>0)&&e.jsxs("div",{className:"drone-category",style:{borderColor:"#F43F5E"},children:[e.jsx("h3",{style:{color:"#F43F5E"},children:"DRONES DE ÉLITE"}),c.golemChassis>0&&e.jsxs("div",{className:`drone-item ${a>=f.scrap&&k>=f.steel&&i.reinforcedAdvanced>=5?"unlocked":""} ${i.reinforcedAdvanced>=5?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#F43F5E"},children:"Dron Golem (DG-1)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Descripción:"})," Un chasis masivo diseñado para procesar chatarra. Consume Chatarra para producir Metal Refinado de forma pasiva."]}),e.jsxs("p",{children:["Consumo: ",n(50,r)," energía/segundo"]}),e.jsxs("p",{children:["Consume: ",n(500,r)," Chatarra/s | Produce: ",n(.5,r)," Metal Refinado/s"]}),e.jsxs("p",{children:["Coste: ",n(f.scrap,r)," chatarra, ",n(f.steel,r)," acero estructural"]}),e.jsx("p",{children:'Requisitos: 5 Drones Avanzados Reforzados Y la investigación "Chasis Golem"'}),e.jsxs("p",{children:["Flota: ",i.golem," | En cola: ",s.golem.queue]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(R,{upgrades:c,droneType:"golem",onDismantle:t,droneCount:i.golem,buyAmount:o})}),s.golem.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.golem.time,"s | En cola: ",s.golem.queue]}),e.jsx(E,{progress:s.golem.progress,time:s.golem.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:V,disabled:a<f.scrap||k<f.steel||i.reinforcedAdvanced<5||c.golemChassis===0,tooltipText:D([{amount:f.scrap,current:a,text:"Chatarra"},{amount:f.steel,current:k,text:"Acero Estructural"},{amount:5,current:i.reinforcedAdvanced,text:"Drones Avanzados Reforzados"},{amount:1,current:c.golemChassis,text:"Investigación: Chasis Golem"}],r),className:`build-button ${a>=f.scrap&&k>=f.steel&&i.reinforcedAdvanced>=5&&c.golemChassis>0?"unlocked":""}`,children:["Encargar Dron Golem ",o==="max"&&`(${ae})`]}),s.golem.queue>0&&e.jsx(u,{itemName:"golem",onCancel:l})]})]}),e.jsx("img",{src:ve,alt:"Dron Golem",className:"drone-item-image"})]})]}),c.golemChassis>0&&i.golem>=1&&e.jsxs("div",{className:`drone-item ${a>=v.scrap&&k>=v.steel&&i.golem>=1?"unlocked":""} ${i.golem>=1?"":"locked"}`,children:[e.jsxs("div",{className:"drone-item-content",children:[e.jsxs("div",{className:"drone-info",children:[e.jsx("h4",{className:"drone-title",style:{color:"#F43F5E"},children:"Dron Wyrm (DW-1)"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Descripción:"})," Una maravilla de la ingeniería. Consume Chatarra para sintetizar Acero Estructural de forma pasiva."]}),e.jsxs("p",{children:["Consumo: ",n(200,r)," energía/segundo"]}),e.jsxs("p",{children:["Consume: ",n(1e3,r)," Chatarra/s | Produce: ",n(.25,r)," Acero Estructural/s"]}),e.jsxs("p",{children:["Coste: ",n(v.scrap,r)," chatarra, ",n(v.steel,r)," acero estructural"]}),e.jsx("p",{children:"Requisitos: 1 Dron Golem"}),e.jsxs("p",{children:["Flota: ",i.wyrm," | En cola: ",s.wyrm.queue]})]}),e.jsx("div",{className:"controls-container",children:e.jsx(R,{upgrades:c,droneType:"wyrm",onDismantle:t,droneCount:i.wyrm,buyAmount:o})}),s.wyrm.queue>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"time-info",children:["T/U: ",s.wyrm.time,"s | En cola: ",s.wyrm.queue]}),e.jsx(E,{progress:s.wyrm.progress,time:s.wyrm.time})]}),e.jsxs("div",{className:"build-actions",children:[e.jsxs(N,{onClick:Q,disabled:a<v.scrap||k<v.steel||i.golem<1,tooltipText:D([{amount:v.scrap,current:a,text:"Chatarra"},{amount:v.steel,current:k,text:"Acero"},{amount:1,current:i.golem,text:"Drones Golem"}],r),className:`build-button ${a>=v.scrap&&k>=v.steel&&i.golem>=1?"unlocked":""}`,children:["Encargar Dron Wyrm ",o==="max"&&`(${ne})`]}),s.wyrm.queue>0&&e.jsx(u,{itemName:"wyrm",onCancel:l})]})]}),e.jsx("img",{src:Ne,alt:"Dron Wyrm",className:"drone-item-image"})]})]})})}),R=({upgrades:M,droneType:B,droneCount:i,buyAmount:s,onDismantle:c})=>M.reassignProtocols?e.jsx("button",{onClick:()=>c(B,s),disabled:i<=0,style:{padding:"0.5rem",backgroundColor:i>0?"#EF4444":"#374151",color:"white",border:"none",borderRadius:"4px",cursor:i>0?"pointer":"not-allowed",fontSize:"0.8rem",width:"100px"},children:"Desmantelar"}):null,H=({resources:M,bodegaResources:B,upgrades:i,droneType:s,toDrone:c,droneCount:U,onRetrofit:P,numberFormat:S})=>{var z,o;if(!i.droneRetrofitting)return e.jsx("div",{style:{width:"100px"}});const G=((z=Z[s])==null?void 0:z.cost)||{},O=((o=Z[c])==null?void 0:o.cost)||{},I={};let V=!0,y="Reacondicionar: ";const W={...M,...B},Q=Object.entries(O);for(const[T,X]of Q){const l=G[T]||0,r=X-l;r>0&&(I[T]=r,W[T]<r&&(V=!1),y+=`${n(r,S)} ${T}, `)}Object.keys(I).length===0?y="Mejora gratuita":y=y.slice(0,-2);const t=U>0&&V;return e.jsx(N,{onClick:()=>P(s,c),disabled:!t,tooltipText:U>0?y:"No hay drones para reacondicionar",className:`build-button retrofit-button ${t?"unlocked":""}`,children:"Mejorar"})};export{Ee as default};
